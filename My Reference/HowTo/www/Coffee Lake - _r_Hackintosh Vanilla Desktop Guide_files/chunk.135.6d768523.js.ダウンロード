(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[135],{1011:function(e,t,n){"use strict";var r,o,a,i=n(0),c=n.n(i),s=n(3),l=(n(4),n(145)),u=n(79),d=n(1),m=n(6),p=(n(10),n(817)),b=n(154),g=n(604),f=n(210),h=n(1060),E=n(21),y=n(28),S=n(9),O=n(1082);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T={name:{id:"StarterTemplate.Blank.name",defaultMessage:"Blank"},description:{id:"StarterTemplate.Blank.description",defaultMessage:"Start from an empty page."},Icon:S.T};let k=d.m.connect(["primary"])((a=o=class e extends c.a.Component{constructor(){super(...arguments),v(this,"onClick",()=>{const e=this.props,t=e.onClick,n=e.template;t(n.create&&n.create())})}render(){const t=this.props,n=t.colorPrimary,r=t.template,o=r.name,a=r.description,i=r.Icon,s=e.STYLES;return c.a.createElement(d.i,{styles:[s.starterTemplateBlock],onClick:this.onClick},c.a.createElement(d.i.Body,null,c.a.createElement(d.i.Title,{icon:c.a.createElement(i,{style:{color:n}})},o.defaultMessage),c.a.createElement(d.i.Hint,null,a.defaultMessage)))}},v(o,"STYLES",s.StyleSheet.create({starterTemplateBlock:{padding:d.ob.S100,justifySelf:"stretch",alignSelf:"stretch",alignItems:"flex-start"}})),r=a))||r;class C extends c.a.Component{constructor(){super(...arguments),v(this,"state",{dismissed:!1}),v(this,"dismiss",()=>{const e=this.props,t=e.editorState,n=e.onChange;this.setState({dismissed:!0}),n(t.change())}),v(this,"insertBlocks",e=>{const t=this.props,n=t.onChange,r=t.editorState,o=r.change();e.forEach((e,t)=>o.insertNodeByKey(r.document.key,t,e)),o.collapseToStartOf(o.value.document).focus(),n(o)})}render(){const e=this.state.dismissed,t=C.STYLES;return e?null:c.a.createElement(d.gb,{styles:[t.starterTemplate]},c.a.createElement(d.eb,{styles:[t.starterTemplateHeadline]},c.a.createElement(y.b,{id:"StarterTemplate.title",defaultMessage:"Or get started with a template:"})),c.a.createElement(d.gb,{styles:[t.starterTemplateGrid]},O.a.map(e=>c.a.createElement(k,{key:e.name.id,template:e,onClick:this.insertBlocks})),c.a.createElement(k,{template:T,onClick:this.dismiss})))}}v(C,"STYLES",s.StyleSheet.create({starterTemplate:{marginTop:d.ob.S200,paddingBottom:d.ob.S300},starterTemplateHeadline:{cursor:"default",userSelect:"none"},starterTemplateGrid:{marginTop:d.ob.S300,display:"grid",gridColumnGap:d.ob.S300,gridRowGap:d.ob.S300,gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"auto",[`@media ${d.G.SMALLER_THAN_DESKTOP}`]:{gridTemplateColumns:"repeat(2, 1fr)"},[`@media ${d.G.SMALLER_THAN_MOBILE}`]:{gridTemplateColumns:"100%"}},starterTemplateGridItem:{width:"100%"}}));var A,I,L,x=C,R=n(693);class D extends i.Component{render(){const e=this.props,t=e.root,n=e.pages,r=e.readOnly,o=D.STYLES;return i.createElement(d.gb,{styles:o.emptyPageSummary},n.map(e=>i.createElement(R.b,{key:e.uid,page:e,readOnly:r,root:t,inSummary:!0})))}}A=D,I="STYLES",L=s.StyleSheet.create({emptyPageSummary:{margin:`${d.ob.S300}px 0`,width:"100%",display:"grid",marginBottom:d.ob.S300,gridTemplateColumns:`\n                calc(50% - ${d.ob.S100}px)\n                calc(50% - ${d.ob.S100}px)\n            `,gridTemplateRows:"auto",gridColumnGap:d.ob.S300,gridRowGap:d.ob.S300,justifyContent:"center",[`@media ${d.G.SMALLER_THAN_DESKTOP}`]:{gridTemplateColumns:"100%"}}}),I in A?Object.defineProperty(A,I,{value:L,enumerable:!0,configurable:!0,writable:!0}):A[I]=L;var w=D;class _ extends i.Component{render(){const e=this.props,t=e.page,n=e.root,r=_.STYLES;return t.pages.size>0?i.createElement(d.gb,{styles:r.blankslateContainer},i.createElement(d.gb,{styles:r.blankslateToCText},i.createElement(d.eb,null,i.createElement(y.b,{id:"DocumentView.blankslateToCText",defaultMessage:"Here are the articles in this section:"}))),i.createElement(w,{root:n,pages:t.pages,readOnly:!0})):i.createElement(d.gb,{styles:[d.gb.PADDING.S800,r.blankslateEmptyPage]},i.createElement(d.eb.TextH500,null,i.createElement(y.b,{id:"DocumentView.blankslateEmptyPage",defaultMessage:"This page is empty."})))}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(_,"STYLES",s.StyleSheet.create({blankslateContainer:{padding:`${d.ob.S500}px 0`},blankslateToCText:{colors:d.kb.GREY_DARKER,margin:`0 0 ${d.ob.S100}px 0`},blankslateEmptyPage:{textAlign:"center",background:d.kb.GREY_LIGHTEST,color:d.kb.GREY_BASE}}));var P=_;const M=s.StyleSheet.create({DOCUMENT_START:{cursor:"text",height:d.ob.S400,marginTop:-d.ob.S400},DOCUMENT_END:{cursor:"text",flex:1,height:d.ob.S400,marginBottom:-d.ob.S400}});var j=function(e){const t=e.focusAt,n=e.onChange,r=e.value;return i.createElement(d.gb,{role:"presentation",styles:M[t],onClick:()=>{n(m.D(r.change(),t))}})},B=n(1003),H=n.n(B),G=n(37);var N=function(e){const t=e.page,n=e.revision,r=e.version,o=e.headingIDs,a=e.children,c=i.useMemo(()=>({page:t,revision:n,version:r}),[t,n,r]),s=i.useMemo(()=>({headingIDs:o}),[o]);return i.createElement(H.a.Provider,null,i.createElement(G.d.Provider,{value:c},i.createElement(G.a.Provider,{value:s},a)))},K=n(27),$=n.n(K);var U=function(e,t){return $()("mod+z",e)||$()("mod+y",e)?(e.preventDefault(),t):null};var Y=function(e,t){return i.useCallback(n=>{const r=n.oldIndex,o=n.newIndex,a=e.document.nodes.get(r);t(e.change().moveNodeByKey(a.key,e.document.key,o))},[e,t])};var F=function(e,t,n,r,o){i.useEffect(()=>{const e=document.activeElement;r||n||t.isFocused||e&&"INPUT"===e.tagName||!o.current||o.current.focus()},[e.uid,n])},q=n(25),z=n(331);var W,Q=function(e,t,n){const r=Object(E.e)(),o=i.useRef(e);return i.useEffect(()=>{o.current=e},[e]),i.useCallback((e,a,i)=>{const c=function(e,t,n){if(0!==e.indexOf(t))return null;const r=Object(q.g)(e.slice(t.length)).pageURL;return r?n.page.getByURL(r):null}(i,r,n);return c&&function(e,t,n){const r=e.value.document.getParent(t);m.x(r,m.e.PAGE_REF)&&m.r.replaceWithPageRef(e,t,n).call(e=>m.z(e,t))}(e,a,c),async function(e,t,n,r){const o=await Object(z.d)(t),a=o?m.n.createImage({src:t}):m.i.create(t),i=n.current;if(!i)return;const c=i.document.getParent(e);c&&m.x(c,o?m.e.IMAGE:m.e.EMBED)&&i.document.hasDescendant(e)&&r(i.change().replaceNodeByKey(e,a))}(a,i,o,t),null},[n,r,t])};function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const X=s.StyleSheet.create({container:{position:"relative",marginBottom:-d.ob.S300},containerEdition:{flex:1,display:"flex",flexDirection:"column",paddingTop:0}});let J=Object(u.SortableContainer)(W=class extends i.PureComponent{render(){const e=this.props,t=e.editorRef,n=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["editorRef"]);return i.createElement(l.Editor,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){V(e,t,n[t])})}return e}({},n,{ref:t}))}})||W;var Z=function(e){const t=e.page,n=e.version,r=e.revision,o=e.value,a=e.headingIDs,c=e.onDocumentChange,s=e.onChange,l=e.isDiff,u=e.isConflictResolution,y=d.Z.useIsLoading(),S=Object(E.h)().createAsset,O=null!==t.documentURL,v=m.N(o.document),T=y||e.readOnly,k=Q(o,s,n),C=Y(o,s),A=i.useRef();F(t,o,T,y,A);const I=[l,u,k,S],L=i.useMemo(()=>(function(e,t,n,r){return e?[g.a.plugin]:[g.a.plugin,...m.b.plugins,m.i.insertURLPlugin(n),t?m.d.pluginResolution:m.d.pluginNormal,...m.W,Object(h.a)({createAsset:r})]})(...I),I);return i.createElement(N,{page:t,version:n,revision:r,headingIDs:a},i.createElement(d.gb,{"data-editioncontainer":!0,styles:[X.container,!T&&X.containerEdition]},!T&&i.createElement(j,{onChange:s,value:o,focusAt:"DOCUMENT_START"}),T&&!O?i.createElement(P,{root:n.page,page:t}):i.createElement(J,{editorRef:A,renderNode:p.b,renderMark:p.a,plugins:L,readOnly:T,value:o,onChange:s,onKeyDown:U,onDocumentChange:c,onSortEnd:C,axis:"y",lockAxis:"y",lockOffset:[0,0],useDragHandle:!0}),!T&&v&&i.createElement(x,{editorState:o,onChange:s}),!T&&i.createElement(j,{onChange:s,value:o,focusAt:"DOCUMENT_END"}),!T&&f.b.shouldOpen(o)&&i.createElement(f.b,{version:n,page:t,readOnly:T,editorState:o,onChange:s}),!T&&i.createElement(b.f,{value:o,onChange:s})))};t.a=Z},1035:function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(26),i=n(1),c=n(9),s=n(371);const l=i.ob.S200,u=o.StyleSheet.create({openButton:{position:"fixed",bottom:l,left:l,borderRadius:56,padding:i.ob.S200,fontSize:32,color:i.kb.WHITE,background:i.kb.BLUE_DARKEST,display:"none",zIndex:i.rb.CONTROLS_CENTER,boxShadow:i.jb.SHADOW_DARK_HIGH,[`@media ${i.G.SMALLER_THAN_TABLET_LANDSCAPE}`]:{display:"block"}}});function d(e){const t=e.userID,n=e.controlsCenter,o=Object(a.d)(s.c)[0];return r.createElement(i.S,{palette:"dark"},r.createElement(i.gb,{styles:[u.openButton],onClick:()=>{n.canBeOpened?n.toggle():o.open(t)}},r.createElement(c.qc,null)))}d.HEIGHT=56,d.SPACING=l,t.a=d},154:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"ALL",function(){return z}),n.d(r,"PARAGRAPH",function(){return R}),n.d(r,"H1",function(){return D}),n.d(r,"H2",function(){return w}),n.d(r,"H3",function(){return _}),n.d(r,"UL_LIST",function(){return P}),n.d(r,"OL_LIST",function(){return M}),n.d(r,"TASK_LIST",function(){return j}),n.d(r,"CODE_BLOCK",function(){return B}),n.d(r,"BLOCKQUOTE",function(){return H}),n.d(r,"IMAGE",function(){return G}),n.d(r,"TABLE",function(){return N}),n.d(r,"HINT",function(){return K}),n.d(r,"PAGE_REF",function(){return $}),n.d(r,"API_METHOD",function(){return U}),n.d(r,"TABS",function(){return Y}),n.d(r,"MATH",function(){return F}),n.d(r,"FILE",function(){return q});var o=n(0),a=n(3),i=n(1),c=n(300);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends o.Component{constructor(){super(...arguments),s(this,"state",{hovered:!1}),s(this,"onMouseEnter",()=>{this.setState({hovered:!0})}),s(this,"onMouseLeave",()=>{this.setState({hovered:!1})}),s(this,"onMouseDown",e=>{const t=this.props,n=t.onClick,r=t.command;e.preventDefault(),e.stopPropagation(),n(r)})}render(){const e=l.STYLES,t=this.props,n=t.command,r=t.active,a=t.selected,s=this.state.hovered,d=n.Icon,m=n.shortcut,p=n.title;return o.createElement(i.K.Item,{active:r||a||s,styles:[e.commandItem],onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseDown:this.onMouseDown,icon:o.createElement(d,null),hint:m&&o.createElement(c.a,{shortcut:m})},o.createElement(u,{text:p,visible:a||s,autoMd:n.autoMd}))}}s(l,"STYLES",a.StyleSheet.create({commandItem:{whiteSpace:"pre"}}));class u extends o.Component{render(){const e=u.STYLES,t=this.props,n=t.text,r=t.autoMd,a=t.visible;if(!r)return n;const c=r(n).split(n),s=c[0],l=c[1];return o.createElement(o.Fragment,null,o.createElement(i.gb,{styles:[e.markdown,a&&e.visible]},s),n,o.createElement(i.gb,{styles:[e.markdown,a&&e.visible]},l))}}s(u,"STYLES",a.StyleSheet.create({markdown:{color:i.kb.GREY_BASE,display:"inline-flex",overflow:"hidden",whiteSpace:"pre",maxWidth:0,transition:i.qb.slowerEaseInOut("max-width")},visible:{maxWidth:40}}));var d,m,p,b=l;class g extends o.Component{render(){const e=g.STYLES,t=this.props,n=t.paletteState,r=t.onPick,a=t.activeType,c=n.getCurrentCommand(),s=(e,t)=>"SEPARATOR"===e?o.createElement(i.K.Divider,{key:`separator-${t}`}):o.createElement(b,{key:e.id,command:e,active:e.type===a,selected:e===c,onClick:r});if(n.query){const t=n.getFilteredCommands();return o.createElement(i.gb,{styles:[e.commandPalette]},o.createElement(i.K,null,t.size>0?t.map(s):o.createElement(i.K.Item,{styles:[e.noResults]},"No results")))}const l=n.getCommandLayout();return o.createElement(i.gb,{styles:[e.commandPalette]},l.map((t,n)=>o.createElement(o.Fragment,{key:n},o.createElement(i.K,null,t.map(s)),n<l.size-1&&o.createElement(i.gb,{styles:[e.verticalDivider]}))).toArray())}}d=g,m="STYLES",p=a.StyleSheet.create({commandPalette:{display:"flex",flexDirection:"row"},verticalDivider:{flex:"0 0 auto",marginTop:i.ob.S200,marginBottom:i.ob.S200,alignSelf:"stretch",background:i.kb.GREY_LIGHT,width:1},noResults:{color:i.kb.GREY_BASE,cursor:"auto",":hover":{backgroundColor:"transparent"}}}),m in d?Object.defineProperty(d,m,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[m]=p;var f=g;var h=function(e,t){let n=t.onPick,r=t.onCursorMove,o=t.onClose;"Enter"===e.key?(e.preventDefault(),n()):"ArrowRight"===e.key?(e.preventDefault(),r(1,0)):"ArrowLeft"===e.key?(e.preventDefault(),r(-1,0)):"ArrowDown"===e.key||"Tab"===e.key&&!e.shiftKey?(e.preventDefault(),r(0,1)):"ArrowUp"===e.key||"Tab"===e.key&&e.shiftKey?(e.preventDefault(),r(0,-1)):"Escape"==e.key&&(e.preventDefault(),o())},E=n(4),y=n(207),S=n.n(y),O=n(12),v=n(6),T=n(9),k=n(67);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=v.e;function I(e){return(t,n)=>n?v.K(t,e(t),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){C(e,t,n[t])})}return e}({},n,{focus:!0})):v.J(t,e(t))}function L(e){return function(t,n){return void 0===n&&(n={}),(n.nodes||(n.range?t.value.document.getBlocksAtRange(n.range):t.value.blocks)).forEach(e.bind(null,t)),t}}function x(e){return(t,n)=>t.setNodeByKey(n.key,{type:e,data:O.Data.create()})}const R={id:"Edition.paragraph",title:"Paragraph",type:A.PARAGRAPH,Icon:T.Nb,insertOperation:I(()=>({type:A.PARAGRAPH})),convertOperation:L(v.s.convertToParagraph)},D={id:"Edition.heading1",title:"Heading 1",type:A.HEADING_1,Icon:T.ib,shortcut:k.a.H1,insertOperation:I(()=>({type:A.HEADING_1})),convertOperation:L(x(A.HEADING_1)),autoMd:e=>`# ${e}`,tags:["h1"]},w={id:"Edition.heading2",title:"Heading 2",type:A.HEADING_2,Icon:T.jb,shortcut:k.a.H2,insertOperation:I(()=>({type:A.HEADING_2})),convertOperation:L(x(A.HEADING_2)),autoMd:e=>`## ${e}`,tags:["h2"]},_={id:"Edition.heading3",title:"Heading 3",type:A.HEADING_3,Icon:T.kb,insertOperation:I(()=>({type:A.HEADING_3})),convertOperation:L(x(A.HEADING_3)),autoMd:e=>`### ${e}`,tags:["h3"]},P={id:"Edition.listUnordered",title:"Bulleted list",type:A.UL_LIST,shortcut:k.a.UL_LIST,Icon:T.Cb,insertOperation:I(()=>v.p.create({ordered:!1})),autoMd:e=>`- ${e}`,tags:["ul","list"]},M={id:"Edition.listOrdered",title:"Ordered list",type:A.OL_LIST,shortcut:k.a.OL_LIST,Icon:T.Ab,insertOperation:I(()=>v.p.create({ordered:!0})),autoMd:e=>`1. ${e}`,tags:["ol"]},j={id:"Edition.listTasks",title:"Task list",type:A.UL_LIST,Icon:T.Bb,insertOperation:I(()=>v.p.create({task:!0})),autoMd:e=>`- [â€‚] ${e}`,tags:["check","todo"]},B={id:"Edition.codeBlock",title:"Code block",type:A.CODE,Icon:T.B,insertOperation:I(e=>{const t=v.c.getPreviousSyntax(e.value.document);return v.c.create({syntax:t.prism})}),autoMd:e=>`\`\`\` ${e}`},H={id:"Edition.blockquote",title:"Quote",type:A.BLOCKQUOTE,shortcut:k.a.BLOCKQUOTE,Icon:T.Sb,insertOperation:I(v.t.create),autoMd:e=>`> ${e}`},G={id:"Edition.image",title:"Image",type:A.IMAGE,Icon:T.qb,tags:["img"]},N={id:"Edition.table",title:"Table",type:A.TABLE,Icon:T.bc,insertOperation:I(e=>v.v.create()),tags:["table"]},K={id:"Edition.hint",title:"Hint",type:A.HINT,Icon:T.ub,insertOperation:I(v.m.create),tags:["warning","info","danger"]},$={id:"Edition.pageRef",title:"Page Link",type:A.PAGE_REF,Icon:T.Mb,tags:["page","reference","link"]},U={id:"Edition.apiMethod",title:"API Method",type:A.API_METHOD,Icon:T.g,insertOperation:I(v.a.create),tags:["api","method","rest","endpoint","http"]},Y={id:"Edition.tabs",title:"Tabs",type:A.TABS,Icon:T.cc,insertOperation:I(v.w.create),tags:["tab"]},F={id:"Edition.math",title:"Math Equation",type:A.MATH,Icon:T.Fb,insertOperation:I(()=>v.q.createBlock()),tags:["math","latex","tex","formula"],autoMd:e=>`$$ ${e}`},q={id:"Edition.file",title:"File",type:A.FILE,Icon:T.m,tags:["download","upload"]},z=[R,D,w,_,P,M,j,B,H,G,N,K,$,U,Y,F,q],W={shouldSort:!0,includeMatches:!0,threshold:.5,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["title","tags"]},Q=8,V=Object(E.OrderedSet)([R,D,w,_]).map(e=>e.id),X=Object(E.OrderedSet)([P,M,j]).map(e=>e.id),J=Object(E.OrderedSet)([H,K,B,G,N,$,U,Y,F,q]).map(e=>e.id);function Z(e,t,n){return Math.min(Math.max(e,t),n)}class ee extends(Object(E.Record)({query:"",cursor:0,commands:[],fuse:new S.a([],W)})){static create(e){return void 0===e&&(e=z),(new ee).updateAvailableCommands(e)}reset(){return this.merge({cursor:0,query:""})}updateAvailableCommands(e){return this.merge({commands:Object(E.List)(e),fuse:new S.a(e,W)})}getAvailableCommand(e){return this.commands.find(t=>t.id===e)}moveCursor(e,t){const n=this.query,r=this.cursor;if(n){const e=this.getFilteredCommands();return this.merge({cursor:Z(0,r+t,e.size-1)})}const o=this.getCommandLayout().flatten();let a=r+t+e*Q;a=Z(0,a,o.size-1);const i=this.merge({cursor:a});return"SEPARATOR"===i.getCurrentCommand()?i.moveCursor(0,t>0?1:-1):i}updateQuery(e){return this.merge({query:e,cursor:0})}getFilteredCommands(){const e=this.query,t=this.fuse;return e?Object(E.List)(t.search(e.trim().slice(0,W.maxPatternLength)).map(e=>{return e.item})):this.commands}getCommandLayout(){if(this.query)throw new Error("When commands are filtered, they should be displayed as a list, using `getFilteredCommands`");const e=this.commands,t=e=>t=>(function(e){if(V.has(e))return"heading";if(X.has(e))return"list";if(J.has(e))return"advanced";throw new Error(`Unknown command ${e}`)})(t.id)===e,n=e.filter(t("heading")),r=e.filter(t("list")),o=e.filter(t("advanced")),a=Object(E.List)().concat(n,n.isEmpty()||r.isEmpty()?[]:["SEPARATOR"],r,o);return Object(E.Range)(0,a.count(),Q).map(e=>a.slice(e,e+Q)).toList()}getCurrentCommand(){const e=this.query,t=this.cursor;return e?this.getFilteredCommands().get(t):this.getCommandLayout().flatten().get(t)}}var te=ee,ne=n(219);var re=class extends o.Component{constructor(e){super(e),this.keyMap=Object(E.Map)(z.filter(e=>Boolean(e.shortcut)).map(e=>[e.shortcut,this.executeCommand.bind(this,e)])).toObject()}executeCommand(e){const t=this.props,n=t.value,r=t.onChange,o=e.convertOperation&&v.F(n,e.type),a=e.insertOperation&&v.E(n,e.type);a&&a.replace?r(n.change().call(e.insertOperation,a)):o?r(n.change().call(e.convertOperation,{nodes:[o]})):a&&r(n.change().call(e.insertOperation,a))}render(){return o.createElement(ne.a,{keyMap:this.keyMap})}};function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const ae=a.StyleSheet.create({commandSearch:{display:"flex",alignItems:"center"},commandSearchWithBackground:{background:"white"},searchIcon:{flex:"0 0 auto",color:i.kb.GREY_BASE,fontSize:"18px",paddingRight:i.ob.S100},commandInput:{flex:"1 1 auto",width:"40vw",background:"none",border:"none",outline:"none",margin:0,padding:0,color:i.kb.GREY_DARKEST,"::placeholder":{color:i.kb.GREY_BASE}}});var ie=function(e){const t=e.withBackground,n=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["withBackground"]),r=o.useRef(null);return o.useEffect(()=>{r.current&&r.current.select()},[]),o.createElement(i.gb,{styles:[ae.commandSearch,t&&ae.commandSearchWithBackground]},o.createElement(i.gb,{styles:ae.searchIcon},o.createElement(T.Ub,null)),o.createElement("input",oe({ref:r,className:Object(a.css)(ae.commandInput,i.lb.KINDS.TextH400),placeholder:"Search for a card..."},n)))},ce=n(155),se=n(37);var le=function(e){const t=e.parent,n=e.editor,r=e.index,a=e.replace,i=Object(ce.useAssetsManagerActions)(),c=i.selectImage,s=i.selectFile,l=Object(se.l)().page,u=[t,n,l,r,a,c,s];return o.useMemo(()=>{const e=(e,t)=>{const n=v.r.createPageRef(l);return v.K(e,n,t)},o=(e,t)=>s({onPick:e=>{let r=e.assetID;v.V(n,e=>e.call(v.K,v.k.createFile({assetID:r}),t))}}),i=(e,t)=>c({onPick:e=>{let r=e.assetID;v.V(n,e=>e.call(v.K,v.n.createImage({assetID:r}),t))}});return c=>{const s=c.insertOperation||c.id===q.id&&o||c.id===G.id&&i||c.id===$.id&&e;v.V(n,e=>(s&&s(e,{parent:t,index:r,replace:a}),e.focus()))}},u)};n.d(t,"c",function(){return f}),n.d(t,"e",function(){return ie}),n.d(t,"f",function(){return re}),n.d(t,"d",function(){return te}),n.d(t,"b",function(){return b}),n.d(t,"g",function(){return h}),n.d(t,"a",function(){return r}),n.d(t,"h",function(){return le})},185:function(e,t,n){"use strict";var r=n(957);n.d(t,"b",function(){return r.a});var o=n(583);n.d(t,"a",function(){return o.a}),n.d(t,"c",function(){return o.b})},583:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(26),o=n(0),a=n(15),i=n(21),c=n(655),s=n(656);class l extends r.a{constructor(){var e,t,n;super(...arguments),n={opened:!1,currentTab:null},(t="state")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}}function u(e){return Object(c.c)(e)?"settings":Object(s.c)(e)?"insights":"content"}t.b=function(){const e=Object(i.i)().canEdit,t=Object(a.F)(),n=Object(r.e)(l)[0],c=n.state,s=c.opened,d=c.currentTab;return Object(o.useMemo)(()=>{const r=e=>{n.setState({opened:!0,currentTab:e||u(t.location.pathname)})},o=()=>{n.setState({opened:!1})};return{opened:!!e&&s,canBeOpened:e,tab:e?d:null,open:r,toggle:e=>{s?e&&e!==d?e&&r(e):o():r(e)},close:o}},[s,d,t,e])}},798:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});const r=72,o=222,a=r+o,i=r},812:function(e,t,n){e.exports=n.p+"images/64f25bfbc788e75a1d0f14315babe9b0.svg"},957:function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),a=n(66),i=n.n(a),c=n(29),s=n(3),l=n.n(s),u=n(13),d=n(1),m=n(39),p=n(798),b=n(812),g=n.n(b),f=n(1035),h=n(583);function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=Object(c.a)({chunkName:()=>"ControlsCenter",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(64).then(n.bind(null,1116)),requireSync(e){const t=this.resolve(e);return n(t)},resolve:()=>1116});function O(e){return{marginLeft:e,width:`calc(100% - ${e}px)`}}const v=s.StyleSheet.create({bodyWrapper:{width:"100%",minHeight:"100vh",color:d.kb.BLACK},controlsCenter:{display:"flex",position:"fixed",top:0,left:0,bottom:0,[`@media ${m.b}`]:{zIndex:d.rb.CONTROLS_CENTER},"@media print":{display:"none"}},body:E({position:"relative",minHeight:"100vh",borderTopLeftRadius:6,borderBottomLeftRadius:6,background:d.kb.GREY_LIGHTEST,boxShadow:"-3px 0px 10px 0px rgba(0,0,0,0.15)",transition:d.qb.fastEaseIn("margin-left")},O(p.a),{":before":{position:"fixed",bottom:0,content:'" "',width:d.jb.RADIUS_XLARGE,height:d.jb.RADIUS_XLARGE,background:`url(${g.a})`,zIndex:d.rb.HEADER+1,transform:"rotate(-90deg)"},":after":{position:"fixed",top:0,content:'" "',width:d.jb.RADIUS_XLARGE,height:d.jb.RADIUS_XLARGE,background:`url(${g.a})`,zIndex:d.rb.HEADER+1},"@media print":{boxShadow:"none",marginLeft:0},[`@media ${m.a}`]:{boxShadow:`-2px 0 15px 0 ${i()(d.kb.BLUE_DARKEST).fade(.5).string()}`},[`@media ${m.d}`]:E({borderTopLeftRadius:0,borderBottomLeftRadius:0},O(0),{":before":{display:"none"},":after":{display:"none"}})}),bodyWithControlsCenterOpenedAndExtended:{transition:d.qb.fastEaseOut("margin-left","width"),[`@media ${m.d}`]:E({},O(0)),[`@media ${m.a}`]:E({},O(p.b))},bodyContent:{width:"100%",margin:"0 auto",display:"flex",color:d.kb.GREY_DARKEST},bodyBackdrop:{zIndex:d.rb.CONTROLS_CENTER}});function T(e){const t=e.children,n=Object(h.b)(),o=Object(u.g)(),a=d.J.useMediaQuery(m.d),i=d.J.useMediaQuery(m.b);if(r.useEffect(()=>{a||n.open()},[a]),!o.isLoggedIn)return r.createElement(d.gb,{styles:[v.bodyWrapper]},t);return r.createElement(r.Fragment,null,r.createElement(d.gb,{styles:[v.bodyWrapper]},i&&r.createElement(d.f,{hidden:!n.opened,styles:[v.bodyBackdrop],onClick:()=>n.close()}),r.createElement(d.gb,{styles:[v.controlsCenter],onClick:e=>{a&&n.close()}},r.createElement(S,{controlsCenter:n})),r.createElement(d.gb,{styles:[v.body,n.opened&&v.bodyWithControlsCenterOpenedAndExtended]},r.createElement(d.gb,{styles:[v.bodyContent]},t))),a&&!n.opened&&r.createElement(f.a,{controlsCenter:n,userID:o.uid}))}t.a=T}).call(this,"/")}}]);