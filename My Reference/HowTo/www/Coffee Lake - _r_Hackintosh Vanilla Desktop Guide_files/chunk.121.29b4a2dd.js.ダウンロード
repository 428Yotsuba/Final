(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[121],{1082:function(e,t,n){"use strict";var o=n(14),r=n(9);var i={name:{id:"templates.Guide.name",defaultMessage:"Guide"},description:{id:"templates.Guide.description",defaultMessage:"Provide step by step instructions."},create:function(){return Object(o.a)("document",null,Object(o.a)("heading-1",null,"Getting Super Powers"),Object(o.a)("paragraph",null,"Becoming a super hero is a fairly straight forward process:"),Object(o.a)("code",null,Object(o.a)("code-tab",null,Object(o.a)("code-line",null,"$ give me super-powers"))),Object(o.a)("hint",{style:"info"},Object(o.a)("paragraph",null," Super-powers are granted randomly so please submit an issue if you're not happy with yours.")),Object(o.a)("paragraph",null,"Once you're strong enough, save the world:"),Object(o.a)("code",null,Object(o.a)("code-tab",null,Object(o.a)("code-line",null,"// Ain't no code for that yet, sorry"),Object(o.a)("code-line",null,"echo 'You got to trust me on this, I saved the world'")))).nodes},Icon:r.p},a=n(4),s=n(188),l=n.n(s),c=n(6);var d={name:{id:"templates.API.name",defaultMessage:"API"},description:{id:"templates.API.description",defaultMessage:"Help developers integrating with your API."},create:function(){return Object(a.List)([Object(o.a)("api-method",{method:c.a.METHODS.get("GET"),host:"https://api.cakes.com",path:"/v1/cakes/:id"},Object(o.a)("api-method-summary",null,"Get Cakes"),Object(o.a)("api-method-description",null,"This endpoint allows you to get free cakes."),Object(o.a)("api-method-spec",null,Object(o.a)("api-method-request",null,Object(o.a)("api-method-path-parameters",null,Object(o.a)("api-method-parameter",{name:"id",type:c.a.TYPES.STRING},"ID of the cake to get, for free of course.")),Object(o.a)("api-method-headers",null,Object(o.a)("api-method-parameter",{name:"Authentication",type:c.a.TYPES.STRING,required:!0},"Authentication token to track down who is emptying our stocks.")),Object(o.a)("api-method-query-parameters",null,Object(o.a)("api-method-parameter",{name:"recipe",type:c.a.TYPES.STRING},"The API will do its best to find a cake matching the provided recipe."),Object(o.a)("api-method-parameter",{name:"gluten",type:c.a.TYPES.BOOLEAN},"Whether the cake should be gluten-free or not."))),Object(o.a)("api-method-response",null,Object(o.a)("api-method-response-example",{httpCode:l.a.OK},Object(o.a)("api-method-response-example-description",null,"Cake successfully retrieved."),Object(o.a)("code",null,Object(o.a)("code-tab",{syntax:"javascript"},Object(o.a)("code-line",null,"{"),Object(o.a)("code-line",null,'    "name": "Cake\'s name",'),Object(o.a)("code-line",null,'    "recipe": "Cake\'s recipe name",'),Object(o.a)("code-line",null,'    "cake": "Binary cake"'),Object(o.a)("code-line",null,"}")))),Object(o.a)("api-method-response-example",{httpCode:l.a.NOT_FOUND},Object(o.a)("api-method-response-example-description",null,"Could not find a cake matching this query."),Object(o.a)("code",null,Object(o.a)("code-tab",{syntax:"javascript"},Object(o.a)("code-line",null,"{"),Object(o.a)("code-line",null,'    "message": "Ain\'t no cake like that."'),Object(o.a)("code-line",null,"}")))))))])},Icon:r.g};var h={name:{id:"templates.FAQ.name",defaultMessage:"FAQ"},description:{id:"templates.FAQ.description",defaultMessage:"Answer frequently asked questions."},create:function(){return Object(o.a)("document",null,Object(o.a)("heading-1",null,"Can I become who I want to be?"),Object(o.a)("paragraph",null,"That's a tough question but thankfully, our team is on it. Please bear with us while we're investigating."),Object(o.a)("heading-1",null,"Have you had a chance to answer the previous question?"),Object(o.a)("paragraph",null,"Yes, after a few months we finally found the answer. Sadly, Mike is on vacations right now so I'm afraid we are not able to provide the answer at this point.")).nodes},Icon:r.Rb};var u={name:{id:"templates.Changelog.name",defaultMessage:"Changelog"},description:{id:"templates.Changelog.description",defaultMessage:"List product releases and changes."},create:function(){return Object(o.a)("document",null,Object(o.a)("heading-1",null,"15.0.0 - 2042-12-03"),Object(o.a)("heading-2",null,"Fixed"),Object(o.a)("ul-list",null,Object(o.a)("list-item",null,Object(o.a)("paragraph",null,"Removed humans, they weren't doing fine with animals."))),Object(o.a)("heading-2",null,"Changed"),Object(o.a)("ul-list",null,Object(o.a)("list-item",null,"Animals are now super cute, all of them.")),Object(o.a)("heading-1",null,"14.0.0 - 2042-10-06"),Object(o.a)("heading-2",null,"Added"),Object(o.a)("ul-list",null,Object(o.a)("list-item",null,Object(o.a)("paragraph",null,"Introduced animals into the world, we believe they're going to be a neat addition.")))).nodes},Icon:r.r};t.a=[i,d,h,u]},377:function(e,t,n){"use strict";var o,r,i,a=n(0),s=n(3),l=n(1);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class d extends a.Component{render(){const e=d.STYLES,t=this.props,n=t.children,o=t.isActive,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["children","isActive"]);return a.createElement(l.gb,c({},r,{styles:[e.tab,l.lb.KINDS.UIH300,o&&e.active],role:"button",tabIndex:0}),a.createElement(l.gb,{styles:e.flexPadding}),a.createElement(l.gb,{styles:e.tabInner},n),a.createElement(l.gb,{styles:e.flexPadding}))}}o=d,r="STYLES",i=s.StyleSheet.create({tab:{padding:`${l.ob.S100}px 0`,flex:"0 1 auto",textOverflow:"ellipsis",maxWidth:"100%",minWidth:0,color:l.kb.GREY_BASE,border:`1px solid ${l.kb.GREY_LIGHTER}`,borderLeftColor:"transparent",backgroundColor:l.kb.GREY_LIGHTEST,transition:l.qb.fastEaseOut("color"),outline:"none",position:"relative",display:"flex",":hover":{cursor:"pointer",color:l.kb.BLACK},":first-child":{borderLeftColor:l.kb.GREY_LIGHTER,borderTopLeftRadius:l.jb.RADIUS_NORMAL},":last-child":{borderTopRightRadius:l.jb.RADIUS_NORMAL}},active:{flex:"0 0 auto",cursor:"auto",color:l.kb.BLACK,backgroundColor:l.kb.WHITE,borderBottomColor:l.kb.WHITE},tabInner:{flex:"0 1 auto",maxWidth:"100%",minWidth:0,display:"flex",textOverflow:"ellipsis",overflow:"hidden"},flexPadding:{minWidth:8,width:16,flex:"1 1 16px"}}),r in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i,t.a=d},699:function(e,t,n){"use strict";var o=n(0),r=n(4),i=n(3),a=n(145),s=n(26),l=n(274),c=n.n(l),d=n(1),h=n(6);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=class extends s.a{constructor(){super(...arguments),u(this,"state",{cellsHighlighted:Object(r.List)()}),u(this,"highlightRow",(e,t)=>{this.setState({cellsHighlighted:h.v.plugin.utils.getCellsAtRow(e,t)})}),u(this,"highlightColumn",(e,t)=>{this.setState({cellsHighlighted:h.v.plugin.utils.getCellsAtColumn(e,t)})}),u(this,"isUnderOpenedControls",e=>{const t=this.state.cellsHighlighted;return Boolean(t.find(t=>t.get("key")===e))}),u(this,"reset",()=>{this.setState({cellsHighlighted:Object(r.List)()})})}},b=n(9);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.PureComponent{constructor(){super(...arguments),g(this,"state",{hovered:!1}),g(this,"onRemoveRow",()=>{const e=this.props,t=e.onClose,n=e.row,o=e.editor;h.V(o,e=>{h.v.plugin.changes.removeRowByKey(e,n.key)}),t()}),g(this,"onEnter",()=>{const e=this.props,t=e.container,n=e.rowIndex,o=e.tableNode;this.setState({hovered:!0},()=>t.highlightRow(o,n))}),g(this,"onMouseLeave",()=>{const e=this.props,t=e.onClose,n=e.container;this.setState({hovered:!1},()=>{n.reset(),t()})})}render(){const e=this.props,t=e.visible,n=e.clicked,r=e.onOpen,i=this.state.hovered,a=m.STYLES;return o.createElement(d.O,{visible:i||t,hovered:i,active:n,direction:"vertical",onClick:r,onMouseEnter:this.onEnter,onMouseLeave:this.onMouseLeave,styles:[a.options]},o.createElement(d.T.Container,{styles:[a.popoverContainer]},o.createElement(b.Ib,{styles:a.rotateIcon}),n&&o.createElement(d.T,{position:"east",onMouseLeave:this.onMouseLeave},o.createElement(d.E,{direction:"vertical"},o.createElement(d.E.Item,{icon:o.createElement(b.ec,null),onClick:this.onRemoveRow})))))}}g(m,"STYLES",i.StyleSheet.create({popoverContainer:{height:"100%",display:"flex",position:"relative",alignItems:"center",justifyContent:"center"},options:{position:"absolute",left:"calc(100% + 3px)"},wrapperPopoverItem:{display:"flex",alignItems:"center"},rotateIcon:{transform:"rotate(90deg)"}}));var f=m;function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends o.PureComponent{constructor(){super(...arguments),v(this,"state",{clicked:!1}),v(this,"createRow",e=>{const t=this.props,n=t.editor,o=t.cell;h.V(n,t=>{t.collapseToStartOf(o),h.v.plugin.changes.insertRow(t,{at:e})})}),v(this,"insertRow",e=>{const t=this.props,n=t.onClose,o=t.position.getRowIndex();this.createRow(o+e),n()}),v(this,"onInsertRowBefore",()=>{this.insertRow(0)}),v(this,"onInsertRowAfter",()=>{this.insertRow(1)}),v(this,"onOpenControls",()=>this.setState(e=>({clicked:!e.clicked}))),v(this,"onCloseControls",()=>{const e=this.props,t=e.onClose;e.container.reset(),this.setState({clicked:!1},()=>t())})}render(){const e=S.STYLES,t=this.props,n=t.table,r=t.cell,i=t.editor,a=t.rowPos,s=t.area,l=t.position,c=t.container,h=this.state.clicked,u=a?{height:a.height,top:a.top,opacity:1}:{};return o.createElement(d.gb,{contentEditable:!1,key:r.key,styles:[e.rowControlsContainer],style:u,onMouseLeave:this.onCloseControls},o.createElement(d.gb,{styles:e.bridgeRow}),o.createElement(f,{row:l.row,tableNode:n,editor:i,visible:!0,clicked:h,rowIndex:l.getRowIndex(),container:c,onOpen:this.onOpenControls,onClose:this.onCloseControls}),s.north&&o.createElement(d.C,{orientation:"horizontal",position:"start",onClick:this.onInsertRowBefore}),s.south&&o.createElement(d.C,{orientation:"horizontal",position:"end",onClick:this.onInsertRowAfter}))}}v(S,"STYLES",i.StyleSheet.create({rowControlsContainer:{position:"absolute",width:"100%",pointerEvents:"none",opacity:0,transition:"opacity, 0.2ms"},bridgeRow:{background:"transparent",position:"absolute",pointerEvents:"auto",width:5,height:"100%",right:-4}}));var E=e=>o.createElement(s.c,{to:[p]},t=>o.createElement(S,y({container:t},e)));function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=class extends o.Component{constructor(){super(...arguments),O(this,"setAlign",e=>{const t=this.props,n=t.editor,o=t.tableNode,i=t.columnIndex,a=t.onClose,s=o.data;h.V(n,t=>{const n=o.data.set("aligns",Object(r.List)(s.get("aligns")).set(i,e).toArray());return t.setNodeByKey(o.key,{data:n}),t}),a()}),O(this,"onSetAlignLeft",()=>{this.setAlign("left")}),O(this,"onSetAlignCenter",()=>{this.setAlign("center")}),O(this,"onSetAlignRight",()=>{this.setAlign("right")})}render(){const e=this.props.active;return o.createElement(o.Fragment,null,o.createElement(d.E.Item,{active:"left"===e,icon:o.createElement(b.e,null),onClick:this.onSetAlignLeft}),o.createElement(d.E.Item,{active:"center"===e,icon:o.createElement(b.d,null),onClick:this.onSetAlignCenter}),o.createElement(d.E.Item,{active:"right"===e,icon:o.createElement(b.f,null),onClick:this.onSetAlignRight}))}};function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends o.PureComponent{constructor(){super(...arguments),T(this,"state",{hovered:!1}),T(this,"onRemoveColumn",()=>{const e=this.props,t=e.editor,n=e.node,o=e.tableNode,i=e.onClose,a=e.columnIndex;h.V(t,e=>{const t=o.data.get("aligns");e.setNodeByKey(o.key,{data:{aligns:Object(r.List)(t).delete(a).toJS()}},{normalize:!1}),h.v.plugin.changes.removeColumnByKey(e,n.key),i()})}),T(this,"onEnter",()=>{const e=this.props,t=e.tableNode,n=e.container,o=e.columnIndex;this.setState({hovered:!0},()=>{n.highlightColumn(t,o)})}),T(this,"onMouseLeave",()=>{const e=this.props,t=e.onClose,n=e.container;this.setState({hovered:!1},()=>{n.reset(),t()})}),T(this,"onSetAlign",()=>{const e=this.props.container;this.setState({hovered:!1},()=>e.reset())})}render(){const e=w.STYLES,t=this.props,n=t.visible,r=t.editor,i=t.tableNode,a=t.currentAlign,s=t.columnIndex,l=t.clicked,c=t.onOpen,h=this.state.hovered;return o.createElement(d.O,{styles:e.blockOptions,visible:n,hovered:h,active:l,onClick:c,onMouseEnter:this.onEnter,onMouseLeave:this.onMouseLeave},o.createElement(d.T.Container,{styles:[e.popoverContainer]},o.createElement(b.Ib,null),l&&o.createElement(d.T,{position:"north",onMouseLeave:this.onMouseLeave},o.createElement(d.E,null,o.createElement(C,{editor:r,columnIndex:s,tableNode:i,active:a,onClose:this.onSetAlign}),o.createElement(d.E.Divider,null),o.createElement(d.E.Item,{icon:o.createElement(b.ec,null),onClick:this.onRemoveColumn})))))}}T(w,"STYLES",i.StyleSheet.create({separator:{flex:"0 1 30px",width:1,padding:`${d.ob.S100}px 0`,margin:`0 ${d.ob.S100}px`,background:d.kb.GREY_LIGHT},popoverContainer:{flex:"1 0 auto",display:"flex",justifyContent:"center",alignItems:"stretch"},wrapperPopoverItem:{display:"flex",alignItems:"center"},blockOptions:{position:"absolute",bottom:"calc(100% + 2px)"}}));var k=w;function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends o.PureComponent{constructor(){super(...arguments),I(this,"state",{clicked:!1}),I(this,"createCol",e=>{const t=this.props,n=t.editor,o=t.cell,i=t.table;h.V(n,t=>{t.collapseToStartOf(o);const n=Object(r.List)(i.data.get("aligns"));t.setNodeByKey(i.key,{data:{aligns:n.insert(e,"left").toJS()}},{normalize:!1}),h.v.plugin.changes.insertColumn(t,{at:e})})}),I(this,"insertColumn",e=>{const t=this.props,n=t.onClose,o=t.position.getColumnIndex();this.createCol(o+e),n()}),I(this,"onInsertColumnBefore",()=>{this.insertColumn(0)}),I(this,"onInsertColumnAfter",()=>{this.insertColumn(1)}),I(this,"onOpenControls",()=>this.setState(e=>({clicked:!e.clicked}))),I(this,"onCloseControls",()=>{const e=this.props,t=e.onClose;e.container.reset(),this.setState({clicked:!1},()=>t())})}render(){const e=this.props,t=e.table,n=e.cell,r=e.editor,i=e.rowPos,a=e.colPos,s=e.area,l=e.position,c=e.container,h=this.state.clicked,u=x.STYLES,p={top:0,left:0,bottom:a.height,right:i.width},b=function(e,t){const n={right:e.right>t.right?t.right:e.right,left:e.left<t.left?t.left:e.left,bottom:e.bottom>t.bottom?t.bottom:e.bottom,top:e.top<t.top?t.top:e.top};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){I(e,t,n[t])})}return e}({},n,{width:n.right-n.left,height:n.bottom-n.top})}({top:a.top,left:a.left,bottom:a.height+a.bottom,right:i.width+a.right},p).width,g=a?{width:b,height:i.height,left:a.left<0?0:a.left,opacity:1,display:b<20?"none":"initial"}:{};return o.createElement(d.gb,{contentEditable:!1,key:n.key,styles:[u.colControlsContainer],style:g,onMouseLeave:this.onCloseControls},o.createElement(d.gb,{styles:u.bridgeCol}),o.createElement(k,{editor:r,node:n,tableNode:t,columnIndex:l.getColumnIndex(),visible:!0,clicked:h,currentAlign:t.data.get("aligns")[l.getColumnIndex()],container:c,onOpen:this.onOpenControls,onClose:this.onCloseControls}),s.west&&o.createElement(d.C,{position:"start",onClick:this.onInsertColumnBefore,style:{height:i.height},lineLength:a.height}),s.east&&o.createElement(d.C,{position:"end",onClick:this.onInsertColumnAfter,style:{height:i.height},lineLength:a.height}))}}I(x,"STYLES",i.StyleSheet.create({colControlsContainer:{position:"absolute",top:0,pointerEvents:"none",opacity:0,transition:"opacity, 0.2ms"},bridgeCol:{background:"transparent",position:"absolute",pointerEvents:"auto",width:"100%",height:5,top:-4}}));var L,R,A,P=e=>o.createElement(s.c,{to:[p]},t=>o.createElement(x,j({container:t},e))),B=n(37);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class D extends o.Component{render(){const e=this.props,t=e.node,n=e.onScroll,r=e.children,a=e.attributes,s=e.scrollRef,l=D.STYLES;return o.createElement(B.f.Provider,{value:!0},o.createElement(B.g.Provider,{value:t.data.get("align")},o.createElement(d.gb,{ref:s,styles:[l.tableScroll],onScroll:n},o.createElement("table",Y({className:Object(i.css)([l.table])},a),o.createElement("tbody",null,r)))))}}L=D,R="STYLES",A=i.StyleSheet.create({table:{width:"100%",borderCollapse:"collapse",background:d.kb.GREY_BASE,position:"relative",pageBreakInside:"auto"},tableScroll:{overflow:"auto",position:"relative"}}),R in L?Object.defineProperty(L,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):L[R]=A;var M=D;function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends o.Component{constructor(){super(...arguments),G(this,"state",{isVisible:!0,position:null,row:null,cell:null,rowPos:null,colPos:null,area:{north:!1,south:!1,east:!1,west:!1}}),G(this,"scrollContainerRef",o.createRef()),G(this,"onMouseMove",e=>{const t=this.props,n=t.value,o=t.node,i=_.computeRelativePosition,s=c()(e.target,'[data-table="cell"]');if(s){const t=Object(a.findNode)(s,n),l=n.document.getParent(t.key),c=s.getBoundingClientRect(),d=c.top+c.height/2,u=c.left+c.width/2,p=i(s,this.scrollContainerRef.current),b={cell:t,row:l,rowPos:p.row,colPos:p.col,isVisible:!0,area:{north:e.clientY<d,south:e.clientY>d,west:e.clientX<u,east:e.clientX>u}};if(!function(e,t){return Object(r.is)(Object(r.fromJS)(e),Object(r.fromJS)(t))}(this.state,b)){const e=h.v.plugin.utils.getPositionByKey(o,t.key);this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){G(e,t,n[t])})}return e}({position:e},b))}}}),G(this,"onScroll",()=>{this.state.isVisible&&this.setState({isVisible:!1})}),G(this,"onStartTyping",()=>{this.state.isVisible&&this.setState({isVisible:!1})}),G(this,"onMouseLeave",()=>{this.setState({position:null,cell:null,row:null,colPos:null,rowPos:null,isVisible:!1,area:{north:!1,south:!1,east:!1,west:!1}})})}static computeRelativePosition(e,t){const n=t.getBoundingClientRect(),o=e.getBoundingClientRect();return{row:{width:n.width,height:o.height,top:o.top-n.top,bottom:o.bottom-n.bottom,left:n.left-n.left,right:n.right-n.right},col:{width:o.width,height:n.height,top:n.top-n.top,bottom:n.bottom-n.bottom,left:o.left-n.left,right:o.right-n.right}}}componentDidUpdate(e,t){const n=t.isVisible,o=this.state.isVisible;!n&&o?window.document.body.addEventListener("keydown",this.onStartTyping):n&&!o&&window.document.body.removeEventListener("keydown",this.onStartTyping)}componentWillUnmount(){window.document.body.removeEventListener("keydown",this.onStartTyping)}render(){const e=this.props,t=e.children,n=e.attributes,r=e.node,i=e.editor,a=e.readOnly,s=this.state,l=s.rowPos,c=s.colPos,h=s.isVisible,u=s.cell,p=s.area,b=s.position,g=_.STYLES,m=!a&&h;return o.createElement(d.gb,{styles:[g.tableWrapper],onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},o.createElement(M,{node:r,readOnly:a,onScroll:this.onScroll,attributes:n,scrollRef:this.scrollContainerRef},t),m&&b&&(b.isFirstRow()?o.createElement(P,{table:r,cell:u,position:b,editor:i,area:p,rowPos:l,colPos:c,onClose:this.onMouseLeave}):o.createElement(E,{table:r,cell:u,position:b,editor:i,area:p,rowPos:l,onClose:this.onMouseLeave})))}}G(_,"STYLES",i.StyleSheet.create({tableWrapper:{marginTop:d.ob.S300,marginBottom:d.ob.S400,overflow:"visible",position:"relative"}}));var H=e=>o.createElement(s.b,null,o.createElement(s.c,{to:[p]},t=>o.createElement(_,e)));var N={modified:d.kb.DIFF_BG_MODIFIED,added:d.kb.DIFF_BG_ADDED,removed:d.kb.DIFF_BG_REMOVED,identical:"transparent"};function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}class F extends o.Component{render(){const e=F.STYLES,t=this.props,n=t.parent,r=t.node,a=t.children,s=t.attributes,l=r.data.get("diff"),c=l?{backgroundColor:N[l]}:{},d=n.nodes.first().key===r.key;return o.createElement(B.h.Provider,{value:d},o.createElement("tr",U({className:Object(i.css)([e.tableRow]),style:c},s),a))}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(F,"STYLES",i.StyleSheet.create({tableRow:{background:d.kb.WHITE,border:"none",borderBottom:`1px solid ${d.kb.GREY_LIGHTER}`,padding:10,pageBreakInside:"avoid",pageBreakAfter:"auto",":first-child":{color:`${d.kb.GREY_BASE}`,borderBottom:`2px solid ${d.kb.GREY_LIGHTER}`,fontWeight:500,fontSize:16}},portalContainer:{pointerEvents:"none",background:"red"}}));var K=e=>o.createElement(s.c,{to:[p]},t=>o.createElement(F,U({container:t},e)));function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $ extends o.Component{render(){const e=$.STYLES,t=this.props,n=t.node,r=t.children,a=t.attributes,s=t.editor,l=t.currentAlign,c=t.highlighted,d=s.props.readOnly,h=n.data.get("diff"),u={textAlign:l},p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){V(e,t,n[t])})}return e}({},u,h?{backgroundColor:N[h]}:{});return o.createElement("td",W({"data-table":"cell",className:Object(i.css)([e.tableCell,!d&&e.tableCellEditable,!d&&c&&e.highlighted]),style:d?u:p},a),r)}}V($,"STYLES",i.StyleSheet.create({tableCell:{width:"auto",position:"relative",borderTop:"none",borderBottom:"none",borderRight:"none",padding:d.ob.S100,alignItems:"start",alignSelf:"start"},tableCellEditable:{":hover":{backgroundColor:d.kb.GREY_LIGHTEST}},headerColor:{color:d.kb.GREY_LIGHTER},highlighted:{backgroundColor:d.kb.GREY_LIGHTEST}}));var q=e=>o.createElement(s.c,{to:[p]},t=>o.createElement(B.g.Consumer,null,n=>{const r=e.editor.value.document.getClosest(e.node.key,e=>"table"===e.type),i=h.v.getAlign(r,e.node.key),a=t.isUnderOpenedControls(e.node.key);return o.createElement($,W({currentAlign:i,highlighted:a},e))}));n.d(t,"a",function(){return H}),n.d(t,"c",function(){return K}),n.d(t,"b",function(){return q})},819:function(e,t,n){"use strict";var o=n(0),r=n(26),i=n(3),a=n(6),s=n(1),l=(n(12),n(4)),c=n(79),d=n(377);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.Component{constructor(){super(...arguments),h(this,"onSelectTab",()=>{const e=this.props;(0,e.onSelect)(e.node)})}render(){const e=this.props,t=e.node,n=e.isActive,r=u.STYLES;return o.createElement(d.a,{isActive:n,onClick:this.onSelectTab},o.createElement(s.gb,{styles:r.wrapperTabsItemTitle},t.data.get("title")||"Untitled"))}}h(u,"STYLES",i.StyleSheet.create({wrapperTabsItemTitle:{maxWidth:"100%",minWidth:0,textOverflow:"ellipsis",overflow:"hidden"}}));var p=u;function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends o.Component{constructor(e){super(e),b(this,"input",o.createRef()),b(this,"select",()=>{this.input.current&&this.input.current.select()}),b(this,"onChange",e=>{const t=e.target.value;this.setState({tabTitle:t})}),b(this,"onSubmit",()=>{const e=this.props,t=e.node,n=e.onUpdateTitle,o=this.state.tabTitle;o!==t.data.get("title")&&n(t,o)}),b(this,"onKeyDown",e=>{13===e.keyCode&&(e.preventDefault(),this.input.current&&this.input.current.blur())}),this.state={tabTitle:e.node.data.get("title")}}render(){const e=g.STYLES,t=this.props.onClick,n=this.state.tabTitle;return o.createElement(s.d,{className:Object(i.css)(e.wrapperTabsItemTitleInput),inputClassName:Object(i.css)(e.tabsItemTitleInput),value:n,onChange:this.onChange,onSubmit:this.onSubmit,onBlur:this.onSubmit,onKeyDown:this.onKeyDown,onClick:t,placeholder:"Tab Title",ref:this.input})}}b(g,"STYLES",i.StyleSheet.create({tabsItemTitleInput:{cursor:"pointer",font:"inherit",color:"inherit",border:0,background:"transparent",padding:0,maxWidth:"100%",minWidth:0,textOverflow:"ellipsis",overflow:"hidden",":hover":{cursor:"text"},":focus":{cursor:"auto"},"::placeholder":{color:s.kb.GREY_BASE}},wrapperTabsItemTitleInput:{display:"flex",maxWidth:"100%",minWidth:0,textOverflow:"ellipsis",overflow:"hidden"}}));var m,f,y,v=g,S=n(9);var E,O,C,T=Object(c.SortableHandle)((y=f=class e extends o.Component{render(){const t=e.STYLES;return o.createElement(s.gb,{styles:t.grabIcon},o.createElement(S.eb,null))}},E=f,O="STYLES",C=i.StyleSheet.create({grabIcon:{display:"inline-flex",flex:"1 0 auto",pointerEvents:"auto",justifyContent:"center",fontSize:18,":hover":{cursor:"grab"}}}),O in E?Object.defineProperty(E,O,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[O]=C,m=y))||m;function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends o.Component{constructor(){super(...arguments),w(this,"state",{clicked:!1,hovered:!1}),w(this,"onClick",()=>{return this.state.clicked?this.setState({clicked:!1}):this.setState({clicked:!0})}),w(this,"onEnter",()=>{this.setState({hovered:!0})}),w(this,"onLeave",()=>{this.setState({hovered:!1,clicked:!1})}),w(this,"onDelete",()=>{const e=this.props;(0,e.onDeleteTab)(e.node)})}render(){const e=this.props.visible,t=this.state,n=t.clicked,r=t.hovered,i=k.STYLES;return o.createElement(s.O,{styles:i.blockOptions,visible:e,hovered:r,active:n,onClick:this.onClick,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave},o.createElement(s.T.Container,{styles:[i.popoverContainer]},n?o.createElement(T,null):o.createElement(S.Ib,null),o.createElement("div",{className:"draggingHidden"},n&&o.createElement(s.T,{position:"north"},o.createElement(s.E,null,o.createElement(s.E.Item,{icon:o.createElement(S.ec,null),onClick:this.onDelete}))))))}}w(k,"STYLES",i.StyleSheet.create({blockOptions:{position:"absolute",bottom:"calc(100% + 3px)"},popoverContainer:{flex:"1 0 auto",display:"flex",justifyContent:"center",alignItems:"stretch"}}));var j,I,x,L=k;function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P,B,Y,D=Object(c.SortableElement)((x=I=class e extends o.Component{constructor(){super(...arguments),A(this,"input",o.createRef()),A(this,"selectInput",()=>{this.input&&this.input.current&&this.input.current.select()}),A(this,"insertTab",e=>{const t=this.props;(0,t.onCreateTab)(t.nodeIndex+e)}),A(this,"onInsertTabBefore",()=>{this.insertTab(0)}),A(this,"onInsertTabAfter",()=>{this.insertTab(1)}),A(this,"onSelectTab",()=>{const e=this.props;(0,e.onSelect)(e.node)})}componentDidMount(){this.props.autoFocus&&(this.selectInput(),this.onSelectTab())}render(){const t=this.props,n=t.node,r=t.isActive,i=t.onDeleteTab,a=t.onUpdateTitle,l=e.STYLES;return o.createElement(s.x,null,e=>{let t=e.hoverAttributes,c=e.isHovered,h=e.right,u=e.left;return o.createElement(d.a,R({},t,{isActive:r,onClick:this.onSelectTab}),o.createElement(L,{visible:c,onDeleteTab:i,node:n}),u&&o.createElement(s.C,{onClick:this.onInsertTabBefore,position:"start",styles:l.leftButton}),o.createElement(v,{onClick:this.selectInput,node:n,onUpdateTitle:a,ref:this.input}),h&&o.createElement(s.C,{onClick:this.onInsertTabAfter,position:"end",styles:l.rightButton}))})}},A(I,"STYLES",i.StyleSheet.create({leftButton:{left:-2},rightButton:{right:-1}})),j=x))||j;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=Object(c.SortableContainer)((Y=B=class e extends o.Component{static getDerivedStateFromProps(e,t){const n=t.prevTabs,o=e.node.nodes;if(o===n)return null;const r=Object(l.Set)(o).subtract(n);return 1!==r.size?{prevTabs:o}:{lastCreatedTab:r.first(),prevTabs:o}}constructor(e){super(),G(this,"headerRef",o.createRef()),G(this,"headerClientTop",null),G(this,"onSelectTab",e=>{const t=this.headerRef&&this.headerRef.current;t&&(this.headerClientTop=t.getBoundingClientRect().top),this.props.onSelectTab(e)}),this.state={lastCreatedTab:null,prevTabs:e.node.nodes}}shouldComponentUpdate(e){const t=this.props;return!(t.node===e.node||(n=t.node,o=e.node,n.nodes.size===o.nodes.size&&!n.nodes.some((e,t)=>{const n=o.nodes.get(t);return n.key!==e.key||n.data.get("title")!==e.data.get("title")})))||(t.onCreateTab!==e.onCreateTab||t.activeTab!==e.activeTab||t.onSelectTab!==e.onSelectTab||t.onDeleteTab!==e.onDeleteTab||t.onUpdateTabTitle!==e.onUpdateTabTitle||t.readOnly!==e.readOnly);var n,o}componentDidUpdate(){const e=this.headerClientTop;e&&(this.headerClientTop=null,window.requestAnimationFrame(()=>{const t=this.headerRef&&this.headerRef.current;if(!t)return;const n=t.getBoundingClientRect().top;window.scrollBy(0,n-e)}))}render(){const t=this.props,n=t.node,r=t.onCreateTab,i=t.activeTab,a=t.onDeleteTab,l=t.onUpdateTabTitle,c=t.readOnly,d=e.STYLES;return o.createElement(s.gb,{ref:this.headerRef,styles:d.tabsHeader},o.createElement(s.gb,{styles:d.tabsHeaderContainer,contentEditable:!1},o.createElement(s.gb,{styles:[d.tabsHeaderContent,!c&&d.tabsHeaderContentGreyBg]},n.nodes.map((e,t)=>{const n={key:e.key,node:e,isActive:e.key===i,onSelect:this.onSelectTab};return c?o.createElement(p,n):o.createElement(D,M({index:t,nodeIndex:t,onUpdateTitle:l,onDeleteTab:a,onCreateTab:r,autoFocus:this.state.lastCreatedTab===e},n))}))))}},G(B,"STYLES",i.StyleSheet.create({tabsHeader:{position:"relative",display:"flex",width:"100%",height:"100%",alignItems:"center",whiteSpace:"nowrap",marginBottom:-1},tabsHeaderContainer:{maxWidth:"100%",display:"flex"},tabsHeaderContent:{maxWidth:"100%",display:"flex",borderTopRightRadius:s.jb.RADIUS_NORMAL,borderTopLeftRadius:s.jb.RADIUS_NORMAL,pointerEvents:"auto"},tabsHeaderContentGreyBg:{backgroundColor:s.kb.GREY_LIGHT}})),P=Y))||P,H=n(131),N=n.n(H);const U=5,F="lastTabsSelectedByUser";var K=class extends r.a{constructor(){super(),this.state={activeKeys:Object(l.Map)(),activeTitles:this.readActiveTitles()}}readActiveTitles(){const e=N.a.get(F)||[];return Object(l.OrderedSet)(e)}writeActiveTitles(e){N.a.set(F,e.toArray())}async selectTab(e,t){const n=t.data.get("title");await this.setState(o=>({activeKeys:o.activeKeys.set(e.key,t.key),activeTitles:n?o.activeTitles.delete(n).add(n).slice(-U):o.activeTitles})),this.writeActiveTitles(this.state.activeTitles)}getSelectedTabFor(e,t,n){let o=n.readOnly;return!o&&this.getEditSelectedTab(e,t)||this.getSelectedTabByUser(t)||o&&this.getMatchingTabByTitle(t)||t.nodes.first()}getEditSelectedTab(e,t){if(e.selection.isFocused)return t.nodes.find(t=>e.selection.hasAnchorIn(t)||e.selection.hasFocusIn(t))}getSelectedTabByUser(e){const t=this.state.activeKeys.get(e.key);return t?e.nodes.find(e=>e.key==t):void 0}getMatchingTabByTitle(e){const t=this.state.activeTitles.toList();return e.nodes.map(e=>{const n=e.data.get("title");return{node:e,score:t.indexOf(n)}}).filter(e=>e.score>=0).sortBy(e=>-e.score).map(e=>e.node).first()}isTabSelected(e,t,n){let o=n.readOnly;const r=e.document.getParent(t.key);return!!r&&this.getSelectedTabFor(e,r,{readOnly:o}).key==t.key}};function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $ extends o.Component{constructor(){super(...arguments),V(this,"onSelectTab",e=>{const t=this.props,n=t.editor,o=t.readOnly,r=t.node,i=t.tabs;o||a.V(n,e=>e.blur()),i.selectTab(r,e)}),V(this,"onUpdateTabTitle",(e,t)=>{const n=this.props.editor;t&&a.V(n,n=>n.setNodeByKey(e.key,{data:e.data.merge({title:t})}))}),V(this,"onDeleteTab",e=>{const t=this.props.editor;a.V(t,t=>t.removeNodeByKey(e.key))}),V(this,"onCreateTab",e=>{const t=this.props,n=t.editor,o=t.node,r=a.w.createTabsItem("");a.V(n,t=>t.insertNodeByKey(o.key,e,r))}),V(this,"onSortEnd",e=>{let t=e.oldIndex,n=e.newIndex;const o=this.props,r=o.editor,i=o.node,s=i.nodes.get(t);a.V(r,e=>e.moveNodeByKey(s.key,i.key,n))})}render(){const e=$.STYLES,t=this.props,n=t.node,r=t.children,i=t.readOnly,a=t.attributes,l=t.activeTab,c=n.nodes.findIndex(e=>e.key===l.key);return o.createElement(s.gb,W({},a,{styles:[e.tabs]}),o.createElement(_,{node:n,readOnly:i,onCreateTab:this.onCreateTab,activeTab:l.key,onSelectTab:this.onSelectTab,onUpdateTabTitle:this.onUpdateTabTitle,onDeleteTab:this.onDeleteTab,axis:"x",lockAxis:"x",helperClass:"draggingElement",onSortEnd:this.onSortEnd,lockToContainerEdges:!0,useDragHandle:!0}),o.Children.map(r,(t,n)=>o.createElement(s.gb,{key:t.key,styles:[e.tabItemContent,n===c&&e.tabItemContentActive]},t)))}}V($,"STYLES",i.StyleSheet.create({tabs:{margin:`${s.ob.S400}px 0px`},tabItemContent:{display:"none",border:`1px solid ${s.kb.GREY_LIGHTER}`,background:s.kb.WHITE,padding:s.ob.S300,paddingBottom:0,borderRadius:`${s.jb.RADIUS_NORMAL}px`,borderTopLeftRadius:"0px"},tabItemContentActive:{display:"block"}}));var q=e=>o.createElement(r.c,{to:[K]},t=>{const n=t.getSelectedTabFor(e.value,e.node,{readOnly:e.readOnly});return o.createElement($,W({},e,{tabs:t,activeTab:n}))});var z=function(e){const t=e.attributes,n=e.children;return o.createElement("div",t,n)};n.d(t,"a",function(){return q}),n.d(t,"b",function(){return z})}}]);