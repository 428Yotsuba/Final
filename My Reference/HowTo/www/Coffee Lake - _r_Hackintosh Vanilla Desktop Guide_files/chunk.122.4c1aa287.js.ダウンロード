(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[122],{1806:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(4),i=r(12),a=c(r(358)),s=c(r(785));function c(e){return e&&e.__esModule?e:{default:e}}var f={text:"",nodes:(0,u.List)(),stack:(0,u.Stack)(),marks:(0,u.Set)(),object:String("document"),rulesSet:(0,u.Map)(),depth:0,props:(0,u.Map)()},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,u.Record)(f)),o(t,[{key:"use",value:function(e){return this.merge({object:e})}},{key:"setProp",value:function(e,t){var r=this.props;return r=r.set(e,t),this.merge({props:r})}},{key:"getProp",value:function(e,t){return this.props.get(e,t)}},{key:"write",value:function(e){var t=this.text;return t+=e,this.merge({text:t})}},{key:"replaceText",value:function(e){return this.merge({text:e})}},{key:"peek",value:function(){return this.nodes.first()}},{key:"shift",value:function(){var e=this.nodes;return e=e.shift(),this.merge({nodes:e})}},{key:"unshift",value:function(e){var t=this.nodes;return t=t.unshift(e),this.merge({nodes:t})}},{key:"push",value:function(e){var t=this.nodes;return t=u.List.isList(e)?t.concat(e):t.push(e),this.merge({nodes:t})}},{key:"pushMark",value:function(e){var t=this.marks;return t=t.add(e),this.merge({marks:t})}},{key:"genText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.marks,r=i.Text.create({text:e,marks:t});return"block"==this.object&&(r=i.Block.create({type:a.default.TEXT,nodes:[r]})),r}},{key:"pushText",value:function(e){return this.push(this.genText(e))}},{key:"down",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nodes,r=void 0===t?(0,u.List)():t,n=e.text,o=void 0===n?"":n;return this.merge({depth:this.depth+1,nodes:r,text:o,stack:this.stack.push({object:this.object,nodes:this.nodes,text:this.text})})}},{key:"up",value:function(){var e=this.stack.peek(),t=e.nodes,r=e.text,n=e.object;return this.merge({depth:this.depth-1,nodes:t,text:r,object:n,stack:this.stack.pop()})}},{key:"skip",value:function(e){var t=this.text;return t=t.slice(e),this.merge({text:t})}},{key:"lex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.text,r=e.rest,o=void 0===r?"":r,u=e.trim,i=void 0===u||u,a=e.stopAt,s=void 0===a?function(e,t){return null}:a,c=this,f=i?o.trim():o;if(f&&(c=c.pushText(f)),!t)return c;var l=c.applyRules("deserialize");if(l==c)throw new Error("Some rule is returning an identical state (no-op). Make sure your rules either return undefined to pass their turn, or return a different state.");if(!l)return this.skip(1).lex(n({},e,{rest:o+t[0]}));var p=s(l,this);return p||l.lex(e)}},{key:"applyRules",value:function(e){var t=this,r=t.rules,n=void 0;return r.filter(function(t){return t[e]}).forEach(function(r){return!(n=s.default.exec(r[e],t))}),n}},{key:"deserialize",value:function(e){return this.down({text:e}).lex().nodes}},{key:"deserializeToDocument",value:function(e){var t=this.use("document").deserialize(e).get(0)||i.Document.create(),r=t.nodes;return 0===r.size&&(r=r.push(i.Block.create({type:a.default.PARAGRAPH,nodes:[i.Text.create()]}))),t.merge({nodes:r})}},{key:"serialize",value:function(e){return this.down({nodes:(0,u.List)(e)})._serialize().text}},{key:"serializeDocument",value:function(e){return this.use("document").serialize([e])}},{key:"serializeNode",value:function(e){return this.serialize([e])}},{key:"_serialize",value:function(){var e=this;if(0==e.nodes.size)return e;if(!(e=e.applyRules("serialize")))throw new Error("No rule match node "+this.peek().object+"#"+(this.peek().type||""));if(e==this)throw new Error("A rule returns an identical state, returns undefined instead when passing.");return e._serialize()}},{key:"rules",get:function(){var e=this.object;return this.rulesSet.get(e,(0,u.List)())}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new t({rulesSet:(0,u.Map)(e).map(u.List),props:(0,u.Map)(r)})}}]),t}();t.default=l},1807:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(4),i=r(785),a=(n=i)&&n.__esModule?n:{default:n};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"matchRegExp",value:function(e,t){var r=e;r instanceof Array||(r=[r]),r=(0,u.List)(r);var n=void 0;return this.filter(function(e){return r.some(function(t){return n=t.exec(e.text)})}).then(function(e){return t(e.skip(n[0].length),n)})}}]),t}();t.default=function(){return new s}},1808:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=s(r(668)),u=s(r(1809)),i=r(12),a=s(r(785));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),n(t,[{key:"matchType",value:function(e){var t=f(e);return this.filter(function(e){var r=e.peek().type;return t(r)})}},{key:"matchObject",value:function(e){var t=f(e);return this.filter(function(e){var r=e.peek().object;return t(r)})}},{key:"matchMark",value:function(e){var t=f(e);return this.matchObject("text").filter(function(e){return e.peek().getLeaves().some(function(e){return e.marks.some(function(e){return t(e.type)})})})}},{key:"transformLeaves",value:function(e){return this.matchObject("text").then(function(t){var r=t.peek().getLeaves();r=r.map(function(r){return e(t,r)});var n=i.Text.create({leaves:r});return t.shift().unshift(n)})}},{key:"transformMarkedLeaf",value:function(e,t){var r=f(e);return this.matchMark(r).transformLeaves(function(e,n){var o=n.text,u=n.marks,i=n.marks.find(function(e){var t=e.type;return r(t)});return i?(o=t(e,o,i),u=u.delete(i),n.merge({text:o,marks:u})):n})}},{key:"transformText",value:function(e){var r=(0,u.default)();return this.matchObject("text").filter(function(e){return!e.peek().isEmpty}).filterNot((new t).matchMark(r)).transformLeaves(function(t,n){var o=e(t,n);return o.merge({marks:o.marks.add(i.Mark.create({type:r}))})})}}]),t}();function f(e){switch((0,o.default)(e)){case"function":return e;case"array":return function(t){return e.includes(t)};case"string":return function(t){return t==e};default:throw new Error("Cannot normalize matcher")}}t.default=function(){return new c}},785:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(4);var u={transform:function(e){return e}},i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.Record)(u)),n(t,[{key:"compose",value:function(e){var t=this.transform;return t=e(t),this.merge({transform:t})}},{key:"then",value:function(e){return this.compose(function(t){return function(r){var n=t(r);if(void 0!==n)return e(n)}})}},{key:"tap",value:function(e){return this.compose(function(t){return function(r){var n=t(r);return e(n),n}})}},{key:"use",value:function(e){return this.then(function(r){var n=void 0;return e.some(function(e){return n=t.exec(e,r),Boolean(n)}),n})}},{key:"filter",value:function(e){return this.compose(function(t){return function(r){var n=t(r);if(n&&e(n))return n}})}},{key:"filterNot",value:function(e){return this.filter(function(r){return!t.exec(e,r)})}},{key:"exec",value:function(e,t){return this.transform(e)}}],[{key:"exec",value:function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return e instanceof t?e.exec.apply(e,n):e.apply(void 0,n)}}]),t}();t.default=i}}]);