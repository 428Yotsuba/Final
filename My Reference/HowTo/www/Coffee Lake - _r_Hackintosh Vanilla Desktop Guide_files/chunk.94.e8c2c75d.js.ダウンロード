(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[94],{1012:function(e,t,n){"use strict";var r=n(0),a=n(3),o=n(15),i=n(1),l=n(9),c=n(376),s=n(23),d=n(21),u=n(39),m=n(25);const p=a.StyleSheet.create({small:{height:30},medium:{height:40},large:{height:94}}),b=a.StyleSheet.create({logoFrame:{overflow:"hidden",display:"flex",justifyContent:"flex-start",alignItems:"center",maskImage:"radial-gradient(white, black)"},logo:{objectFit:"contain",width:"initial",height:"100%",backgroundColor:i.kb.WHITE,backgroundSize:"cover",backgroundRepeat:"no-repeat",[`@media ${i.G.SMALLER_THAN_DESKTOP}`]:{maxWidth:200}},placeholder:{width:"100%",backgroundColor:i.kb.GREY_LIGHTEST}});function f(e){const t=e.src,n=e.styles,a=e.size;return r.createElement(i.gb,{styles:[b.logoFrame,b.avatarFullSizeContainer,n]},t?r.createElement(i.A,{src:t,styles:[b.logo,p[a]]}):r.createElement(i.gb,{styles:[b.placeholder,p[a]]}))}f.defaultProps={size:"medium",styles:null};var g=f;const h=a.StyleSheet.create({logoLink:{display:"flex",textDecoration:"none",alignItems:"center"},logoDisplayNameContainer:{color:i.kb.BLACK,flex:1,[`@media ${u.i}`]:{whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"50vw",overflow:"hidden"}},spaceNameText:{overflowWrap:"break-word"},fullLogo:{display:"block"}});function y(e){const t=e.displayName,n=t.slice(0,47).trim();return t.length<=13?r.createElement(i.eb.DisplayH700,{styles:[h.spaceNameText]},t):t.length<=20?r.createElement(i.eb.UIH400,{styles:[h.spaceNameText]},t):t.length<=40?r.createElement(i.eb.UIH400,{styles:[h.spaceNameText]},t):r.createElement(i.eb.UIH300,{styles:[h.spaceNameText]},`${n}...`)}var E=function(e){const t=e.space,n=i.J.useMediaQuery(i.G.SMALLER_THAN_TABLET);return r.createElement(m.a,{toRootPage:!0,styles:[h.logoLink]},t.fullLogoURL?r.createElement(g,{src:t.fullLogoURL,size:[n?"small":"medium"],styles:[h.fullLogo]}):r.createElement(r.Fragment,null,r.createElement(o.q,{space:t,size:[n?"small":"medium"]}),r.createElement(i.gb,{styles:[i.gb.PADDING.S100Left,h.logoDisplayNameContainer]},r.createElement(y,{displayName:t.name}))))},S=n(38),v=n(13),I=n(10),x=n(61);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const k=a.StyleSheet.create({link:{display:"flex",height:"100%",alignItems:"center",borderBottom:"3px solid transparent",borderTop:"3px solid transparent",whiteSpace:"nowrap",margin:`0px ${i.ob.S200}px`,":first-child ":{marginLeft:0}},linkButton:{padding:0}});function D(e){const t=e.active,n=e.children,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["active","children"]),o=i.m.useColorPalette();return r.createElement(i.gb,{styles:[k.link],style:{borderBottomColor:t?o.primary:"transparent"}},r.createElement(i.h,O({},a,{styles:[k.linkButton]}),n))}D.defaultProps={active:!1};var L=r.memo(function(e){const t=e.space,n=Object(m.l)().contentContext,a=(Object(v.k)({revision:I.B.queryByID({spaceID:t.uid,revisionID:t.primaryRevision})}).revision.value||I.B.create()).primaryVersion,o=a.page.getByURL(n.pageURL||"");let i=null;const l=t.links.map(e=>{if(!e.pageID)return r.createElement(D,{key:e.id,kind:"link",component:"a",target:"_blank",rel:"noopener noreferrer",href:e.href},e.title);const t=a.page.getByID(e.pageID);if(!t)return null;const n=a.page.getURLOf(t);if(null===n)return null;const l=!i&&(o&&t.hasPage(o));return i=i||l,r.createElement(D,{key:e.id,active:l,kind:"link",component:S.b,to:`${x.a.PAGES}/${n}`},e.title)});return r.createElement(r.Fragment,null,l)});function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=a.StyleSheet.create({searchInputWrapper:{maxWidth:u.o.PAGE_SIDE_WIDTH,height:80,display:"flex",alignItems:"center",position:"relative",":before":{content:'" "',position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",borderLeft:`1px solid ${i.kb.GREY_LIGHTER}`,height:i.ob.S500},[`@media ${u.i}`]:{display:"none"}},inputContainer:{paddingLeft:14,paddingRight:i.ob.S200},input:{border:"none"},inputInner:{"::placeholder":function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){C(e,t,n[t])})}return e}({},i.lb.FONTS.UIH400,{color:i.kb.GREY_BASE,lineHeight:null})},inputIcon:{color:i.kb.BLACK}});var w=r.memo(function(e){const t=e.openSearch;return r.createElement(i.gb,{styles:[A.searchInputWrapper]},r.createElement(i.gb,{styles:[A.inputContainer]},r.createElement(i.t.Input,{placeholder:"Search...",styles:A.input,stylesInner:A.inputInner,onFocus:t},r.createElement(i.t.InputAddOn,{prefix:!0,styles:[A.inputIcon]},r.createElement(l.Ub,null)))))}),R=n(379);const _=a.StyleSheet.create({header:{position:"relative",backgroundColor:i.kb.WHITE,borderBottom:`1px solid ${i.jb.BORDER_NORMAL}`,boxShadow:i.jb.SHADOW_HIGH,zIndex:i.rb.HEADER,display:"flex",height:u.o.HEADER_DESKTOP_HEIGHT,"@media print":{display:"none"},[`@media ${u.i}`]:{position:"fixed",top:0,width:"100%",paddingLeft:i.ob.S200,paddingRight:i.ob.S200},[`@media ${i.G.SMALLER_THAN_TABLET}`]:{height:u.o.HEADER_MOBILE_HEIGHT,paddingLeft:i.ob.S100,paddingRight:i.ob.S100}},headerContainer:{maxWidth:i.mb.CONTAINER_WITH_PADDING,width:"100%",margin:"0 auto",display:"flex"},headerLeftColumn:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",[`@media ${u.g}`]:{maxWidth:u.o.SIDEBAR_TOTAL_WIDTH,justifyContent:"center",":after":{content:'" "',position:"absolute",top:"50%",right:0,transform:"translateY(-50%)",borderLeft:`1px solid ${i.kb.GREY_LIGHTER}`,height:i.ob.S500}}},headerLogo:{padding:`0px ${i.ob.S300}px`,[`@media ${u.g}`]:{width:i.mb.SIDEBAR_WIDTH,padding:0}},headerInnerWrapper:{maxWidth:i.mb.BODY_WIDTH,margin:`0px ${i.ob.S900}px`,flex:"1 1 auto",overflow:"hidden",position:"relative",":after":{content:'" "',position:"absolute",height:"100%",width:i.ob.S400,top:0,right:0,background:`linear-gradient(to right, rgba(255,255,255,0) 0%, ${i.kb.WHITE} 100%)`},[`@media ${i.G.SMALLER_THAN_LARGE_DESKTOP}`]:{margin:`0px ${i.ob.S300}px 0px ${i.ob.S900}px`},[`@media ${u.i}`]:{display:"none"}},headerInner:{display:"flex",transition:i.qb.fastEase("flex","width","opacity"),opacity:1,height:"100%"},mobileButton:{flex:"0 0 auto",cursor:"pointer",fontSize:18,height:30,width:30,display:"flex",alignItems:"center",justifyContent:"center",outline:"none",[`@media ${u.g}`]:{display:"none"}}});function j(e){const t=e.onClick,n=e.children;return r.createElement(i.gb,{role:"button",tabIndex:-1,styles:[_.mobileButton],onClick:t},n)}var T=r.memo(function(e){const t=Object(d.d)(),n=Object(d.c)(),a=Object(d.i)(),u=a.isMember,m=a.canAdmin,p=a.isSiteAdmin,b=Object(s.d)(),f=Object(R.d)().openSearch,g=()=>{f()};return r.createElement(i.R,null,n&&r.createElement(o.a,null,r.createElement(o.j,{ownerID:n.uid,canAdmin:m,fallback:n.isOrg&&(u||p)&&r.createElement(o.m,{owner:n,userCanAdmin:m,shouldDisplaySoftAlert:!1})})),r.createElement(i.gb,{styles:[_.header]},r.createElement(i.gb,{styles:[_.headerContainer]},r.createElement(i.gb,{styles:[_.headerLeftColumn]},r.createElement(j,{onClick:()=>{b(Object(c.b)())}},r.createElement(l.Gb,null)),r.createElement(i.gb,{styles:[_.headerLogo]},r.createElement(E,{space:t})),r.createElement(j,{onClick:g},r.createElement(l.Ub,null))),r.createElement(i.gb,{styles:[_.headerInnerWrapper]},r.createElement(i.X,{axisY:!1,axisX:!0,styles:[_.headerInner]},r.createElement(L,{space:t}))),r.createElement(w,{openSearch:g}))))});n.d(t,"b",function(){return T}),n.d(t,"a",function(){return g})},1045:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return d});var r=n(0),a=n.n(r),o=n(372),i=n.n(o),l=n(29),c=n(21);const s=Object(l.a)({chunkName:()=>"EditSessionBackup",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(147),n.e(65)]).then(n.bind(null,1133)),requireSync(e){const t=this.resolve(e);return n(t)},resolve:()=>1133});function d(e){return Object(c.i)().canEdit?r.createElement(i.a,null,r.createElement(s,null)):null}}).call(this,"/")},1049:function(e,t,n){e.exports=n.p+"images/7bb34df921b8a7015be0f55e24230fb6.svg"},1050:function(e,t,n){"use strict";(function(e,r){var a=n(0);t.a=function(){const t=a.useState(!1),n=t[0],o=t[1],i=function(){const t=a.useRef(),n=a.useRef();return a.useEffect(()=>()=>{cancelAnimationFrame(n.current),e(t.current)},[]),a=>{cancelAnimationFrame(n.current),requestAnimationFrame(()=>{e(t.current),t.current=r(a)})}}();return{isLoading:n,withLoading:e=>{n||(o(!0),i(async()=>{try{await e()}finally{o(!1)}}))}}}}).call(this,n(223).clearImmediate,n(223).setImmediate)},1079:function(e,t,n){"use strict";var r=n(0),a=n(26),o=n(3),i=n(10),l=n(13),c=n(1),s=n(21),d=n(39),u=n(25),m=n(23),p=n(9);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}const g=o.StyleSheet.create({buttonsLayoutContainer:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:c.ob.S100,paddingBottom:c.ob.S200,paddingRight:c.ob.S200,marginBottom:-c.ob.S200,marginRight:-c.ob.S200},buttonWrapper:{boxShadow:`${c.kb.WHITE} 0px 0px 8px 8px`,background:c.kb.WHITE,borderRadius:60},buttonSecondaryWrapper:{marginBottom:c.ob.S100,transition:c.qb.slowEase("margin")},buttonSecondaryWrapperHidden:{marginBottom:-30,":hover":{":before":{display:"none"},":after":{display:"none"}}},buttonPrimary:{boxShadow:c.jb.SHADOW_DARK_HIGH},buttonSecondary:{boxShadow:c.jb.SHADOW_DARK_LOW}});var h=function(e){const t=Boolean(e.secondary),n=e.primary,a=void 0===n?{}:n,o=e.secondary,i=void 0===o?{}:o,l=e.children,s=a.hint,d=f(a,["hint"]),u=i.hint,m=f(i,["hint"]);return r.createElement(c.m.Brand,null,r.createElement(c.gb,{styles:[g.buttonsLayoutContainer]},r.createElement(c.gb,{"aria-label":u,styles:[g.buttonWrapper,g.buttonSecondaryWrapper,c.pb.tooltipped,c.pb.left,c.pb.delayed,!t&&g.buttonSecondaryWrapperHidden]},r.createElement(c.h,b({},m,{rounded:!0,kind:"cancel",size:"small",styles:[g.buttonSecondary,m.styles]}))),r.createElement(c.gb,{"aria-label":s,styles:[g.buttonWrapper,c.pb.tooltipped,c.pb.left,c.pb.delayed]},r.createElement(c.h,b({},d,{size:"large",rounded:!0,styles:[g.buttonPrimary,d.styles]}))),l))};var y=function(e){const t=e.navigate;return r.createElement(h,{primary:{hint:"Edit this draft",onClick:()=>{e.onClick(),t({toEdit:!0})},icon:r.createElement(p.K,null)}})};var E=function(e){const t=e.navigate,n=e.createDraft;return r.createElement(h,{primary:{hint:"Create a new draft",onClick:async()=>{const r=await n();e.onClick(),t({toEdit:!0,toDraft:r.uid})},icon:r.createElement(p.K,null)}})},S=n(67),v=n(219);var I=function(e){const t=e.save,n=Object(s.h)(),a=n.undo,o=n.redo,i=r.useRef({}).current;i.save=t,i.undo=a,i.redo=o;const l=r.useMemo(()=>({[S.a.REDO]:()=>i.redo(),[S.a.REDO2]:()=>i.redo(),[S.a.UNDO]:()=>i.undo(),[S.a.SAVE]:e=>{e.preventDefault(),i.save()}}),[]);return r.createElement(v.a,{keyMap:l})},x=n(1049),O=n.n(x);const k=o.StyleSheet.create({spinner:{width:32}});var D=function(){return r.createElement("img",{alt:"loading",src:O.a,className:Object(o.css)(k.spinner)})};var L=function(e){const t=e.draft,n=e.unresolvedConflicts,a=e.navigate,o=e.notify,i=e.saveDraft,l=e.trackCancel,c=e.onClick,s=e.revision,d=e.contentContext,u=e.isLoading,m=e.withLoading,b=d.versionID?s.versions.get(d.versionID):s.primaryVersion,f=b?b.page.getByURL(d.pageURL):null,g=()=>{!t||n||u||m(async()=>{try{const n=await i(t);c(),n&&a({toEdit:!1},{ignoreTransition:!0})}catch(e){if(!e.isConflict)throw o("Your changes could not be saved because of an unexpected error."),e}})};return r.createElement(h,{secondary:{hint:"Cancel",onClick:()=>{l(),c(),a({toEdit:!1,toPrimary:!t.hasChanges,toPrimaryVersion:null==b,toRootPage:null==f})},disabled:u,icon:r.createElement(p.mc,null)},primary:{hint:n?"Resolve all conflicts to continue":"Save",kind:n?"dangerFilled":"success",disabled:n||u,onClick:g,icon:(()=>n?r.createElement(p.D,null):u?r.createElement(D,null):r.createElement(p.s,null))()}},r.createElement(I,{key:"undo-redo",save:g}))},C=n(1050),A=n(185);const w=o.StyleSheet.create({editToolbar:{position:"fixed",bottom:c.ob.S200,right:c.ob.S200,zIndex:c.rb.EDIT_BUTTON,[`@media ${d.f}`]:{display:"none"},"@media print":{display:"none"}}});function R(e){return{unresolvedConflicts:!e.edition.areConflictsResolved()}}var _=r.memo(function(e){const t=e.revision,n=Object(u.k)(),o=Object(u.l)().contentContext,d=o.draftID,p=o.editing,b=Object(s.f)().createDraft,f=Object(s.g)(),g=f.saveDraft,h=f.trackCancel,S=Object(a.e)(c.fb.Container)[0].notify,v=Object(s.d)(),I=Object(m.f)(R).unresolvedConflicts,x=Object(s.i)().hasRestrictedUsage,O=Object(A.c)(),k=O.toggle,D=O.tab,_=Object(C.a)(),j=_.isLoading,T=_.withLoading,H=Object(l.k)({draft:d?i.m.queryByID({spaceID:v.uid,draftID:d}):null}).draft,B=H&&H.value;if(x||o.revisionID||o.commentAnchor)return null;const W=()=>{D&&"content"!==D&&k("content")};return r.createElement(c.gb,{styles:[w.editToolbar]},(()=>d?p?L({onClick:W,draft:B,unresolvedConflicts:I,navigate:n,saveDraft:g,trackCancel:h,notify:S,revision:t,contentContext:o,isLoading:j,withLoading:T}):B&&B.isOpened?y({navigate:n,onClick:W}):null:E({navigate:n,createDraft:b,onClick:W}))())});n.d(t,"a",function(){return _})}}]);