(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[100],{1013:function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(13),l=n(1),i=n(39),c=n(10),s=n(9),u=n(25),p=n(21);const d=o.StyleSheet.create({trademark:{color:l.kb.GREY_BASE,backgroundColor:l.kb.GREY_LIGHTER,display:"flex",alignItems:"center",borderRadius:l.jb.RADIUS_NORMAL},trademarkLogo:{fontSize:40},trademarkContent:{flex:1,paddingLeft:l.jb.PADDING_NORMAL},trademarkPowered:{color:"inherit",textDecoration:"none",":hover":{color:l.kb.BLUE_BASE}},trademarkSignIn:{color:"inherit",textDecoration:"none",paddingBottom:"0.1em",borderBottom:"1px solid",":hover":{color:l.kb.BLUE_BASE}},trademarkHover:{color:l.kb.BLUE_BASE}});var m=function(e){const t=Object(p.c)().baseDomain,n=r.useState(!1),a=n[0],i=n[1],c=`https://www.gitbook.com/?utm_source=content&utm_medium=trademark&utm_campaign=${t}`;return r.createElement(l.gb,{styles:[l.gb.MARGIN.S200,l.gb.PADDING.S200,d.trademark]},r.createElement("a",{href:c,target:"_blank",className:Object(o.css)(d.trademarkLogo,d.trademarkPowered,a&&d.trademarkHover),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)},r.createElement(s.qc,null)),r.createElement(l.gb,{styles:[d.trademarkContent]},r.createElement(l.gb,null,r.createElement(l.eb.TextH200,null,r.createElement("a",{href:c,target:"_blank",className:Object(o.css)(d.trademarkPowered,a&&d.trademarkHover)},r.createElement(l.eb.TextH200,null,"Powered by ",r.createElement("b",null,"GitBook"))))),r.createElement(l.gb,null,r.createElement(l.eb.TextH200,null,"Have an account? ",r.createElement(u.d,{component:"a","data-test":"login",className:Object(o.css)(d.trademarkSignIn)},"Sign in")))))},E=n(185),g=n(71),b=n.n(g),f=n(288);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=o.StyleSheet.create({container:{display:"flex",alignItems:"center",padding:l.ob.S200,margin:l.ob.S300,background:l.kb.WHITE,border:`1px solid ${l.kb.GREY_LIGHT}`,borderLeft:`4px solid ${l.kb.BLUE_BASE}`,borderRadius:l.jb.RADIUS_NORMAL,boxShadow:l.jb.SHADOW_HIGH,cursor:"pointer",[`@media ${i.n}`]:{display:"none"}},icon:{color:l.kb.GREY_BASE,fontSize:l.lb.SIZE_ICON_MEDIUM},textContainer:{display:"flex",flexDirection:"column",paddingLeft:l.ob.S100},lastUpdate:{color:l.kb.GREY_BASE},inputInner:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}({maxWidth:192,border:"none",outline:"none",resize:"none",padding:0},l.lb.FONTS.UIH300,{color:l.kb.BLACK,"::placeholder":{font:"inherit",color:l.kb.GREY_BASE}})});function y(e){const t=e.icon,n=e.hint,a=e.title,i=e.titlePlaceholder,c=e.titleLimit,s=e.onTitleChange,u=e.styles,p=e.onClick,d=r.useRef();return r.createElement(l.gb,{onClick:p,styles:[v.container,u]},r.createElement(l.gb,{styles:[v.icon]},t),r.createElement(l.gb,{styles:[v.textContainer]},r.createElement(b.a,{refProp:"inputRef",ref:d,placeholder:i,value:a,maxLength:c,onChange:s,component:f.a,onClick:e=>{e.stopPropagation()},onKeyDown:e=>{13===e.keyCode&&d.current&&d.current.blur()},onBeforeChange:e=>e.target.value.replace(/\n/g,"").slice(0,100),className:Object(o.css)(v.inputInner)}),r.createElement(l.eb.UIH200,{styles:[v.lastUpdate]},n)))}y.defaultProps={styles:null,titleLimit:void 0};var I=y;const S=o.StyleSheet.create({orangeBorder:{borderLeftColor:l.kb.ORANGE_BASE}});var O=function(e){const t=e.draftID,n=e.isRevision,o=e.revision,i=e.onClick,u=Object(p.d)(),d=Object(p.f)().renameDraft;return Object(a.m)({draft:c.m.queryByID({spaceID:u.uid,draftID:t}),user:o?c.L.queryByID(o.createdBy):null},e=>{let t,a,u=e.draft,p=e.user;return n?(t=p.displayName,a=r.createElement(s.ob,null)):u.isMerged?(t="Merged",a=r.createElement(s.Hb,null)):(t="Last updated",a=r.createElement(s.J,null)),r.createElement(I,{icon:a,titlePlaceholder:"Describe draft's changes",title:u.title,titleLimit:c.m.TITLE_LIMIT,onTitleChange:e=>{d(u,e)},hint:r.createElement(r.Fragment,null,t," -"," ",r.createElement(l.p,{value:n?o.createdAt:u.lastModifiedAt})),styles:[!u.isMerged&&S.orangeBorder],onClick:i})})};var k=function(e){const t=e.revision,n=e.onClick,o=Object(a.h)(),i=Object(p.d)();return Object(a.m)({user:c.L.queryByID(t.createdBy)},e=>{let a=e.user;return r.createElement(I,{onClick:n,icon:r.createElement(s.ob,null),titlePlaceholder:"Describe what changed",title:t.message,titleLimit:c.B.MESSAGE_LIMIT,onTitleChange:e=>{o.database.updateDocument(t.query(i.uid),{message:e})},hint:r.createElement(r.Fragment,null,a.displayName," - ","",r.createElement(l.p,{value:t.createdAt}))})})};const P=l.ob.S300,L=l.kb.GREY_LIGHTEST,T=o.StyleSheet.create({footer:{display:"block",position:"relative",":before":{display:"block",content:'""',position:"absolute",width:"100%",top:-P,height:P,background:`linear-gradient(to bottom, rgba(255,255,255,0) 0%, ${L} 100%)`}}});var C=function(e){const t=e.isLoggedIn,n=e.revision,o=l.Z.useIsLoading(),a=Object(u.l)().contentContext,i=Object(E.c)(),c=a.draftID,s=a.revisionID;if(o)return null;if(!t)return r.createElement(l.gb,{styles:[T.footer]},r.createElement(m,null));if(i.opened||!c&&!s)return null;const p=()=>{i.toggle()};return r.createElement(l.gb,{styles:[T.footer]},c?r.createElement(O,{draftID:c,revision:n,isRevision:Boolean(s),onClick:p}):r.createElement(k,{revision:n,onClick:p}))},w=n(692);const R=o.StyleSheet.create({sidebarWrapper:{flex:"auto",display:"flex",alignItems:"stretch",width:"100%",height:"100%",flexDirection:"column"},sidebar:{width:"100%",flex:"auto",display:"flex",height:"100%",flexDirection:"column",alignItems:"stretch"},sidebarMain:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:l.kb.GREY_LIGHTEST},sidebarInner:{width:"100%",flex:"1 1 auto"}});t.a=function(e){const t=e.revision,n=e.version,o=e.children,c=Object(a.g)().isLoggedIn;return r.createElement(l.ab,{wrapperStyles:[R.sidebarWrapper],styles:[R.sidebar],query:i.m},r.createElement(l.gb,{styles:[R.sidebarMain]},r.createElement(l.X,{styles:[R.sidebarInner],"data-scrollable":!0},o),r.createElement(C,{isLoggedIn:c,revision:t})),r.createElement(w.a,{version:n,revision:t}))}},1084:function(e,t,n){"use strict";var r=n(0),o=n(79),a=n(10),l=n(1),i=n(603),c=n(3),s=n(9),u=n(23),p=n(21),d=n(51),m=n(25),E=n(54);const g=c.StyleSheet.create({newPageButton:{transition:l.qb.fastEase("opacity")},hidden:{opacity:0}});var b=function(e){const t=e.parent,n=e.index,o=e.version,i=e.hidden,c=function(e){void 0===e&&(e=!1);const t=r.useState(!1),n=t[0],o=t[1];return[n,()=>{o(!0)},()=>{o(!1)}]}(),b=c[0],f=c[1],h=c[2],v=Object(u.d)(),y=Object(m.k)(),I=Object(p.h)().insertPage;return r.createElement(E.a,{styles:[E.a.STYLES.action,l.gb.MARGIN.S300Bottom,g.newPageButton,i&&g.hidden],onClick:()=>{const e=a.w.createUntitled(),r=I(o,t,n,e);y({toPage:r})},onMouseEnter:f,onMouseLeave:h,icon:r.createElement(l.T.Portal,{openByClickOn:r.createElement(E.a.Icon,null,r.createElement(s.Pb,{style:{visibility:b?"hidden":"visible"}}),b&&r.createElement(E.a.IconOverlay,null,r.createElement(s.L,null))),closeOnOutsideClick:!0,closeOnEsc:!0},r.createElement(l.T,{position:"north",align:"middle"},r.createElement(l.K,null,r.createElement(l.K.Item,{icon:r.createElement(s.O,null),onClick:()=>{v(Object(d.c)(t.uid,n))}},"New external link"))))},t&&t.isGroup?"New page in group":"New page")};const f=c.StyleSheet.create({newGroupButton:{borderTop:`1px solid ${l.kb.GREY_LIGHTER}`}});var h=function(e){const t=Object(u.d)();return r.createElement(E.a,{styles:[E.a.STYLES.action,f.newGroupButton,l.gb.MARGIN.S300Bottom],onClick:()=>{t(Object(d.b)())},icon:r.createElement(E.a.Icon,null,r.createElement(s.Kb,null))},"New group")};t.a=Object(o.SortableContainer)(class extends r.Component{render(){const e=this.props,t=e.readOnly,n=e.isShowingOnlyConflicts,o=e.currentPage,c=e.root,s=e.pages,u=e.version,p=e.expanded,d=e.onToggleExpand,m=e.onInsertPageBefore,E=e.onInsertPageAfter,g=e.onInsertPageInRoot,f=e.isSorting;return r.createElement(l.gb,null,r.createElement(i.a,{page:c.page,version:u,diff:c.diff&&(v=c.diff,v.isModified&&!v.isSelfModified?v.merge({type:a.j.TYPES.IDENTICAL}):v),conflict:c.conflict,isSelected:o&&o.uid==c.page.uid,readOnly:t,depth:c.depth,onInsertPageAfter:n||s.isEmpty()?null:g,styles:[t&&s.size>0&&s.first().isInGroup&&l.gb.MARGIN.S300Bottom]}),!t&&!n&&(s.isEmpty()||s.first().isInGroup)&&r.createElement(b,{parent:u.page,version:u,hidden:f,index:0}),s.map((e,a)=>{const g=s.get(a+1),h=null==g||g.page.isGroup||e.isInGroup&&!g.isInGroup,v=e.isInGroup?Math.max(0,e.depth-1):e.depth,y=s.slice(0,a+1).reverse(),I=y.first().isInGroup?y.find(e=>e.page.isGroup):null;let S,O;if(t);else if(I)S=I.page,O=I.page.pages.size;else{const e=y.find(e=>0===e.depth);O=(S=c.page).getIndexOf(e.page)+1}return r.createElement(r.Fragment,{key:e.key},r.createElement(i.a.Sortable,{index:a,page:e.page,version:u,diff:e.diff,conflict:e.conflict,isSelected:o&&o.uid==e.page.uid,readOnly:t,isExpanded:p.get(e.page.uid,!1),onToggleExpand:d,depth:v,onInsertPageBefore:e.page.isGroup||n?null:m,onInsertPageAfter:h||e.page.isGroup||n?null:E,styles:[t&&h&&l.gb.MARGIN.S300Bottom]}),!t&&!n&&h&&r.createElement(b,{parent:S,index:O,version:u,hidden:f}))}),!t&&!n&&r.createElement(h,null));var v}},{withRef:!0})},54:function(e,t,n){"use strict";var r,o,a,l=n(0),i=n(3),c=n(1),s=n(79),u=n(9);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d,m,E,g=Object(s.SortableHandle)((a=o=class e extends l.Component{render(){const t=e.STYLES;return l.createElement(c.gb,p({},this.props,{component:"span",styles:[t.navButtonGrabber]}),l.createElement(u.db,null))}},d=o,m="STYLES",E=i.StyleSheet.create({navButtonGrabber:{cursor:"grab",fontSize:18,position:"absolute",top:"50%",left:0,transform:"translate(-100%, -50%)",color:c.kb.GREY_BASE}}),m in d?Object.defineProperty(d,m,{value:E,enumerable:!0,configurable:!0,writable:!0}):d[m]=E,r=a))||r;function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends l.Component{render(){const e=h.STYLES,t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children"]);return l.createElement(c.gb,b({},r,{component:"span",styles:[e.navButtonIcon,r.onClick&&e.navButtonIconClickable]}),n)}}f(h,"defaultProps",{onClick:null}),f(h,"STYLES",i.StyleSheet.create({navButtonIcon:{color:c.kb.GREY_BASE,fontSize:18,lineHeight:1,position:"relative",padding:c.ob.S100,margin:-c.ob.S100,marginLeft:0},navButtonIconClickable:{cursor:"pointer",":hover":{color:c.kb.GREY_DARKER}}}));var v=h;class y extends l.Component{render(){const e=y.STYLES,t=this.props.children;return l.createElement(c.gb,{component:"span",styles:[e.navButtonIconOverlay]},t)}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(y,"STYLES",i.StyleSheet.create({navButtonIconOverlay:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}));var I,S,O,k=y;function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const L=i.StyleSheet.create({modified:{color:c.kb.DIFF_MODIFIED},added:{color:c.kb.DIFF_ADDED},removed:{color:c.kb.DIFF_REMOVED},identical:{}});var T=c.m.connect(["primary"])((O=S=class e extends l.Component{constructor(){super(...arguments),P(this,"state",{isHover:!1}),P(this,"onMouseEnter",e=>{(0,this.props.onMouseEnter)(e),this.setState({isHover:!0})}),P(this,"onMouseLeave",e=>{(0,this.props.onMouseLeave)(e),this.setState({isHover:!1})})}render(){const t=e.STYLES,n=this.props,r=n.component,o=n.icon,a=n.colorPrimary,i=n.isOpen,s=n.isActive,u=n.isDraggable,p=n.isClickable,d=n.styles,m=n.children,E=n.diff,b=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(n,["component","icon","colorPrimary","isOpen","isActive","isDraggable","isClickable","styles","children","diff"]),f=this.state.isHover,h={};return i&&!E&&(h.color=a),s&&(h.boxShadow=`inset 2px 0 0 ${a}`),l.createElement(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){P(e,t,n[t])})}return e}({},b,{styles:[t.navButton,d,p&&t.navButtonClickable,p&&f&&t.navButtonHover,i&&t.navButtonOpen,s&&t.navButtonActive],style:h,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),l.createElement(l.Fragment,null,u&&l.createElement(g,{style:{opacity:f?1:0}}),l.createElement(c.eb.UIH300,{styles:[t.navButtonLabel,E&&L[E.type]]},m),o))}},P(S,"Icon",v),P(S,"IconOverlay",k),P(S,"defaultProps",{component:c.gb,styles:null,diff:null,icon:null,isDraggable:!1,isClickable:!0,onMouseEnter:()=>{},onMouseLeave:()=>{}}),P(S,"STYLES",i.StyleSheet.create({navButton:{position:"relative",display:"flex",alignItems:"center",textDecoration:"none",color:"inherit",padding:`${c.ob.S100-1}px ${c.ob.S300}px ${c.ob.S100-1}px ${c.ob.S200}px`,border:"1px solid transparent",borderRight:0},navButtonClickable:{cursor:"pointer"},navButtonHover:{backgroundColor:c.kb.GREY_LIGHTER},navButtonOpen:{backgroundColor:c.kb.WHITE,borderColor:`${c.kb.GREY_LIGHTER} !important`,":hover":{backgroundColor:c.kb.WHITE,borderColor:c.kb.GREY_LIGHTER}},navButtonActive:{borderLeftWidth:0,paddingLeft:c.ob.S200+1},navButtonLabel:{flex:1},action:{color:`${c.kb.GREY_BASE} !important`,":hover":{color:c.kb.GREY_DARKER}},large:{paddingTop:c.ob.S200,paddingBottom:c.ob.S200},disabled:{pointerEvents:"none",opacity:.5}})),I=O))||I;t.a=T},603:function(e,t,n){"use strict";var r=n(0),o=n(79),a=n(3),l=n(10),i=n(1),c=n(9),s=n(51),u=n(23),p=n(133),d=n(54);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e){const t=e.styles,n=e.children,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["styles","children"]);return r.createElement("a",m({},o,{className:Object(a.css)(t)}),n)}var g=function(e){const t=e.page,n=e.diff,o=e.readOnly,a=e.styles,l=r.useCallback(e=>{let n=e.navigationPanel,r=e.edition;return{isOpen:n.type===p.a.TYPES.EDIT_PAGE_LINK&&n.pageID===t.uid,isShowingOnlyConflicts:r.isShowingOnlyConflicts}},[t.uid]),i=r.useState(!1),m=i[0],g=i[1],b=Object(u.c)(l),f=b[0],h=f.isOpen,v=f.isShowingOnlyConflicts,y=b[1];return r.createElement(d.a,{component:E,href:t.href,target:"_blank",rel:"noopener noreferrer",icon:r.createElement(d.a.Icon,{onClick:e=>{!o&&(e.preventDefault(),y(Object(s.g)(t.uid)))},"data-navigation-panel-opener":!0},r.createElement(c.O,{style:{visibility:!o&&m?"hidden":"visible"}}),!o&&m&&r.createElement(d.a.IconOverlay,null,r.createElement(c.L,null))),diff:n,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),isOpen:h,isDraggable:!o&&!v,styles:a},t.title)};const b=a.StyleSheet.create({pageGroup:{color:i.kb.GREY_BASE}});var f=function(e){const t=e.page,n=e.readOnly,o=e.diff,a=e.styles,l=r.useCallback(e=>{let n=e.navigationPanel;return n.type===p.a.TYPES.EDIT_PAGE_GROUP&&n.pageID===t.uid},[t.uid]),m=r.useState(!1),E=m[0],g=m[1],f=Object(u.c)(l),h=f[0],v=f[1];return r.createElement(d.a,{styles:[b.pageGroup,a],onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),isClickable:!1,isOpen:h,diff:o,icon:!n&&E&&r.createElement(d.a.Icon,{onClick:()=>{const e=o&&o.isRemoved;!n&&!e&&v(Object(s.f)(t.uid))},"data-navigation-panel-opener":!0},r.createElement(c.L,null))},r.createElement(i.eb.InfoH200,null,t.title))},h=n(13),v=n(376),y=n(25);const I=a.StyleSheet.create({pageDocumentIconExpanded:{transform:"rotateZ(90deg)"}});function S(e){const t=e.page,n=e.version,o=e.conflict,a=e.isSelected,i=e.readOnly,c=e.styles,m=e.isExpanded,E=r.useCallback(e=>{let r=e.navigationPanel,a=e.edition;return{isEditingPage:r.type===p.a.TYPES.EDIT_PAGE_DOCUMENT&&r.pageID===t.uid,isNavigationPanelOpen:r.isOpen,isShowingOnlyConflicts:a.isShowingOnlyConflicts,isResolved:o&&a.isPageResolved(n,t)}},[n,t,o]),g=Object(u.c)(E),b=g[0],f=b.isEditingPage,I=b.isNavigationPanelOpen,S=b.isShowingOnlyConflicts,T=b.isResolved,C=g[1],w=Object(h.h)(),R=r.useState(!1),j=R[0],x=R[1],D=e=>{e.preventDefault(),e.stopPropagation(),C(Object(s.e)(t.uid))},G=n=>{n.preventDefault(),n.stopPropagation(),e.onToggleExpand&&e.onToggleExpand(t)};let _=e.diff;if(_){if(_.isRemoved)return r.createElement(d.a,{diff:_,isClickable:!1,styles:c},t.title);_.isModified&&!_.isSelfModified&&m&&(_=_.merge({type:l.j.TYPES.IDENTICAL}))}const B=n.page.uid===t.uid,A=n.page.getURLOf(t),M=(()=>{if(i){return!B&&t.pages.size>0?r.createElement(O,{onClick:G,isExpanded:m}):null}const e=!B;return e&&j?r.createElement(k,{onClick:D}):o?r.createElement(P,{isResolved:T}):e?r.createElement(L,null):null})();return r.createElement(d.a,{component:y.a,toPage:A,onClick:()=>{C(Object(v.a)())},onMouseDown:()=>{t.documentURL&&w.documents.fetchDocument(t.documentURL)},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),diff:_,icon:M,isOpen:!I&&a||f,isDraggable:!i&&!B&&!S,styles:c,unstyled:!0},t.title)}function O(e){let t=e.onClick,n=e.isExpanded;return r.createElement(d.a.Icon,{onClick:t},r.createElement(c.x,{styles:[n&&I.pageDocumentIconExpanded]}))}function k(e){return r.createElement(d.a.Icon,e,r.createElement(c.L,null))}function P(e){let t=e.isResolved;return r.createElement(d.a.Icon,null,t?r.createElement(c.t,null):r.createElement(c.D,null))}function L(){return r.createElement(d.a.Icon,null,r.createElement(i.y,null))}S.defaultProps={onToggleExpand:null,isExpanded:!1};var T=S;function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const w={[l.w.KIND_DOCUMENT]:T,[l.w.KIND_GROUP]:f,[l.w.KIND_LINK]:g};function R(e){return{color:0===e?i.kb.GREY_DARKER:i.kb.GREY_BASE,marginLeft:`${i.ob.S200*e}px`,borderLeftColor:e>0?i.kb.GREY_LIGHTER:"transparent",boxShadow:Array.from({length:e},(e,t)=>t).slice(1).map(e=>`${-e*i.ob.S200+1}px 0 0 0 ${i.kb.GREY_LIGHTEST}, ${-e*i.ob.S200}px 0 0 0 ${i.kb.GREY_LIGHTER}`).join(", ")}}const j=a.StyleSheet.create({pageItem:{position:"relative",borderLeft:"1px solid transparent"},pageComponent:{marginLeft:-1},insertionLine:{justifyContent:"flex-end",left:"auto",right:0,paddingRight:23}});function x(e){const t=e.version,n=e.page,o=e.depth,a=e.readOnly,l=()=>{e.onInsertPageBefore&&e.onInsertPageBefore(n)},c=()=>{e.onInsertPageAfter&&e.onInsertPageAfter(n)},s=w[n.kind],u=t.page===n;return r.createElement(i.x,null,t=>{let p=t.hoverAttributes,d=t.top,m=t.bottom;return r.createElement(i.gb,C({},p,{styles:[j.pageItem],style:R(o)}),!a&&e.onInsertPageBefore&&d&&r.createElement("div",{className:"draggingHidden"},r.createElement(i.C,{position:"start",orientation:"horizontal",onClick:l,styles:[j.insertionLine],transparent:!0})),r.createElement(i.gb,{styles:[j.pageComponent]},r.createElement(s,e)),!a&&e.onInsertPageAfter&&m&&r.createElement("div",{className:"draggingHidden"},r.createElement(i.C,{position:"end",orientation:"horizontal",onClick:c,styles:[j.insertionLine],style:{width:n.pages.size>0&&!u?`calc(100% - ${i.ob.S200}px)`:null},transparent:!0})))})}x.Sortable=Object(o.SortableElement)(x),x.getDepthStyles=R;t.a=x},692:function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(274),l=n.n(a),i=n(1),c=n(23),s=n(133),u=n(51),p=n(10),d=n(21),m=n(25),E=n(9);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}const f=o.StyleSheet.create({navigationPanel:{},navigationPanelHeader:{display:"flex",alignItems:"center",padding:i.ob.S300,borderBottom:`1px solid ${i.kb.GREY_LIGHTER}`},navigationPanelHeaderTitle:{flex:1,color:i.kb.GREY_DARK},navigationPanelHeaderClose:{cursor:"pointer",color:i.kb.BLACK,marginLeft:i.ob.S200,"&:hover":{color:i.kb.BLUE_BASE}},navigationPanelBody:{padding:i.ob.S300},navigationPanelFooter:{marginTop:i.ob.S100,paddingTop:i.ob.S300,borderTop:`1px solid ${i.kb.GREY_LIGHTER}`},navigationPanelFooterMenu:{margin:`0 -${i.ob.S300}px`},navigationPanelFooterMenuItem:{paddingLeft:i.ob.S300,paddingRight:i.ob.S300,":first-child":{marginTop:0}}});function h(e){let t=e.children,n=b(e,["children"]);return r.createElement(i.K,g({},n,{styles:[f.navigationPanelFooterMenu]}),t)}function v(e){let t=e.styles,n=e.children;return r.createElement(i.gb,{styles:[f.navigationPanelFooter,t]},n)}function y(e){let t=e.title,n=e.children;const o=Object(c.d)();return r.createElement(i.m.Brand,null,r.createElement(i.gb,{styles:[f.navigationPanel]},r.createElement(i.gb,{styles:[f.navigationPanelHeader]},r.createElement(i.eb.InfoH200,{styles:[f.navigationPanelHeaderTitle]},t),r.createElement(i.gb,{onClick:()=>{o(Object(u.a)())},styles:[f.navigationPanelHeaderClose]},r.createElement(E.j,{size:"medium"}))),r.createElement(i.gb,{styles:[f.navigationPanelBody]},n)))}h.Item=function(e){let t=e.children,n=b(e,["children"]);return r.createElement(i.K.Item,g({},n,{styles:[f.navigationPanelFooterMenuItem]}),t)},v.Menu=h,y.Footer=v;var I=y;var S=function(e){const t=e.revision,n=e.versionID,o=Object(c.d)(),a=t.versions.get(n),l=r.useState({title:"",error:null}),s=l[0],E=s.title,g=s.error,b=l[1],f=r.useRef(!1),h=Object(d.h)(),v=h.removeVersion,y=h.updateVersionRef,S=h.updateVersionTitle,O=Object(m.k)();return r.useEffect(()=>{b({title:"",error:null})},[n]),r.useEffect(()=>()=>{f.current||v(a)},[n]),r.createElement(I,{title:"New Release"},r.createElement(i.t,{onSubmit:()=>{const e=E.trim();if(!e)return void b({title:E,error:new Error("Enter a name for this release.")});const n=p.P.getRef(t.versions,p.P.normalizeRef(e));S(a,e),y(a,n),f.current=!0,O({toVersion:n}),o(Object(u.h)(n))}},r.createElement(i.t.Group,{title:"Release Name",error:g},r.createElement(i.t.Input,{hasError:Boolean(g),onChange:e=>{b({title:e.target.value,error:null})},value:E,placeholder:a.title,autoFocus:!0})),r.createElement(I.Footer,null,r.createElement(i.t.Actions,null,r.createElement(i.t.Actions.Left,null,r.createElement(i.h,{kind:"cancel",type:"button",onClick:()=>{v(a),o(Object(u.a)())}},"Cancel")),r.createElement(i.t.Actions.Right,null,r.createElement(i.h,{kind:"primary"},"Save"))))))},O=n(71),k=n.n(O);var P=function(e,t){void 0===e&&(e=null),void 0===t&&(t=6e3);const n=r.useState(e),o=n[0],a=n[1],l=r.useRef(null);return r.useEffect(()=>()=>{l.current&&(clearTimeout(l.current),l.current=null)},[]),[o,function(e){a(e),l.current=setTimeout(()=>a(null),t)}]};function L(e){let t=e.target.value;return t=t.replace(/\s/g,"-"),p.P.normalizeRef(t)}var T=function(e){const t=e.revision,n=e.versionID,o=P(),a=o[0],l=o[1],s=P(),g=s[0],b=s[1],f=Object(c.d)(),h=Object(m.l)().contentContext,v=Object(m.k)(),y=Object(d.h)(),S=y.markVersionAsPrimary,O=y.removeVersion,T=y.updateVersionRef,C=y.updateVersionTitle,w=t.versions.get(n),R=t.primaryVersionID===w.uid;return r.createElement(I,{title:"Release"},r.createElement(i.t,null,r.createElement(i.t.Group,{title:"Release Name",error:a},r.createElement(k.a,{refProp:"inputRef",component:i.t.Input,onChange:e=>{e?C(w,e.trim()):l(new Error("The name cannot be empty."))},value:w.title,placeholder:"Version 2.0"})),r.createElement(i.t.Group,{title:"Release Path",error:g},r.createElement(k.a,{refProp:"inputRef",component:i.t.Input,onBeforeChange:L,onChange:e=>{const n=p.P.getRef(t.versions,e);e!==n&&b(new Error(`The path "${e}" is already taken.`)),T(w,n),w.uid===h.versionID&&v({toVersion:p.P.pathFromUid(n)}),f(Object(u.h)(n))},value:w.path,placeholder:"/v2"}))),!R&&r.createElement(I.Footer,null,r.createElement(I.Footer.Menu,null,r.createElement(I.Footer.Menu.Item,{icon:r.createElement(E.Zb,null),onClick:()=>{S(w),h.versionID===w.uid&&v({toPrimaryVersion:!0})}},"Set as main release"),r.createElement(I.Footer.Menu.Item,{icon:r.createElement(E.ec,null),onClick:()=>{O(w),f(Object(u.a)())}},"Delete this release"))))};var C=function(e){const t=e.version,n=Object(c.d)(),o=r.useState({title:"",error:null}),a=o[0],l=a.title,s=a.error,E=o[1],g=Object(d.h)().createGroup,b=Object(m.k)();return r.createElement(I,{title:"Group"},r.createElement(i.t,{onSubmit:()=>{if(!l||!p.w.isValidTitle(l))return void E({title:l,error:new Error(`Titles are limited to ${p.w.TITLE_LIMIT} characters.`)});const e=p.w.createGroup({title:l}),r=g(t,t.page,e);n(Object(u.a)()),b({toPage:r})}},r.createElement(i.t.Group,{title:"Group Title",error:s},r.createElement(i.t.Input,{hasError:Boolean(s),onChange:e=>{E({title:e.target.value,error:null})},value:l,placeholder:"New Group",maxLength:p.w.TITLE_LIMIT,autoFocus:!0})),r.createElement(I.Footer,null,r.createElement(i.t.Actions,null,r.createElement(i.t.Actions.Left,null,r.createElement(i.h,{kind:"cancel",type:"button",onClick:()=>{n(Object(u.a)())}},"Cancel")),r.createElement(i.t.Actions.Right,null,r.createElement(i.h,{kind:"primary"},"Save"))))))};var w=function(e){const t=e.target.value.replace(/\s/g,"-");return t?t.endsWith("-")?t:p.w.normalizePath(t):t};const R=e=>{return{isShowingOnlyConflicts:e.edition.isShowingOnlyConflicts}};var j=function(e){const t=e.version,n=e.pageID,o=Object(c.c)(R),a=o[0].isShowingOnlyConflicts,l=o[1],s=P(),m=s[0],g=s[1],b=P(),f=b[0],h=b[1],v=Object(d.h)(),y=v.removePage,S=v.updatePagePath,O=v.updatePageTitle,L=v.movePage,T=t.page.getByID(n);if(null==T)throw new Error("Cannot edit a group that doesn't exist");const C=t.page.getParentOf(T);if(null==C)throw new Error("Cannot edit a group that doesn't have a parent");const j=e=>{const n=Math.min(C.pages.size-1,Math.max(0,C.getIndexOf(T)+e));L(t,T,C,n)},x=C.getIndexOf(T),D=C.pages.slice(0,x).some(e=>e.isGroup),G=x<C.pages.size-1;return r.createElement(I,{title:"Group"},r.createElement(i.t,null,r.createElement(i.t.Group,{title:"Group Title",error:m},r.createElement(k.a,{refProp:"inputRef",component:i.t.Input,onChange:e=>{p.w.isValidTitle(e)?O(t,T,e):g(new Error(`Titles are limited to ${p.w.TITLE_LIMIT} characters.`))},value:T.title,placeholder:T.title,maxLength:p.w.TITLE_LIMIT})),r.createElement(i.t.Group,{title:"Group Path",error:f},r.createElement(k.a,{refProp:"inputRef",component:i.t.Input,onBeforeChange:w,onChange:e=>{e?S(t,T,e):h(new Error("Enter a valid path for this page."))},value:T.path,placeholder:T.path}))),r.createElement(I.Footer,null,r.createElement(I.Footer.Menu,null,r.createElement(I.Footer.Menu.Item,{icon:r.createElement(E.l,null),onClick:()=>j(-1),disabled:!D||a},"Move up"),r.createElement(I.Footer.Menu.Item,{icon:r.createElement(E.i,null),onClick:()=>j(1),disabled:!G||a},"Move down"),r.createElement(I.Footer.Menu.Item,{icon:r.createElement(E.ec,null),onClick:()=>{y(t,T),l(Object(u.a)())}},"Delete this group"))))};var x=function(e){const t=e.version,n=e.parentID,o=e.index,a=Object(c.d)(),l=r.useState({value:"",error:null}),s=l[0],m=l[1],E=r.useState({value:"",error:null}),g=E[0],b=E[1],f=Object(d.h)().insertPage;return r.createElement(I,{title:"External Link"},r.createElement(i.t,{onSubmit:()=>{const e=!s.value||!p.w.isValidTitle(s.value);e&&m({value:s.value,error:new Error(`Titles are limited to ${p.w.TITLE_LIMIT} characters.`)});const r=!g.value||!p.w.isValidHref(g.value);if(r&&b({value:g.value,error:new Error("This URL is not valid.")}),e||r)return;const l=t.page.getByID(n);if(null==l)throw new Error("Cannot insert a page in a non-existing parent");const i=p.w.createLink({title:s.value,href:g.value});f(t,l,o,i),a(Object(u.a)())}},r.createElement(i.t.Group,{title:"Link Title",error:s.error},r.createElement(i.t.Input,{hasError:Boolean(s.error),onChange:e=>{m({value:e.target.value,error:null})},value:s.value,placeholder:"Example",maxLength:p.w.TITLE_LIMIT,autoFocus:!0})),r.createElement(i.t.Group,{title:"Link URL",error:g.error},r.createElement(i.t.Input,{type:"url",hasError:Boolean(g.error),onChange:e=>{b({value:e.target.value,error:null})},value:g.value,placeholder:"https://example.com"})),r.createElement(I.Footer,null,r.createElement(i.t.Actions,null,r.createElement(i.t.Actions.Left,null,r.createElement(i.h,{kind:"cancel",type:"button",onClick:()=>{a(Object(u.a)())}},"Cancel")),r.createElement(i.t.Actions.Right,null,r.createElement(i.h,{kind:"primary"},"Save"))))))};var D=function(e){const t=e.version,n=e.pageID,o=Object(c.d)(),a=P(),l=a[0],s=a[1],m=P(),g=m[0],b=m[1],f=Object(d.h)(),h=f.removePage,v=f.updatePage,y=f.updatePageTitle,S=t.page.getByID(n);if(null==S)throw new Error("Cannot edit a page that doesn't exist");return r.createElement(I,{title:"External Link"},r.createElement(i.t,null,r.createElement(i.t.Group,{title:"Link Title",error:l},r.createElement(k.a,{refProp:"inputRef",component:i.t.Input,onChange:e=>{p.w.isValidTitle(e)?y(t,S,e):s(new Error(`Titles are limited to ${p.w.TITLE_LIMIT} characters.`))},value:S.title,placeholder:S.title,maxLength:p.w.TITLE_LIMIT})),r.createElement(i.t.Group,{title:"Link URL",error:g},r.createElement(k.a,{refProp:"inputRef",component:i.t.Input,onChange:e=>{e&&p.w.isValidHref(e)?v(t,S.merge({href:e})):b(new Error("This URL is not valid."))},value:S.href,placeholder:S.href}))),r.createElement(I.Footer,null,r.createElement(I.Footer.Menu,null,r.createElement(I.Footer.Menu.Item,{icon:r.createElement(E.ec,null),onClick:()=>{h(t,S),o(Object(u.a)())}},"Delete this link"))))};var G=function(e){let t=e.version,n=e.pageID;const o=Object(c.d)(),a=Object(m.k)(),l=P(),s=l[0],g=l[1],b=P(),f=b[0],h=b[1],v=Object(d.h)(),y=v.removePage,S=v.updatePageTitle,O=v.updatePagePath,L=v.insertPage,T=t.page.getByID(n);if(null==T)throw new Error("Cannot edit a page that doesn't exist");return r.createElement(I,{title:"Page"},r.createElement(i.t,null,r.createElement(i.t.Group,{title:"Page Title",error:s},r.createElement(k.a,{refProp:"inputRef",component:i.t.Input,onChange:e=>{p.w.isValidTitle(e)?S(t,T,e):g(new Error(`Titles are limited to ${p.w.TITLE_LIMIT} characters.`))},value:T.title,placeholder:T.title,maxLength:p.w.TITLE_LIMIT,autoFocus:!0})),r.createElement(i.t.Group,{title:"Page Path",error:f},r.createElement(k.a,{refProp:"inputRef",component:i.t.Input,onBeforeChange:w,onChange:e=>{e?O(t,T,e):h(new Error("Enter a valid path for this page."))},value:T.path,placeholder:T.path}))),r.createElement(I.Footer,null,r.createElement(I.Footer.Menu,null,r.createElement(I.Footer.Menu.Item,{icon:r.createElement(E.b,null),onClick:()=>{const e=L(t,T,0,p.w.createUntitled());if(null==e)throw new Error("Cannot redirect: new child page doesn't have an URL");o(Object(u.a)()),a({toPage:e})}},"Insert child page"),r.createElement(I.Footer.Menu.Item,{icon:r.createElement(E.ec,null),onClick:()=>{y(t,T),o(Object(u.a)())}},"Delete this page"))))};function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e){return!!l()(e,"[data-navigation-panel-wrapper]")}const A={[s.a.TYPES.CREATE_RELEASE]:S,[s.a.TYPES.EDIT_RELEASE]:T,[s.a.TYPES.CREATE_PAGE_GROUP]:C,[s.a.TYPES.EDIT_PAGE_GROUP]:j,[s.a.TYPES.CREATE_PAGE_LINK]:x,[s.a.TYPES.EDIT_PAGE_LINK]:D,[s.a.TYPES.EDIT_PAGE_DOCUMENT]:G},M=o.StyleSheet.create({navigationPanel:{position:"absolute",top:0,left:"calc(100% + 1px)",height:"100%",width:330,backgroundColor:i.kb.WHITE}}),H=e=>{return e.navigationPanel};var Y=function(e){const t=Object(c.c)(H),n=t[0],o=t[1],a=n.type&&A[n.type];return null==a?null:r.createElement(i.k,{onClickOutside:e=>{(function(e){return!!l()(e,"[data-navigation-panel-opener]")})(e)||o(Object(u.a)())}},t=>r.createElement(i.gb,{ref:t,styles:[M.navigationPanel],"data-navigation-panel-wrapper":!0},r.createElement(a,_({},e,n.toObject()))))};n.d(t,"a",function(){return Y}),n.d(t,"b",function(){return B})}}]);