(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[110],{1081:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(26),i=n(3),l=n(1),c=n(6),s=n(9);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d,p,m,h=class extends a.a{constructor(){super(...arguments),u(this,"state",{key:null}),u(this,"onOpen",e=>{this.setState({key:e})}),u(this,"onClose",()=>{this.setState({key:null})}),u(this,"controlsIsOpen",e=>this.state.key===e)}},b=n(96);class g extends o.a.Component{render(){const e=this.props,t=e.style,n=e.onClick,r=g.ICONS[t];return o.a.createElement(r,{style:{color:C[t]},onMouseDown:n})}}d=g,p="ICONS",m={[c.m.STYLES.INFO]:s.ub,[c.m.STYLES.WARNING]:s.N,[c.m.STYLES.DANGER]:s.c,[c.m.STYLES.SUCCESS]:s.t},p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m;var y=g;function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends r.Component{constructor(){super(...arguments),E(this,"onMouseDown",()=>{const e=this.props,t=e.style;return(0,e.onPick)(t)})}render(){const e=this.props,t=e.style,n=e.isActive,o=t.charAt(0).toUpperCase()+t.slice(1);return r.createElement(l.K.Item,{icon:r.createElement(y,{key:t,style:t}),onMouseDown:this.onMouseDown,active:n},o)}}class v extends r.Component{constructor(){super(...arguments),E(this,"onClickDelete",()=>{const e=this.props,t=e.editor,n=e.node;c.V(t,e=>e.removeNodeByKey(n.key))}),E(this,"onStyleChanged",e=>{const t=this.props,n=t.editor,r=t.node;c.V(n,t=>t.setNodeByKey(r.key,{data:{style:e}}))}),E(this,"onToggle",e=>{const t=this.props,n=t.container,r=t.node;e?n.onOpen(r.key):n.onClose()})}render(){const e=this.props,t=e.node,n=e.isOpen;return r.createElement(b.a,f({isOpen:n,onToggle:this.onToggle},this.props,{menu:r.createElement(l.K,null,Object.values(c.m.STYLES).map(e=>r.createElement(S,{key:e,style:e,onPick:this.onStyleChanged,isActive:t.data.get("style")===e})),r.createElement(l.K.Divider,null),r.createElement(l.K.Item,{icon:r.createElement(s.ec,null),onMouseDown:this.onClickDelete},"Delete"))}))}}var O=n(37);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const C={[c.m.STYLES.INFO]:l.kb.BLUE_BASE,[c.m.STYLES.WARNING]:l.kb.ORANGE_BASE,[c.m.STYLES.SUCCESS]:l.kb.GREEN_BASE,[c.m.STYLES.DANGER]:l.kb.RED_BASE},A=i.StyleSheet.create({blockHint:{position:"relative",width:"100%",backgroundColor:l.kb.GREY_LIGHTEST,padding:`${l.ob.S300}px ${l.ob.S300}px calc(1px / 10) 50px`,marginTop:l.ob.S400,marginBottom:l.ob.S400,borderLeft:"4px solid",borderRadius:l.jb.RADIUS_NORMAL},hintIcon:{position:"absolute",left:l.ob.S200,fontSize:l.lb.SIZE_LARGE},hintIconEditable:{cursor:"pointer",zIndex:l.rb.CONTROLS+2}}),L=i.StyleSheet.create({[c.e.HEADING_1]:{top:l.ob.S300+5},[c.e.HEADING_2]:{top:l.ob.S300+2},[c.e.HEADING_3]:{top:l.ob.S300-1},[c.e.PARAGRAPH]:{top:l.ob.S300}});function I(e){const t=e.node,n=e.children,r=e.readOnly,i=e.attributes,c=Object(a.d)(h)[0],s=t.data.get("style"),u=t.nodes.first().type||"paragraph",d=L[u],p=r?{}:{onClick:()=>{c.onOpen(t.key)}};return o.a.createElement(l.gb,k({styles:[A.blockHint],style:{borderColor:C[s]}},i),o.a.createElement(l.gb,{styles:[A.hintIcon,!r&&A.hintIconEditable,d]},o.a.createElement(y,k({style:s},p))),o.a.createElement(O.b.Provider,{value:!0},n))}I.SideControls=(e=>r.createElement(a.c,{to:[h]},t=>r.createElement(v,f({container:t,isOpen:t.controlsIsOpen(e.node.key)},e))));var w=I;n.d(t,"a",function(){return w})},1083:function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(1),i=n(9),l=n(6),c=n(37),s=n(26),u=n(155),d=n(96);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h,b,g,y=class extends r.Component{constructor(){super(...arguments),m(this,"onDelete",()=>{const e=this.props,t=e.editor,n=e.node;l.V(t,e=>e.removeNodeByKey(n.key))}),m(this,"onUpdateFile",e=>{const t=this.props,n=t.editor,r=t.node,o=n.value;n.onChange(o.change().setNodeByKey(r.key,{data:e}))})}render(){return r.createElement(d.a,p({},this.props,{menu:r.createElement(a.K,null,r.createElement(s.c,{to:[u.AssetsManagerContainer]},e=>{let t=e.selectFile;return r.createElement(a.K.Item,{icon:r.createElement(i.Tb,null),onMouseDown:()=>t({onPick:this.onUpdateFile})},"Replace")}),r.createElement(a.K.Item,{icon:r.createElement(i.ec,null),onMouseDown:this.onDelete},"Delete"))}))}},f=n(71),E=n.n(f);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=a.m.connect(["primary"])((g=b=class e extends r.Component{constructor(){super(...arguments),S(this,"onClickCaption",e=>{e.preventDefault(),e.stopPropagation()}),S(this,"onCaptionChange",e=>{const t=this.props,n=t.node,r=t.editor;l.V(r,t=>{t.setNodeByKey(n.key,{data:n.data.merge({caption:e})})})}),S(this,"onCaptionKeyDown",e=>{const t=this.props,n=t.node,r=t.editor;""===e.target.value&&8===e.keyCode&&(e.preventDefault(),l.V(r,e=>{e.removeNodeByKey(n.key)}))})}render(){const t=e.STYLES,n=this.props,a=n.node,i=n.colorPrimary,l=n.inputRef,c=a.data.get("caption");return r.createElement(E.a,{ref:l,placeholder:"Enter a caption for this file",value:c,onChange:this.onCaptionChange,onKeyDown:this.onCaptionKeyDown,onClick:this.onClickCaption,className:Object(o.css)(t.captionInput),style:{color:i},autoComplete:"off"})}},S(b,"STYLES",o.StyleSheet.create({captionInput:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){S(e,t,n[t])})}return e}({width:"100%",border:"none",font:"inherit",lineHeight:"inherit",color:"inherit",margin:0,padding:0},a.lb.FONTS.UIH400,{"::placeholder":{fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit",color:a.kb.BLUE_LIGHTER,fontFamily:"inherit"}})})),h=g))||h;const O=o.StyleSheet.create({subTitleWrapper:{flex:"0 0 auto"},captionTitle:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}});function k(e){const t=e.readOnly,n=e.node,o=e.editor,s=e.isSelected,u=e.attributes,d=Object(c.l)().revision,p=r.useRef(null),m=n.data.toJS(),h=m.assetID,b=m.caption,g=d.assets.get(h),y=()=>{p.current&&p.current.select()};return g?r.createElement(a.gb,u,r.createElement(a.i,{component:"a",href:g.downloadURL,target:"_blank",download:g.name,onClick:e=>{t||(e.preventDefault(),e.stopPropagation(),l.V(o,e=>{e.collapseToStartOf(n).blur()}),setTimeout(y,1))},selectable:!t,selected:s,styles:[a.gb.MARGIN.S400Vertical]},r.createElement(a.i.Icon,{usePrimaryColor:!0},r.createElement(i.I,null)),r.createElement(a.i.Body,{styles:[O.captionTitle]},t||!s?r.createElement(a.i.Title,{usePrimaryColor:!0,styles:[O.captionTitle]},b||g.name):r.createElement(v,{inputRef:p,node:n,editor:o})),r.createElement(a.i.Body,{styles:[O.subTitleWrapper]},r.createElement(a.i.Hint,null,g.name," - ",r.createElement(a.r,{value:g.blobSize}))))):t?null:r.createElement(a.gb,u,r.createElement(a.i,{selectable:!t,selected:s,styles:[a.gb.MARGIN.S400Vertical]},r.createElement(a.i.Icon,{usePrimaryColor:!0},r.createElement(i.mc,null)),r.createElement(a.i.Body,null,r.createElement(a.i.Title,null,"File no longer exists"))))}k.SideControls=y;var C=k;n.d(t,"a",function(){return C})},1089:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(3),i=n(1);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const c=a.StyleSheet.create({blockDiff:{paddingLeft:15,marginLeft:-19,borderLeft:"4px solid",borderColor:"transparent"}}),s={modified:i.kb.DIFF_MODIFIED,added:i.kb.DIFF_ADDED,removed:i.kb.DIFF_REMOVED,identical:"transparent"};var u=class extends o.a.Component{render(){const e=this.props,t=e.node,n=e.children,r=e.attributes;return o.a.createElement("div",l({className:Object(a.css)(c.blockDiff),style:{borderColor:s[t.data.get("type")]}},r),n)}};n.d(t,"a",function(){return u})},331:function(e,t,n){"use strict";var r=n(0),o=n(10),a=n(13),i=(n(12),n(3)),l=n(1),c=n(6);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.Component{constructor(e){super(e),s(this,"input",r.createRef()),s(this,"onBlur",()=>{const e=this.props,t=e.node,n=e.editor,r=this.state.value,o=t.data.get("caption","");r!==o&&c.V(n,e=>e.setNodeByKey(t.key,{data:t.data.merge({caption:r})}))}),s(this,"onChange",e=>{this.setState({value:e.target.value})}),s(this,"onKeyDown",e=>{const t=this.props,n=t.editor,r=t.node,o=this.state.value;"Enter"===e.key&&(e.preventDefault(),c.V(n,e=>{const t=e.value.document.getParent(r.key),n=t.nodes.findIndex(e=>e.key===r.key),a=r.data.get("caption",""),i=c.s.create("");return o!==a&&e.setNodeByKey(r.key,{data:r.data.merge({caption:o})}),e.insertNodeByKey(t.key,n+1,i).moveToRangeOf(i).focus()}))}),s(this,"onClick",e=>{e.stopPropagation()}),this.state={value:e.node.data.get("caption","")}}componentWillReceiveProps(e){const t=this.props.node.data.get("caption",""),n=e.node.data.get("caption","");t!==n&&this.setState({value:n})}render(){const e=u.STYLES,t=this.props,n=t.readOnly,o=t.placeholder,a=this.state.value;return n&&!a?null:r.createElement("figcaption",{className:Object(i.css)(e.caption)},r.createElement(l.eb.TextH400,{style:{maxWidth:"100%"}},n?a:r.createElement(l.d,{ref:this.input,value:a,onClick:this.onClick,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown,placeholder:o,style:{display:"inline-flex",maxWidth:"100%"},inputClassName:Object(i.css)(e.captionInput)})))}}s(u,"STYLES",i.StyleSheet.create({caption:{padding:`${l.ob.S100}px 0`,margin:0,color:l.kb.GREY_BASE,wordBreak:"normal",overflow:"hidden"},captionInput:{border:"none",outline:"none",maxWidth:"100%",padding:0,color:l.kb.GREY_BASE,textAlign:"left","::placeholder":{color:l.kb.GREY_BASE}}}));var d,p,m,h=u;function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class g extends r.Component{render(){const e=this.props,t=e.children,n=e.readOnly,o=e.isSelected,a=e.caption,i=e.styles,c=e.label,s=e.align,u=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["children","readOnly","isSelected","caption","styles","label","align"]),d=g.STYLES,p=s||"center";return r.createElement(l.gb,b({},u,{"aria-label":c,styles:[d.figure,a&&d.figureWithCaption,c&&[l.pb.tooltipped,l.pb.top,l.pb.delayed]],contentEditable:!1,component:"figure"}),r.createElement(l.gb,{styles:["center"==s&&d.figureAlignCenter,"left"==s&&d.figureAlignLeft]},r.createElement(l.gb,{styles:[d.figureLayer,i]},t,!n&&r.createElement(l.gb,{styles:[d.figureEditLayer,o&&d.figureEditLayerSelected]}))),r.createElement(l.gb,{styles:["center"==p&&d.figureAlignCenter,"left"==p&&d.figureAlignLeft]},a))}}d=g,p="STYLES",m=i.StyleSheet.create({figure:{margin:`${l.ob.S400}px auto`},figureWithCaption:{margin:`${l.ob.S400}px auto ${l.ob.S300}px auto`},figureAlignCenter:{display:"flex",justifyContent:"center"},figureAlignLeft:{display:"flex",justifyContent:"flex-start"},figureLayer:{position:"relative",maxWidth:"100%"},figureEditLayer:{position:"absolute",top:-4,left:-4,bottom:-4,right:-4,borderRadius:3,zIndex:1,border:"2px solid transparent",":hover":{borderColor:l.kb.BLUE_LIGHTER}},figureEditLayerSelected:{borderColor:l.kb.BLUE_BASE,":hover":{borderColor:l.kb.BLUE_BASE}}}),p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m;var y=g,f=n(146);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends r.Component{render(){const e=this.props.embed,t=S.STYLES;return r.createElement(l.Z.Consumer,null,n=>r.createElement(l.i,{component:"a",href:e.url,rel:"noopener noreferrer",target:"_blank",spellCheck:!1,styles:[t.embedLink]},r.createElement(l.i.Body,{styles:[t.embedLinkText,e.thumbnail&&t.embedLinkTextWithThumbmail]},r.createElement(l.i.Title,null,e.title),e.description&&r.createElement(l.i.Desc,{component:"span",styles:t.embedLinkDescription},e.description),r.createElement(l.i.Hint,null,Object(f.parse)(e.url).hostname)),e.thumbnail?r.createElement(l.gb,{styles:[t.embedLinkThumbnail,n&&t.embedLinkThumbnailLoading],style:n?{}:{backgroundImage:`url(${e.thumbnail})`}}):null))}}E(S,"STYLES",i.StyleSheet.create({embedLink:{[`@media ${l.G.SMALLER_THAN_MOBILE}`]:{flexDirection:"column-reverse"}},embedLinkText:{justifyContent:"space-between",borderRight:`1px solid ${l.kb.GREY_LIGHTER}`,padding:l.ob.S300,":first-child":{paddingLeft:l.ob.S300},":last-child":{paddingRight:l.ob.S300},[`@media ${l.G.SMALLER_THAN_MOBILE}`]:{borderRight:"none"}},embedLinkTextWithThumbmail:{height:"160px",[`@media ${l.G.SMALLER_THAN_MOBILE}`]:{height:"auto"}},embedLinkDescription:{maxHeight:50,overflow:"hidden",marginBottom:l.ob.S100,[`@media ${l.G.SMALLER_THAN_TABLET}`]:{display:"none"}},embedLinkThumbnail:{display:"block",flex:"0 0 auto",width:"162px",height:"162px",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center",borderRadius:"0 2px 2px 0",[`@media ${l.G.SMALLER_THAN_MOBILE}`]:{width:"100%",borderRadius:"2px 2px 0 0"}},embedLinkThumbnailLoading:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}({background:l.kb.PLACEHOLDER},l.ib.placeholder)}));var v=S,O=n(73),k=n.n(O);var C=class extends r.Component{componentDidMount(){this.refresh()}shouldComponentUpdate(e){return this.props.embed.html!==e.embed.html}componentDidUpdate(){this.refresh()}refresh(){window.iframely&&window.iframely.load()}render(){const e=this.props.embed;return r.createElement(r.Fragment,null,r.createElement(l.gb,{dangerouslySetInnerHTML:{__html:e.html}}),r.createElement(k.a,{script:[{src:"//cdn.iframe.ly/embed.js",async:!0}]}))}};const A={type:"link",url:"https://www.gitbook.com",title:"Loading Embed",description:"-----------  ----------  ------ ---------",thumbnail:"https://www.gitbook.com"};var L=class extends r.Component{render(){return r.createElement(l.Z.Provider,{isLoading:!0},r.createElement(v,{embed:A}))}};function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=function(e){const t=e.editor,n=e.readOnly,i=e.node,l=e.isSelected,c=e.attributes,s=i.data.toJS(),u=s.url,d=Object(a.k)({embed:o.n.queryByURL(u)}).embed,p=d.isFetched,m=d.value,b=Object(a.h)();return r.useEffect(()=>{p&&!m&&b.database.commit(new o.n({url:u}).toUpdate())},[p,m]),r.createElement(y,I({isSelected:l,readOnly:n,label:n?null:u,caption:(s.caption||l)&&r.createElement(h,{node:i,editor:t,readOnly:n,placeholder:"Enter a caption (optional)"})},c),(!m||!m.data)&&r.createElement(L,null),m&&m.data&&"rich"==m.data.type&&r.createElement(C,{embed:m.data}),m&&m.data&&"link"==m.data.type&&r.createElement(v,{embed:m.data}))};var D=async function(e){return new Promise((t,n)=>{const r=new Image,o=()=>{t(!1)};r.onabort=o,r.onerror=o,r.onload=(()=>{t(!0)}),r.src=e})};n.d(t,"a",function(){return w}),n.d(t,"d",function(){return D}),n.d(t,"c",function(){return y}),n.d(t,"b",function(){return h})},382:function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(6),i=n(1),l=n(9);const c=o.StyleSheet.create({blockHeadingUp:{cursor:"pointer",outline:"none",width:"1em",height:"1em",lineHeight:"1em",[`@media ${i.G.TABLET}`]:{display:"none"},"@media print":{display:"none"}}});var s=function(e){const t=i.m.useColorPalette();return r.createElement(i.gb,{role:"button",tabIndex:0,styles:[c.blockHeadingUp],style:{color:t.primary},contentEditable:!1,onClick:e=>{e.preventDefault(),window.scroll(0,0)}},r.createElement(l.l,null))};const u=o.StyleSheet.create({blockHeadingAnchor:{width:20,paddingLeft:4,lineHeight:"1em",color:i.kb.BLACK,transition:i.qb.fasterEase("opacity"),":hover":{color:i.kb.BLUE_BASE},"@media print":{display:"none"}},blockHeadingAnchorIcon:{fontSize:i.lb.SIZE_MEDIUM,verticalAlign:"middle"},blockHeadingAnchorHidden:{opacity:0}});var d=function(e){const t=e.id,n=e.hidden;return r.createElement("a",{href:`#${t}`,contentEditable:!1,onClick:e=>{e.stopPropagation()},className:Object(o.css)(u.blockHeadingAnchor,n&&u.blockHeadingAnchorHidden)},r.createElement("span",{className:Object(o.css)(u.blockHeadingAnchorIcon)},r.createElement(l.zb,null)))},p=n(96),m=n(37),h=n(71),b=n.n(h);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends r.Component{constructor(){super(...arguments),g(this,"input",r.createRef()),g(this,"slugify",e=>{const t=e.target.value.replace(/\s/g,"-");return t&&"-"!==t.slice(-1)?a.l.normalizeID(t):t}),g(this,"onStopClickEvent",e=>{e.stopPropagation()}),g(this,"onStopKeyEvent",e=>{e.stopPropagation(),27!==e.keyCode&&13!==e.keyCode||e.preventDefault()})}componentDidMount(){this.input.current&&(this.input.current.focus(),this.input.current.select())}render(){const e=y.STYLES,t=this.props,n=t.value,a=t.onChange,l=t.onBlur;return r.createElement(m.d.Consumer,null,t=>{let c=t.page;const s=t.version.page.getURLOf(c);return r.createElement(i.gb,{styles:[e.anchorInput],onClick:this.onStopClickEvent,onKeyDown:this.onStopKeyEvent,onKeyUp:this.onStopKeyEvent},r.createElement(i.gb,{styles:[e.anchorInputPrefix]},r.createElement(i.eb,null,`/${s}#`)),r.createElement(b.a,{component:i.d,ref:this.input,type:"text",value:n||"",className:Object(o.css)(e.anchorInputInner),inputClassName:Object(o.css)(e.anchorInputInnerInput),onBeforeChange:this.slugify,onChange:a,onBlur:l,placeholder:"Anchor for this heading",placeholderIsMinWidth:!0}))})}}g(y,"STYLES",o.StyleSheet.create({anchorInput:{display:"flex",alignItems:"center"},anchorInputPrefix:{padding:i.ob.S100,flex:"0",background:i.kb.GREY_LIGHTEST,whiteSpace:"nowrap"},anchorInputInner:{flex:"1"},anchorInputInnerInput:{padding:i.ob.S100,font:"inherit",background:"transparent",border:"none",outline:"none",maxWidth:300}}));var f=y;function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=class extends r.Component{constructor(){super(...arguments),S(this,"state",{controlsOpen:!1,editAnchor:!1}),S(this,"onStartChangeAnchor",e=>{e.preventDefault(),e.stopPropagation(),this.setState({editAnchor:!0})}),S(this,"onPopoverToggle",e=>{this.setState({editAnchor:!1,controlsOpen:e})}),S(this,"onAnchorChanged",e=>{const t=this.props,n=t.editor,r=t.node;a.V(n,t=>t.setNodeByKey(r.key,{data:e?{id:e}:{}}))}),S(this,"onAnchorBlurred",()=>{this.setState({controlsOpen:!1,editAnchor:!1})})}render(){const e=this.props,t=e.node,n=e.editor,o=this.state,a=o.controlsOpen,c=o.editAnchor;return r.createElement(p.a,E({},this.props,{isOpen:a,onToggle:this.onPopoverToggle,menu:c?r.createElement(m.a.Consumer,null,e=>{let n=e.headingIDs;return r.createElement(f,{value:n.get(t.key),onChange:this.onAnchorChanged,onBlur:this.onAnchorBlurred})}):r.createElement(p.e,{node:t,editor:n},r.createElement(i.K.Item,{icon:r.createElement(l.zb,null),onClick:this.onStartChangeAnchor},"Change anchor"))}))}},O=n(329);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C={[a.e.HEADING_1]:"HeadingH700",[a.e.HEADING_2]:"HeadingH600",[a.e.HEADING_3]:"HeadingH400"},A={[a.e.HEADING_1]:{top:i.ob.S400+i.ob.S500+1},[a.e.HEADING_2]:{top:i.ob.S400},[a.e.HEADING_3]:{top:i.ob.S300}},L=o.StyleSheet.create({blockHeading:{position:"relative",display:"flex",margin:0,marginBottom:i.ob.S300,color:i.kb.BLACK},blockHeadingContent:{flex:1},blockHeading1WithMargin:{position:"relative",marginTop:A[a.e.HEADING_1].top,":before":{content:'" "',position:"absolute",top:-i.ob.S400,left:0,height:1,width:"100%",backgroundColor:i.kb.GREY_LIGHTER}},blockHeading2WithMargin:{marginTop:A[a.e.HEADING_2].top},blockHeading3WithMargin:{marginTop:A[a.e.HEADING_3].top}});function I(e){const t=e.value,n=e.node,l=e.children,c=e.attributes,u=e.readOnly,p=r.useState(!1),h=p[0],b=p[1],g=Object(m.j)().headingIDs,y=a.l.getLevel(n),f=g.get(n.key),E=u&&1===y,S=!Object(a.O)(t.document.getParent(n.key),n),v=C[n.type],A=i.eb[v];return r.createElement(O.a,e,r.createElement(`h${y}`,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){k(e,t,n[t])})}return e}({id:f,className:Object(o.css)(L.blockHeading,S&&L[`blockHeading${y}WithMargin`]),onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1)},c),r.createElement(m.i.Provider,{value:i.lb.FONTS[v]},r.createElement("div",{className:Object(o.css)(L.blockHeadingContent)},r.createElement(A,null,l),u&&r.createElement(d,{id:f,hidden:!h})),E&&r.createElement(s,null))))}I.SideControls=v,I.MARGINS=A;var w=I;n.d(t,"a",function(){return w})},600:function(e,t,n){"use strict";var r=n(1011);n.d(t,"a",function(){return r.a});var o=n(1005);n.d(t,"b",function(){return o.a})},687:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r=n(29);const o=Object(r.a)({chunkName:()=>"EmojiPicker",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(1),n.e(150),n.e(151),n.e(154),n.e(153),n.e(152),n.e(149),n.e(148),n.e(66)]).then(n.bind(null,1128)),requireSync(e){const t=this.resolve(e);return n(t)},resolve:()=>1128}),a=Object(r.a)({chunkName:()=>"InlineEmoji",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(1),n.e(67)]).then(n.bind(null,1109)),requireSync(e){const t=this.resolve(e);return n(t)},resolve:()=>1109})}).call(this,"/")},820:function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(1),i=n(331);var l,c,s,u=function(e,t){const n=e.data.toObject(),r=n.src,o=n.assetID;if(o){const e=t.assets.get(o);return e?{src:e.downloadURL,asset:e}:{}}return{src:r}},d=n(15),p=n(1054),m=n.n(p);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class b extends r.Component{render(){const e=b.STYLES,t=this.props,n=t.src,a=t.readOnly;return r.createElement(d.b,{url:n},t=>{const n={src:t,className:Object(o.css)(e.imgTag)};return a?r.createElement(m.a,{image:n,shouldRespectMaxDimension:!0}):r.createElement("img",h({alt:""},n))})}}l=b,c="STYLES",s=o.StyleSheet.create({imgTag:{display:"block",maxWidth:"100%",width:"auto",maxHeight:"60vh"}}),c in l?Object.defineProperty(l,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[c]=s;var g=b,y=n(6),f=n(9),E=n(96),S=n(26),v=n(155);var O=class extends r.Component{render(){const e=this.props.onChange;return r.createElement(S.c,{to:[v.AssetsManagerContainer]},t=>{let n=t.selectImage;return r.createElement(a.K.Item,{icon:r.createElement(f.Tb,null),onMouseDown:()=>n({onPick:e})},"Replace")})}};function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=class extends r.Component{constructor(){super(...arguments),k(this,"setAlign",e=>{const t=this.props,n=t.editor,r=t.node,o=n.value,a=r.data.merge({align:e});n.onChange(o.change().setNodeByKey(r.key,{data:a}))}),k(this,"onSetAlignLeft",()=>{this.setAlign("left")}),k(this,"onSetAlignCenter",()=>{this.setAlign("center")})}render(){const e=this.props.node.data.get("align")||"center";return r.createElement(r.Fragment,null,r.createElement(a.K.Item,{icon:r.createElement(f.e,null),onMouseDown:this.onSetAlignLeft,active:"left"===e},"Align left"),r.createElement(a.K.Item,{icon:r.createElement(f.d,null),onMouseDown:this.onSetAlignCenter,active:"center"===e},"Align center"))}};function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=class extends r.Component{constructor(){super(...arguments),L(this,"onDelete",()=>{const e=this.props,t=e.editor,n=e.node;y.V(t,e=>e.removeNodeByKey(n.key))}),L(this,"onUpdateImage",e=>{const t=this.props,n=t.editor,r=t.node,o=n.value;n.onChange(o.change().setNodeByKey(r.key,{data:e}))})}render(){const e=this.props,t=e.editor,n=e.node;return r.createElement(E.a,A({},this.props,{menu:r.createElement(a.K,null,r.createElement(C,{editor:t,node:n}),r.createElement(a.K.Divider,null),r.createElement(O,{onChange:this.onUpdateImage}),r.createElement(a.K.Item,{icon:r.createElement(f.ec,null),onMouseDown:this.onDelete},"Delete"))}))}},w=n(37),D=n(978),T=n.n(D);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const x=o.StyleSheet.create({imageMightBeSVG:{minWidth:"100px"},imageFallback:{minWidth:"300px"}});function R(e){const t=e.isSelected,n=e.node,o=e.attributes,a=e.editor,l=e.readOnly,c=Object(w.l)().revision,s=n.data.get("caption"),d=u(n,c),p=d.src,m=d.asset,h=n.data.get("align")||"center",b=m&&m.isSvg;return!p&&l?null:r.createElement(i.c,j({readOnly:l,isSelected:t,align:h,styles:[b&&x.imageMightBeSVG,!p&&x.imageFallback],caption:(s||t)&&p&&r.createElement(i.b,{node:n,editor:a,readOnly:l,placeholder:"Enter a caption for this image (optional)"})},o),p?r.createElement(g,{src:p,readOnly:l}):r.createElement(N,null))}R.SideControls=I;const B=o.StyleSheet.create({background:{borderRadius:a.jb.RADIUS_NORMAL,background:a.kb.GREY_LIGHTER},image:{width:"100%"},text:{color:a.kb.GREY_BASE,textTransform:"uppercase",fontWeight:500,fontSize:12}});function N(){return r.createElement(a.gb,{styles:[B.background,a.gb.PADDING.S300]},r.createElement(a.gb,{styles:[B.text]},r.createElement(a.eb,null,"Missing image")),r.createElement("img",{alt:"Asset no longer exists",src:T.a,className:Object(o.css)(B.image)}))}var P=R,_=n(210);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=class extends r.Component{constructor(){super(...arguments),H(this,"onResize",e=>{const t=this.props,n=t.node,r=t.editor;y.V(r,t=>t.setNodeByKey(n.key,{data:n.data.merge({size:e})}))}),H(this,"onSwitchToSmall",()=>{this.onResize("line")}),H(this,"onSwitchToLarge",()=>{this.onResize("original")}),H(this,"onSwitchToBlock",()=>{const e=this.props,t=e.node,n=e.editor;y.V(n,e=>y.n.transformToBlock(e,t))}),H(this,"onReplace",e=>{let t=e.assetID;const n=this.props,r=n.node,o=n.editor;y.V(o,e=>e.setNodeByKey(r.key,{data:r.data.merge({assetID:t})}))})}render(){return r.createElement(_.a,{styles:[_.a.STYLES.hoverSelection]},r.createElement(_.a.Button,{label:"Inline size",onMouseDown:this.onSwitchToSmall},r.createElement(f.tb,null)),r.createElement(_.a.Button,{label:"Original size",onMouseDown:this.onSwitchToLarge},r.createElement(f.sb,null)),r.createElement(_.a.Button,{label:"Convert to block",onMouseDown:this.onSwitchToBlock},r.createElement(f.rb,null)),r.createElement(_.a.Separator,null),r.createElement(S.c,{to:[v.AssetsManagerContainer]},e=>{let t=e.selectImage;return r.createElement(_.a.Button,{label:"Replace",onMouseDown:()=>t({onPick:this.onReplace})},r.createElement(f.Tb,null))}))}};function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const K=o.StyleSheet.create({image:{maxWidth:300,display:"inline-block",border:"2px solid transparent",verticalAlign:"middle",padding:3},imageAnchor:{display:"inline-block"},imageEditable:{":hover":{borderColor:a.kb.BLUE_BASE,borderRadius:a.jb.RADIUS_NORMAL}},imageSelected:{borderColor:a.kb.BLUE_BASE,borderRadius:a.jb.RADIUS_NORMAL},imageSizeLine:{height:"1.5em"}});var U=function(e){const t=e.attributes,n=e.node,i=e.editor,l=e.value,c=e.readOnly,s=e.isFocused,d=Object(w.l)().revision,p=n.data.get("caption"),m=n.data.get("size","original"),h=u(n,d).src,b=s&&l.selection.isCollapsed,g=r.createElement("span",G({className:Object(o.css)(K.imageAnchor)},t),r.createElement(a.A,{src:h,alt:p,styles:[K.image,!c&&K.imageEditable,s&&K.imageSelected,"line"==m&&K.imageSizeLine]}));return c?g:r.createElement(a.T.ManualPortal,{isOpen:b,fixed:!1,anchor:g},r.createElement(M,{node:n,editor:i}))};n.d(t,"a",function(){return P}),n.d(t,"b",function(){return U})}}]);