(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[116],{1048:function(e,t,n){e.exports=n.p+"images/191fea8100e5326798287a117d6e0ae1.svg"},155:function(e,t,n){"use strict";(function(e){n.d(t,"AssetsManagerSideSheet",function(){return c});var r=n(29),o=n(643);n.d(t,"AssetsManagerContainer",function(){return o.a});var i=n(958);n.d(t,"useAssetsManagerActions",function(){return i.a});var a=n(959),s=n.n(a);const c=Object(r.a)({chunkName:()=>"AssetsManagerSideSheet",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>n.e(62).then(n.bind(null,1125)),requireSync(e){const t=this.resolve(e);return n(t)},resolve:()=>1125})}).call(this,"/")},1973:function(e,t,n){"use strict";n.r(t);var r,o,i,a=n(689),s=n(0),c=n(216),l=n(28),u=n(26),d=n(15),m=n(1),f=n(13),g=n(10),p=n(695),E=n(177),b=n(21),v=n(185),h=n(155),I=n(371),y=n(52),D=n(61),O=n(1045),w=n(379),R=n(25),S=n(3),C=n(297),x=n(372),L=n.n(x),j=(n(685),n(1012)),A=n(1048),B=n.n(A);class k extends s.Component{render(){const e=k.STYLES,t=this.props,n=t.baseRevision,r=t.headRevision,o=t.isPublishConflict;return s.createElement(m.gb,{styles:e.schemaWrapper},s.createElement(m.gb,{styles:e.side},s.createElement(m.gb,{styles:e.avatar},s.createElement(d.k,{ownerID:r.createdBy,size:"small"})),s.createElement(m.g,{styles:[e.originBadge,e.draftBadge]},"Draft")),s.createElement("img",{alt:"Conflicts",src:B.a,className:Object(S.css)(e.illustration)}),s.createElement(m.gb,{styles:e.side},s.createElement(m.gb,{styles:e.avatar},s.createElement(d.k,{ownerID:n.createdBy,size:"small"})),s.createElement(m.g,{styles:[e.originBadge,o?e.publishedBadge:e.draftBadge]},o?"Current":"Draft")))}}r=k,o="STYLES",i=S.StyleSheet.create({schemaWrapper:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"stretch",marginBottom:m.ob.S300},illustration:{flex:"0 0 auto",height:84,width:84},side:{position:"relative",flex:"1 1 auto"},avatar:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -100%)"},originBadge:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},draftBadge:{background:m.kb.ORANGE_BASE},publishedBadge:{background:m.kb.BLUE_BASE}}),o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i;var T=k;var P,M=class extends s.Component{render(){const e=this.props,t=e.baseRevision,n=e.headRevision,r=e.isPublishConflict,o=e.onStart,i=e.onCancel;return s.createElement(m.m.Brand,null,s.createElement(m.M,{size:m.M.SIZES.small},s.createElement(m.M.Header,null,s.createElement(m.M.Title,null,"We've detected conflicts")),s.createElement(m.M.Body,null,s.createElement(T,{baseRevision:t,headRevision:n,isPublishConflict:r}),s.createElement(m.gb,null,s.createElement(m.eb.TextH400,{styles:m.eb.COLOR.greyBase},r?"Some recent changes in the current version are conflicting with changes in your draft. Resolve all conflicts and save the draft before merging it.":"Someone made changes to the draft you were editing, which led to conflicts. Resolve the conflicts before saving your changes."))),s.createElement(m.M.Footer,null,s.createElement(m.h,{kind:"cancel",styles:[m.h.STYLES.block,m.gb.MARGIN.S100Right],onClick:i},"Cancel"),s.createElement(m.h,{kind:"primary",styles:[m.h.STYLES.block,m.gb.MARGIN.S100Left],onClick:o},"Resolve conflicts"))))}},N=n(23);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let H="";function U(e){const t=e.onClose,n=e.revision,r=e.conflicts,o=Object(R.k)(),i=Object(b.g)().cancelConflict;return s.createElement(m.U,{isOpened:!0,closeOnEsc:!0,closeOnOutsideClick:!0,onClose:()=>{}},s.createElement(M,{headRevision:r.head,baseRevision:r.base,isPublishConflict:r.isPublish,onStart:()=>{let e;t();const i=n.versions.find(t=>e=t.page.findPage(e=>Boolean(r.getConflict(t,e))));i&&e&&o({toVersion:i.uid,toPage:i.page.getURLOf(e)})},onCancel:()=>{t(),i()}}))}var G=Object(N.b)(e=>{return{conflicts:e.edition.getConflictsState()}})(P=class extends s.Component{constructor(){super(...arguments),_(this,"state",{open:Boolean(this.props.conflicts)}),_(this,"onClose",()=>{const e=this.props.conflicts;e&&(H=e.uid),this.setState({open:!1})})}static getDerivedStateFromProps(e,t){return!t.open&&e.conflicts&&e.conflicts.uid!==H?{open:!0}:!t.open||e.conflicts&&e.conflicts.uid!==H?null:{open:!1}}render(){const e=this.props,t=e.conflicts,n=e.revision;return this.state.open&&t?s.createElement(U,{revision:n,conflicts:t,onClose:this.onClose}):null}})||P,q=n(39),$=n(1079),F=n(9),V=n(376),W=n(51),Y=n(1080),z=n(822);const K=S.StyleSheet.create({contentNavigation:{zIndex:m.rb.SIDEBAR_MOBILE,"@media print":{display:"none"},[`@media ${q.m}`]:{zIndex:m.rb.SIDEBAR,flex:"0 0 auto",background:m.kb.GREY_LIGHTEST,display:"flex",flexDirection:"column",alignItems:"stretch",width:`calc((100% - ${m.mb.CONTAINER_WITH_PADDING}px) / 2 + ${q.o.SIDEBAR_TOTAL_WIDTH}px)`,minWidth:q.o.SIDEBAR_TOTAL_WIDTH,paddingLeft:`calc((100% - ${m.mb.CONTAINER_WITH_PADDING}px) / 2)`,borderRight:`1px solid ${m.kb.GREY_LIGHTER}`}},contentNavigationInner:{flex:1,[`@media ${q.n}`]:{position:"fixed",zIndex:m.rb.SIDEBAR_MOBILE,top:0,left:0,height:"100%",width:"100%",overflowY:"auto",maxWidth:m.mb.SIDEBAR_WIDTH+2*m.ob.S300,backgroundColor:"#fff",transform:"translateX(0) !important",transition:m.qb.fastEase("transform"),borderRight:`1px solid ${m.kb.GREY_LIGHTER}`,boxShadow:"0 0 4px rgba(0,0,0,.14), 0 4px 8px rgba(0,0,0,.28)"}},contentNavigationInnerCollapsed:{[`@media ${q.n}`]:{transform:"translateX(-100%) !important",boxShadow:"none"}},overlay:{position:"absolute",zIndex:m.rb.SIDEBAR_MOBILE-1,[`@media ${q.m}`]:{zIndex:m.rb.SIDEBAR-1}},mobileHeader:{display:"flex",alignItems:"stretch",borderBottom:`1px solid ${m.jb.BORDER_NORMAL}`,color:m.kb.GREY_DARK,backgroundColor:m.kb.WHITE,height:"59px",boxShadow:m.jb.SHADOW_LOW,[`@media ${m.G.TABLET}`]:{display:"none"}},mobileHeaderClose:{padding:`${m.jb.PADDING_SMALL}px ${m.jb.PADDING_NORMAL}px`,fontSize:"24px",display:"flex",alignItems:"center",cursor:"pointer"}});function Z(e){return{sidebarExpanded:e.sidebarExpanded,isNavigationPanelOpen:e.navigationPanel.isOpen}}var X=s.memo(function(e){const t=e.workingRevision,n=e.versionDiffs,r=e.pageRootDiff,o=e.version,i=e.currentPage,a=e.readOnly,c=Object(N.c)(Z),l=c[0],u=l.sidebarExpanded,d=l.isNavigationPanelOpen,f=c[1],g=()=>{f(Object(V.a)()),f(Object(W.a)())};return s.createElement(s.Fragment,null,s.createElement(m.f,{hidden:!u&&!d,onClick:g,styles:[K.overlay]}),s.createElement(m.gb,{styles:[K.contentNavigation]},s.createElement(m.gb,{styles:[K.contentNavigationInner,!u&&K.contentNavigationInnerCollapsed]},s.createElement(z.a,{revision:t,version:o},s.createElement(m.gb,{styles:[K.mobileHeader]},s.createElement(m.gb,{role:"button",tabIndex:-1,styles:[K.mobileHeaderClose],onClick:g},s.createElement(F.j,null))),s.createElement(Y.a,{revision:t,currentVersion:o,versionDiffs:n,readOnly:a}),s.createElement(z.b,{version:o,pageRootDiff:r,currentPage:i,readOnly:a})))))}),J=n(1078),Q=n(73),ee=n.n(Q);var te=function(e){const t=e.appID;return s.useEffect(()=>{const e={app_id:t};window.Intercom?window.Intercom("update",e):(window.Intercom=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.Intercom.q.push(t)},window.Intercom.q=[],window.Intercom("boot",e))},[t]),s.useEffect(()=>()=>{window.Intercom&&(window.Intercom("shutdown"),window.Intercom=null)},[]),s.createElement(ee.a,{script:[{src:`https://widget.intercom.io/widget/${t}`}]})},ne=n(367);const re=S.StyleSheet.create({body:{width:"100%",minHeight:"100vh",color:m.kb.BLACK,background:m.kb.GREY_LIGHTEST,display:"flex",flexDirection:"column"},bodyContent:{width:"100%",margin:"0 auto",display:"flex",flex:"1",color:m.kb.GREY_DARKEST}});function oe(e){const t=e.header,n=e.children;return s.createElement(m.gb,{styles:[re.body]},t,s.createElement(m.gb,{styles:[re.bodyContent]},n))}oe.defaultProps={header:null};var ie=oe;function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const se="content/",ce="You have unsaved changes, are you sure you want to discard them?",le=S.StyleSheet.create({wholeContent:{width:"100%",minHeight:"100%",position:"relative",display:"flex",flexDirection:"column"},wholeContentBody:{flex:"1",display:"flex",alignItems:"stretch",transition:m.qb.fastEase("margin-bottom"),[`@media ${q.h}`]:{paddingTop:q.o.HEADER_DESKTOP_HEIGHT},[`@media ${q.j}`]:{paddingTop:q.o.HEADER_MOBILE_HEIGHT}}});function ue(e){return s.createElement(ie,null,s.createElement(d.g.TrackView,null,s.createElement(R.e,{backTo:{absolute:!1,toRootPage:!0,toPrimaryVersion:!0}})))}const de=s.memo(function(e){const t=e.space,n=e.draft,r=e.contentContext,o=e.revision,i=e.ancestorRevision,a=e.canEdit,c=m.Z.useIsLoading(),l=s.useCallback(e=>{let t=e.edition,n=e.diff;const a=t.revision||o;let s,l=r.versionID?a.versions.get(r.versionID):a.primaryVersion,u=l&&l.page.getByURL(r.pageURL);c&&(l||(l=a.primaryVersion),u||(u=l.page)),n.active&&!t.isEditing&&i&&u&&(s=function(e){let t=e.revision,n=e.ancestorRevision,r=e.version,o=e.page;const i=t.diffVersions(n);let a,s,c;if(r){const e=r.uid,t=i.find(t=>t.uid===e);a=t&&t.original}if(r&&a&&(s=t.diffPages(a.page,r.page),o)){const e=s.findByID(o.uid);c=e&&e.original}return{versionDiffs:i,ancestorVersion:a,pageRootDiff:s,ancestorPage:c}}({revision:a,ancestorRevision:i,version:l,page:u}));const d=t.getConflictsState();return{edition:t,workingRevision:a,page:u,diffs:s,conflicts:d,version:l}},[c,o,i,r.versionID,r.pageURL]),u=Object(N.f)(l),d=u.page,p=u.version,E=u.edition,b=u.workingRevision,v=u.conflicts,h=u.diffs;return Object(f.m)(c||d||!p||E.isEditing?{}:{pageRedirect:g.y.queryByURL({spaceID:t.uid,versionID:p.uid,url:r.pageURL}).setOptions({waitFetched:!1,optimistic:!1})},e=>s.createElement(me,ae({},e,{space:t,page:d,draft:n,revision:o,version:p,edition:E,diffs:h,conflicts:v,canEdit:a,workingRevision:b,contentContext:r})))});function me(e){const t=e.space,n=e.edition,r=e.revision,o=e.version,i=e.workingRevision,a=e.page,c=e.draft,l=e.diffs,u=e.canEdit,f=e.conflicts,g=e.contentContext,p=e.pageRedirect,E=e.pageRedirectFetched,v=Object(d.F)(),I=Object(R.k)(),D=m.Z.useIsLoading(),O=Object(b.g)(),x=O.start,A=O.discard,B=O.cleanupDraftLeftover,k=s.useRef(null);Object(b.b)(()=>n.hasChanges?ce:null,[n.hasChanges]),s.useEffect(()=>{return v.block(e=>{if(e.state&&e.state.ignoreTransition)return null;const t=Object(R.g)(e.pathname),r=g.editing&&!t.editing,o=g.draftID!==t.draftID||g.revisionID!==t.revisionID;return n.hasChanges&&(r||o)?ce:null})},[n.hasChanges,g.editing,g.draftID,g.revisionID]),s.useEffect(()=>{!D&&g.editing&&x(r)},[]),"undefined"!=typeof window&&s.useLayoutEffect(()=>{const e=k.current;e&&((e=>{if(D||o===e.version||g.pageURL!==e.contentContext.pageURL||a||null==e.page)return;if(null==o)return void I({toPrimaryVersion:!0});const t=o.page.getByID(e.page.uid);if(t){const e=o.page.getURLOf(t);return void I({toPage:e})}const n=o.page.getParentOf(e.page);n&&n.isDocument?I({toPage:o.page.getURLOf(n)}):I({toRootPage:!0})})(e),(e=>{const t=Boolean(g.editing),o=Boolean(n.isEditing),i=e.edition.isEditing;if(D)return;if(t==o)return;const a=o!==i;t&&!o?a?I({toEdit:!1}):x(r):!t&&o&&(a&&g.draftID?I({toEdit:!0}):(A(),e.draft&&B(e.draft)))})(e)),k.current={version:o,page:a,edition:n,draft:c,contentContext:g}});const T=!n.isEditing;if(p){const e=o.page.getByID(p.pageID);if(!e)return s.createElement(ue,null);const t=o.page.getURLOf(e);return s.createElement(y.a,{to:Object(R.h)(g,{toPage:t})})}if(!a&&g.pageURL.startsWith(se)){const e=g.pageURL.slice(se.length);return s.createElement(y.a,{to:Object(R.h)(g,{toPage:e})})}if(!1!==E){if(!a)return s.createElement(ue,null);if(a.isGroup){const e=a.pages.find(e=>e.isDocument);return e?s.createElement(y.a,{to:Object(R.h)(g,{toPage:o.page.getURLOf(e)})}):s.createElement(ue,null)}}if(!D&&g.editing&&!u)return s.createElement(y.a,{to:Object(R.h)({pageURL:g.pageURL})});if(!D&&g.editing&&(!c||!c.isOpened))return s.createElement(y.a,{to:Object(R.h)(g,{toEdit:!1})});const P=l||{},M=P.ancestorPage,N=P.versionDiffs,_=P.pageRootDiff,H=a&&f&&f.getConflict(o,a);return s.createElement(ie,{header:s.createElement(j.b,null)},s.createElement(m.R,{styles:[le.wholeContent]},s.createElement(C.StickyContainer,{className:Object(S.css)(le.wholeContentBody)},s.createElement(X,{readOnly:T,draft:c,currentPage:a,workingRevision:i,version:o,versionDiffs:N,pageRootDiff:_}),a&&s.createElement(d.g.TrackView,{dimensions:{[d.g.DIMENSIONS.REVISION]:r.uid,[d.g.DIMENSIONS.VERSION]:o&&o.uid,[d.g.DIMENSIONS.PAGE]:a.uid}},s.createElement(J.a,{page:a,readOnly:T,revision:r,version:o,pageToDiff:M,pageConflict:H,workingRevision:i}))),s.createElement(G,{revision:r}),t.intercomID&&!u&&s.createElement(te,{appID:t.intercomID}),!T&&s.createElement(h.AssetsManagerSideSheet,{revision:i}),s.createElement(L.a,null,s.createElement(w.c,{version:o}),s.createElement(ne.a,null)),!D&&u&&s.createElement($.a,{revision:r})))}me.defaultProps={pageRedirect:void 0,pageRedirectFetched:void 0};var fe=de;function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pe(e){const t=e.space,n=e.contentContext.draftID,r=s.useMemo(()=>n?{draft:g.m.queryByID({spaceID:t.uid,draftID:n}).defaultsTo(E.a)}:{},[t.uid,n]);return Object(f.m)(r,t=>{let r=t.draft;return n&&!r?s.createElement(ie,null,s.createElement(R.e,null)):s.createElement(Ee,ge({},e,{draft:r}))})}function Ee(e){const t=e.space,n=e.draft,r=e.contentContext.revisionID,o=(()=>r||(n?n.isMerged?n.revisionMerged:n.revisionCurrent:t.primaryRevision))(),i=s.useMemo(()=>({revision:g.B.queryByID({spaceID:t.uid,revisionID:o}).defaultsTo(E.d)}),[t.uid,o]);return Object(f.m)(i,t=>{let n=t.revision;return n?s.createElement(be,ge({},e,{revision:n})):s.createElement(ie,null,s.createElement(R.e,null))})}function be(e){const t=e.space,n=e.revision,r=e.draft,o=e.contentContext,i=e.canEdit;let a;o.revisionID||r&&r.isMerged?a=n&&n.parents.size>0?n.parents.first():null:r&&(a=r.revisionInitial);const c=a?{ancestorRevision:g.B.queryByID({spaceID:t.uid,revisionID:a}).defaultsTo(null)}:{};return Object(f.m)(c,e=>{let a=e.ancestorRevision;if(e.ancestorRevisionFetched&&!a)throw new Error("Could not find ancestor of revision");return s.createElement(fe,{space:t,revision:n,draft:r,ancestorRevision:a,contentContext:o,canEdit:i})})}var ve=function(e){const t=Object(b.d)(),n=Object(b.i)().canEdit,r=m.Z.useIsLoading(),o=Object(R.l)(),i=o.contentContext,a=o.contentPath,c=i.draftID,l=i.revisionID,u=i.pageURL,d=Object(R.j)(a);if(s.useEffect(()=>{window.document.body.scrollTop=0,window.document.documentElement.scrollTop=0},[c,l,u]),d)return s.createElement(y.a,{to:d});if(null==c&&void 0===l&&void 0===u)return s.createElement(ie,null,s.createElement(R.e,null));if(c&&!r&&!n)return s.createElement(ie,null,s.createElement(R.b,null));const f={space:t,canEdit:n,contentContext:i};return s.createElement(pe,f)},he=n(655),Ie=n(656);var ye=function(e){const t=e.space,n=e.owner,r=e.user,o=Object(f.i)();return s.createElement(d.o,null,s.createElement(w.b,null,s.createElement(d.g,{defaultTrackerID:o.ga.spaces.id,customTrackerID:t.googleAnalyticsID,userID:r.isLoggedIn?r.uid:null,dimensions:{[d.g.DIMENSIONS.SPACE]:t.uid,[d.g.DIMENSIONS.OWNER]:n.uid},listenHistory:!1},s.createElement(v.b,null,s.createElement(y.d,null,s.createElement(y.b,{path:D.a.SETTINGS,component:he.a}),s.createElement(y.b,{path:D.a.INSIGHTS,component:Ie.a}),s.createElement(y.b,{component:ve})),r.isLoggedIn&&s.createElement(I.b,null),s.createElement(O.a,null)))))},De=n(84),Oe=n.n(De);function we(e){const t=e.space,n=m.e.useFallbackURL(t.name,t.uid);return s.createElement(m.w,{link:[n&&{rel:"icon",href:n}]})}var Re=s.memo(function(e){const t=e.space,n=e.owner,r=Object(d.E)().location,o=Object(f.i)();if(m.Z.useIsLoading()||!t||!n)return s.createElement(m.w,null);const i=`%s - ${t.name}`,a=t.name,c=Oe()(t.getURL(n,o.domains.spaces),r.pathname),l=t.logoURL?f.c.transformURL(t.logoURL,o.cdn.blobsurl):null;return s.createElement(s.Fragment,null,s.createElement(m.w,{titleTemplate:i,defaultTitle:a,link:[{rel:"canonical",href:c},l&&{rel:"icon",href:l}],meta:[t.isIndexable?null:{name:"robots",content:"noindex, nofollow"},{property:"og:image",content:Oe()(o.urls.website,`share/space/thumbnail/${t.uid}.png`)},{property:"twitter:card",content:"summary"},{property:"twitter:site",content:t.name}],scripts:[o.datahygge.site_id&&{async:!0,src:`https://static.datahygge.com/analytics-${o.datahygge.site_id}.js`}]}),!l&&s.createElement(we,{space:t}))}),Se=n(75),Ce=n.n(Se);const xe=S.StyleSheet.create({wrapper:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column"},header:{display:"flex",flexDirection:"row",alignItems:"center"},headerTitle:{flex:1},gitbookLogo:{fontSize:"42px",color:m.kb.BLUE_BASE}});function Le(e){return s.createElement(m.M,{styles:m.M.STYLES.border},s.createElement(m.M.Header,{styles:[xe.header]},s.createElement(m.M.Title,{styles:[xe.headerTitle]},"This space is private"),s.createElement(m.gb,{styles:[xe.gitbookLogo]},s.createElement(F.qc,null))),s.createElement(m.M.Body,null,s.createElement(m.gb,{styles:[m.gb.MARGIN.S200Bottom]},s.createElement(m.eb,null,"You don't have permissions to access this space.")),s.createElement(m.gb,null,s.createElement(R.f,{to:"/"},"Go back to your dashboard"))))}function je(e){const t=e.org,n=e.user,r=`/login?${Ce.a.stringify({auth_action:"signout",id_token:n.idToken})}`;return s.createElement(m.M,{styles:m.M.STYLES.border},s.createElement(m.M.Header,{styles:[xe.header]},s.createElement(m.M.Title,{styles:[xe.headerTitle]},"This space is private"),s.createElement(m.gb,{styles:[xe.gitbookLogo]},s.createElement(F.qc,null))),s.createElement(m.M.Body,null,s.createElement(m.gb,{styles:[m.gb.MARGIN.S200Bottom]},s.createElement(m.eb,null,"You are not a member of the ",s.createElement("b",null,t.name)," ","organization, or you don't have permissions to access this space.")),s.createElement(m.gb,null,s.createElement(m.eb,null,"Want in? Ask an ",s.createElement("b",null,t.name),"'s administrator to grant you access, or"," ",s.createElement(R.f,{to:r},"log in with another account"),"."))))}var Ae=function(e){const t=e.owner,n=e.user,r=e.spaceName;return n.isLoggedIn?s.createElement(d.r,null,s.createElement(m.gb,{styles:[xe.wrapper]},s.createElement(ee.a,{title:"Access Denied"}),s.createElement(d.l,null),t.isUser?s.createElement(Le,null):s.createElement(je,{org:t,user:n}))):s.createElement(R.c,{to:`/login/${t.baseDomain}/${r}`})};function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ke(e){const t=e.user,n=e.ownerID,r=e.spaceID,o=e.spaceName,i=Object(f.i)(),a=s.useMemo(()=>new p.a({uri:i.urls.api}),[i.urls.api]),y=s.useRef(null);y.current||(y.current=[new v.a,new h.AssetsManagerContainer,new I.c]);const D=s.useMemo(()=>({owner:g.u.queryByID(n).defaultsTo(E.c),space:g.G.queryByID(r).setOptions({ignoreErrors:!0}).defaultsTo(E.e),membership:t.isLoggedIn?g.r.queryByID({orgID:n,userID:t.uid}).setOptions({waitFetched:!1}):null}),[n,r,t.uid]);return s.createElement(u.b,{inject:y.current},s.createElement(d.d,null,s.createElement(c.ApolloProvider,{client:a},s.createElement(l.e,{locale:"en"},Object(f.m)(D,e=>{let i=e.owner,a=e.space,c=e.membership;return a?s.createElement(m.m,{primary:a.colorPrimary},s.createElement(b.a.Provider,{value:{spaceID:r,ownerID:n,owner:i,space:a,membership:c}},s.createElement(Re,{space:a,owner:i}),s.createElement(ye,{space:a,owner:i,user:t}))):s.createElement(s.Fragment,null,s.createElement(Re,null),s.createElement(Ae,{owner:i,user:t,spaceName:o}))})))))}var Te=function(e){return Object(f.l)(e.auth,t=>s.createElement(ke,Be({},e,{user:t})))};t.default=Object(a.hot)(Te)},367:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=n(29),o=n(825);n.d(t,"d",function(){return o.a});var i=n(838);n.d(t,"c",function(){return i.b});const a=Object(r.a)({chunkName:()=>"ActivitySideSheet",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(0),n.e(61)]).then(n.bind(null,1108)),requireSync(e){const t=this.resolve(e);return n(t)},resolve:()=>1108}),s=Object(r.a)({chunkName:()=>"ContentComments",isReady(e){return!!n.m[this.resolve(e)]},requireAsync:()=>Promise.all([n.e(0),n.e(63)]).then(n.bind(null,1129)),requireSync(e){const t=this.resolve(e);return n(t)},resolve:()=>1129})}).call(this,"/")},643:function(e,t,n){"use strict";var r=n(26);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a={title:"Files",filter:null,onPick:null};t.a=class extends r.a{constructor(){super(...arguments),i(this,"state",{opened:!1,options:a}),i(this,"close",()=>{this.setState({opened:!1})}),i(this,"open",e=>{this.setState({opened:!0,options:o({},a,e)})}),i(this,"selectFile",e=>{this.open(o({},e,{title:"Select File"}))}),i(this,"selectImage",e=>{this.open(o({},e,{filter:"image",title:"Select Image"}))})}}},825:function(e,t,n){"use strict";var r=n(10),o=n(13),i=n(21),a=n(25);function s(e,t,n){const r=e.versions.get(t);if(!r)return null;const o=r.page.getByID(n);return o?r.page.getURLOf(o):null}t.a=function(){const e=Object(a.k)(),t=Object(o.h)(),n=Object(i.d)();return{openActivitySheet:()=>{e({toActivityList:!0})},openNodeComments:t=>{e({toCommentAnchor:t})},openActivity:o=>{"content/comment"===o.payload.type?(async o=>{const i=o.payload,a=i.versionID,c=i.pageID,l={toDraft:o.draftID,toPrimary:!o.draftID,toCommentAnchor:o.payload.nodeID,toActivity:o.uid},u=o.draftID?await t.database.getDocument(r.m.queryByID({spaceID:n.uid,draftID:o.draftID})):null;let d=await t.database.getDocument(r.B.queryByID({spaceID:n.uid,revisionID:u?u.revisionCurrent:n.primaryRevision}));if(l.toPage=s(d,a,c),null===l.toPage){if(!(d=await t.database.getDocument(r.B.queryByID({spaceID:n.uid,revisionID:o.revisionID}))))throw new Error("This revision should exist");l.toRevision=o.revisionID,l.toPage=s(d,a,c)}l.toPrimaryVersion=d.primaryVersionID===a,l.toVersion=d.primaryVersionID===a?null:a,e(l)})(o):e({toActivity:o.uid})},closeActivitySheet:()=>{e({toActivityList:!1})},closeContentComments:()=>{e({})}}}},838:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),o=n(4),i=n(10),a=n(13),s=n(21);const c=r.createContext({comments:Object(o.OrderedMap)(),draftID:null,versionID:"",pageID:""});t.b=function(e){const t=e.draftID,n=e.versionID,l=e.pageID,u=e.children,d=Object(s.d)(),m=Object(s.i)().canEdit,f=Object(a.k)({comments:m?i.a.queryContentComments({spaceID:d.uid,draftID:t,versionID:n,pageID:l}):null}).comments,g=f?f.value:Object(o.OrderedMap)(),p=r.useMemo(()=>({comments:g,draftID:t,versionID:n,pageID:l}),[g,t,n,l]);return r.createElement(c.Provider,{value:p},u)}},958:function(e,t,n){"use strict";var r=n(26),o=n(643);t.a=function(){const e=Object(r.d)(o.a)[0];return{openAssetsManager:e.open.bind(e),selectFile:e.selectFile.bind(e),selectImage:e.selectImage.bind(e)}}},959:function(e,t){},978:function(e,t,n){e.exports=n.p+"images/e372a3642662304a70a27e252a9a2ed5.svg"}}]);