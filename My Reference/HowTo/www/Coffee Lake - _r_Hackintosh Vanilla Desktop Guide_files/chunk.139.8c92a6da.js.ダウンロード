(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[139,177],{10:function(e,t,r){"use strict";r.d(t,"j",function(){return c});var i=r(195);r.d(t,"C",function(){return i.c}),r.d(t,"Q",function(){return i.b});var n=r(41);r.d(t,"k",function(){return n});var a=r(46);r.d(t,"A",function(){return a.a});r(165),r(243),r(196);var s=r(248);r.d(t,"h",function(){return s.a});var o=r(24);r.d(t,"a",function(){return o.a}),r.d(t,"b",function(){return o.b}),r.d(t,"c",function(){return o.c}),r.d(t,"d",function(){return o.d}),r.d(t,"e",function(){return o.e}),r.d(t,"f",function(){return o.f}),r.d(t,"g",function(){return o.g}),r.d(t,"i",function(){return o.i}),r.d(t,"l",function(){return o.j}),r.d(t,"m",function(){return o.l}),r.d(t,"n",function(){return o.m}),r.d(t,"o",function(){return o.n}),r.d(t,"p",function(){return o.o}),r.d(t,"q",function(){return o.p}),r.d(t,"r",function(){return o.q}),r.d(t,"s",function(){return o.r}),r.d(t,"t",function(){return o.s}),r.d(t,"u",function(){return o.t}),r.d(t,"v",function(){return o.u}),r.d(t,"w",function(){return o.v}),r.d(t,"x",function(){return o.w}),r.d(t,"y",function(){return o.x}),r.d(t,"z",function(){return o.y}),r.d(t,"B",function(){return o.z}),r.d(t,"D",function(){return o.A}),r.d(t,"E",function(){return o.B}),r.d(t,"F",function(){return o.C}),r.d(t,"G",function(){return o.D}),r.d(t,"H",function(){return o.E}),r.d(t,"I",function(){return o.F}),r.d(t,"J",function(){return o.G}),r.d(t,"K",function(){return o.H}),r.d(t,"L",function(){return o.I}),r.d(t,"M",function(){return o.J}),r.d(t,"N",function(){return o.K}),r.d(t,"O",function(){return o.L}),r.d(t,"P",function(){return o.M}),r.d(t,"R",function(){return o.P});const c=n.DiffChange},198:function(e,t,r){"use strict";var i=r(4),n=r(670),a=r.n(n),s=r(6);function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){c(e,t,r[t])})}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends(Object(i.Record)({words:0,images:0,codeLines:0,revisions:0})){static create(e){return void 0===e&&(e={}),e instanceof u?e:new u(o({},e))}static deserialize(e){return u.create(o({},e))}serialize(){return{words:this.words,images:this.images,codeLines:this.codeLines,revisions:this.revisions}}static createFromDocument(e){return u.create().updateFromDocument(e)}updateFromDocument(e){const t=[s.e.HEADING_1,s.e.HEADING_2,s.e.HEADING_3,s.e.PARAGRAPH,s.e.LIST_ITEM],r=e.getBlocks().reduce((e,r)=>t.indexOf(r.type)>=0?e+a()(r.getText()):e,0);return this.merge({words:r,images:e.getBlocksByType(s.e.IMAGE).count(),codeLines:e.getBlocksByType(s.e.CODE_LINE).count()})}incrementRevisions(){return this.merge({revisions:this.revisions+1})}get estimatedReadingTime(){let e=0;for(let t=0;t<this.images;t+=1){const r=u.TIME_PER_IMAGE_MAX-t;e+=r>u.TIME_PER_IMAGE_MIN?r:u.TIME_PER_IMAGE_MIN}return this.words*u.TIME_PER_WORD+e+this.codeLines*u.TIME_PER_CODE_LINE}}c(u,"TIME_PER_WORD",60/275),c(u,"TIME_PER_CODE_LINE",2),c(u,"TIME_PER_IMAGE_MAX",12),c(u,"TIME_PER_IMAGE_MIN",3),t.a=u},199:function(e,t,r){"use strict";var i=r(11),n=r(36);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class s extends(Object(i.b)("draft",{uid:"",title:"",createdAt:new Date,closedAt:null,createdBy:"",revisionCurrent:"",revisionInitial:"",revisionPublishedAncestor:"",revisionMerged:null,edits:new n.a})){get lastModifiedAt(){return this.edits.lastContributionAt||this.createdAt}static queryBySpace(e){return this.query(["spaces",e,"drafts"])}static queryNonMerged(e){return this.queryBySpace(e).where("revisionMerged",null,"<=")}static queryByID(e){let t=e.spaceID,r=e.draftID;return this.queryBySpace(t).doc(r)}query(e){return s.queryByID({spaceID:e,draftID:this.uid})}static create(e){if(e instanceof s)return e;const t=e.revisionInitial,r=e.createdBy,o=e.uid,c=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["revisionInitial","createdBy","uid"]);return new s(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){a(e,t,r[t])})}return e}({createdBy:r,createdAt:new Date,edits:(new n.a).addContribution(r),revisionInitial:t,revisionCurrent:t,revisionPublishedAncestor:t,uid:o||Object(i.f)()},c))}static deserialize(e){return new s({uid:e.uid,title:e.title,createdAt:new Date(e.createdAt),closedAt:e.closedAt?new Date(e.closedAt):null,createdBy:e.createdBy,revisionCurrent:e.revisionCurrent,revisionInitial:e.revisionInitial,revisionPublishedAncestor:e.revisionPublishedAncestor||e.revisionBase||e.revisionInitial,revisionMerged:e.revisionMerged||null,edits:e.edits?n.a.deserialize(e.edits):(new n.a).addContribution(e.createdBy,new Date(e.lastModifiedAt))})}serialize(){return{uid:this.uid,title:this.title,createdAt:this.createdAt.getTime(),edits:this.edits.serialize(),closedAt:this.closedAt?this.closedAt.getTime():null,createdBy:this.createdBy,revisionCurrent:this.revisionCurrent,revisionInitial:this.revisionInitial,revisionPublishedAncestor:this.revisionPublishedAncestor,revisionMerged:this.revisionMerged}}get isOpened(){return!this.isClosed}get isClosed(){return null!=this.closedAt}get isMerged(){return null!=this.revisionMerged}get isArchived(){return this.isClosed&&!this.isMerged}get isInitial(){return this.revisionCurrent===this.revisionInitial}get hasChanges(){return""!==this.title||!this.isInitial}authorizeAs(e){return this.merge({createdBy:e,createdAt:new Date})}markAsModified(e){return this.merge({edits:this.edits.addContribution(e)})}markAsClosed(){return this.merge({closedAt:new Date})}markAsMerged(e,t){return this.merge({closedAt:new Date,revisionPublishedAncestor:e,revisionMerged:t})}toCreateUpdate(e){return(new i.c).set(s.queryByID({spaceID:e,draftID:this.uid}),this)}toUpdate(e){return this.toCreateUpdate(e)}}a(s,"TITLE_LIMIT",100),t.a=s},201:function(e,t,r){"use strict";var i=r(47),n=r.n(i),a=r(4);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o extends(Object(a.Record)({name:"",contentType:"",downloadURL:"",blobSize:0,createdAt:new Date,lastModifiedAt:new Date})){static createFromFirebase(e,t){return new o({name:n.a.basename(e.name),contentType:e.contentType,downloadURL:t,blobSize:e.size,createdAt:new Date(e.timeCreated),lastModifiedAt:new Date(e.updated)})}static createFromGCloud(e){const t=e.mediaLink.replace("https://www.googleapis.com/download/storage/v1/b/","https://firebasestorage.googleapis.com/v0/b/");return new o({name:n.a.basename(e.name),contentType:e.contentType,downloadURL:t,blobSize:+e.size,createdAt:new Date(e.timeCreated),lastModifiedAt:new Date(e.updated)})}}s(o,"MIME_TYPE_DEFAULT","application/octet-stream"),s(o,"MIME_TYPE_JSON","application/json"),s(o,"MIME_TYPE_SVG","image/svg+xml"),t.a=o},202:function(e,t,r){"use strict";var i=r(4);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a extends(Object(i.Record)({firstName:"",lastName:"",email:"",phone:"",organization:"",street:"",country:"",region:"",city:"",zip:"",vat:""})){static create(e){return void 0===e&&(e={}),new a(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}({},e))}static deserialize(e){return a.create(e)}serialize(){return{firstName:this.firstName,lastName:this.lastName,email:this.email,phone:this.phone,organization:this.organization,street:this.street,country:this.country,region:this.region,city:this.city,zip:this.zip,vat:this.vat}}}t.a=a},244:function(e,t,r){"use strict";var i=r(4),n=r(47),a=r.n(n),s=r(11),o=r(201),c=r(93),u=r(36);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l extends(Object(i.Record)({uid:"",name:"",downloadURL:null,blobSize:0,createdAt:new Date,edits:new u.a,github:null,contentType:null})){get lastModifiedAt(){return this.edits.lastContributionAt||this.createdAt}static create(e){return e instanceof l?e:new l(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){d(e,t,r[t])})}return e}({},e,{uid:e.uid||Object(s.f)(),createdAt:new Date(e.createdAt||Date.now()),github:e.github?c.a.create(e.github):null}))}static createFromFile(e){return l.create({name:e.name}).updateFromBlob(e)}static deserialize(e){return new l({uid:e.uid,name:e.name,downloadURL:e.downloadURL||null,blobSize:e.size,contentType:e.contentType,createdAt:new Date(e.createdAt),github:e.github?c.a.create(e.github):null,edits:e.edits?u.a.deserialize(e.edits):(new u.a).addContributions(e.modifiedBy||[],new Date(e.lastModifiedAt||Date.now()))})}serialize(){return{uid:this.uid,name:this.name,downloadURL:this.downloadURL,size:this.blobSize,contentType:this.contentType||o.a.MIME_TYPE_DEFAULT,createdAt:this.createdAt.getTime(),github:this.github?this.github.serialize():null,edits:this.edits.serialize()}}get extension(){return a.a.extname(this.name).toLowerCase()}get isImage(){return Boolean(this.contentType&&this.contentType.startsWith("image/")&&"image/vnd.adobe.photoshop"!==this.contentType)}get isSvg(){return this.contentType===o.a.MIME_TYPE_SVG}get isUploaded(){return!this.downloadURL.startsWith("blob:")}async asBlob(){const e=await fetch(this.downloadURL);return await e.blob()}updateFromBlob(e){const t=URL.createObjectURL(e);return this.merge({blobSize:e.size,contentType:e.type,downloadURL:t})}markAsModifiedBy(e){return this.merge({edits:this.edits.addContribution(e)})}updateWithMetadata(e){return this.merge({name:e.name,downloadURL:e.downloadURL,createdAt:e.createdAt,lastModifiedAt:e.lastModifiedAt,blobSize:e.blobSize,contentType:e.contentType})}}d(l,"MAX_SIZE",26214400),t.a=l},247:function(e,t,r){"use strict";var i=r(4);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a extends(Object(i.Record)({brand:"",last4:"",expMonth:0,expYear:0})){static create(e){return void 0===e&&(e={}),new a(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}({},e))}static deserialize(e){return a.create(e)}serialize(){return{brand:this.brand,last4:this.last4,expMonth:this.expMonth,expYear:this.expYear}}}t.a=a},264:function(e,t,r){"use strict";var i=r(4),n=r(11),a=r(36);function s(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){c(e,t,r[t])})}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return Object(i.Record)(o({addedVersions:0,removedVersions:0,modifiedVersions:0,addedPages:0,removedPages:0,modifiedPages:0},e))}const d=Object(i.Record)({type:"draft/created"}),l=Object(i.Record)({type:"draft/closed"}),h=Object(i.Record)({type:"draft/opened"}),p=Object(i.Record)({type:"draft/renamed",before:"",after:""}),m=u({type:"draft/merged"}),y=u({type:"draft/edited"}),b=u({type:"revision/restored"}),f=u({type:"github/imported"}),g=Object(i.Record)({type:"comment",body:""}),D=Object(i.Record)({type:"content/comment",body:"",versionID:"",pageID:"",nodeID:""}),I={"draft/created":d,"draft/merged":m,"draft/closed":l,"draft/opened":h,"draft/edited":y,"draft/renamed":p,"revision/restored":b,comment:g,"content/comment":D,"github/imported":f};class w extends(Object(n.b)("activity",{uid:"",draftID:null,revisionID:"",actorID:"",createdAt:new Date,replies:new a.a,payload:d()})){get updatedAt(){return this.replies.lastContributionAt}get isComment(){return"comment"===this.payload.type||"content/comment"===this.payload.type}static queryBySpace(e){return this.query(["spaces",e,"activities"])}static queryByDraft(e){return this.queryBySpace(e.spaceID).where("draftID",e.draftID)}static queryForPrimary(e){return this.queryBySpace(e.spaceID).where("_primary_key",!0)}static queryContentComments(e){return this.queryBySpace(e.spaceID).where("_page_key",A({draftID:e.draftID,versionID:e.versionID,pageID:e.pageID}))}static queryByID(e){return this.queryBySpace(e.spaceID).doc(e.activityID)}query(e){return w.queryByID({spaceID:e,activityID:this.uid})}static create(e){return new w(o({createdAt:new Date,uid:Object(n.f)()},e))}static createDraftCreated(e){return w.create(o({},e,{payload:d()}))}static createDraftClosed(e){return w.create(o({},e,{payload:l()}))}static createDraftOpened(e){return w.create(o({},e,{payload:h()}))}static createDraftRenamed(e){return w.create(o({},e,{payload:p({before:e.before,after:e.after})}))}static createDraftMerged(e){const t=e.changes,r=s(e,["changes"]);return w.create(o({},r,{payload:m(t)}))}static createDraftEdited(e){const t=e.changes,r=s(e,["changes"]);return w.create(o({},r,{payload:y(t)}))}static createRevisionRestored(e){const t=e.changes,r=s(e,["changes"]);return w.create(o({},r,{payload:b(t)}))}static createGitHubImported(e){const t=e.changes,r=s(e,["changes"]);return w.create(o({},r,{payload:f(t)}))}static createComment(e){return w.create(o({},e,{payload:g({body:e.body})}))}static createContentComment(e){return w.create(o({},e,{payload:D({body:e.body,pageID:e.pageID,versionID:e.versionID,nodeID:e.nodeID})}))}static deserialize(e){const t=I[e.payload.type];if(!t)throw new Error(`Invalid activity type "${e.payload.type}"`);return new w({uid:e.uid,updatedAt:new Date(e.updatedAt),createdAt:new Date(e.createdAt),actorID:e.actorID,revisionID:e.revisionID,draftID:e.draftID||null,replies:a.a.deserialize(e.replies||{}),payload:t(e.payload)})}serialize(){return{uid:this.uid,actorID:this.actorID,draftID:this.draftID,revisionID:this.revisionID,payload:this.payload.toJSON(),createdAt:this.createdAt.getTime(),replies:this.replies.serialize(),_primary_key:!("draft/created"!==this.payload.type&&"draft/merged"!==this.payload.type&&"draft/opened"!==this.payload.type&&"draft/closed"!==this.payload.type&&this.draftID),_page_key:"content/comment"===this.payload.type?A({draftID:this.draftID,versionID:this.payload.versionID,pageID:this.payload.pageID}):null}}toCreateUpdate(e){return(new n.c).set(w.queryByID({spaceID:e,activityID:this.uid}),this)}addReply(e){return this.merge({replies:this.replies.addContribution(e)})}}function A(e){return[e.draftID||"",e.versionID,e.pageID].join("/")}c(w,"DraftCreated",d),c(w,"DraftCreated",d),c(w,"DraftMerged",m),c(w,"DraftClosed",l),c(w,"DraftOpened",h),c(w,"DraftEdited",y),c(w,"DraftRenamed",p),c(w,"RevisionRestored",b),c(w,"Comment",g),c(w,"ContentComment",D),c(w,"GitHubImported",f),t.a=w},265:function(e,t,r){"use strict";var i=r(11);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a extends(Object(i.b)("activityReply",{uid:"",body:"",createdBy:"",createdAt:new Date})){static queryByActivity(e){return this.query(["spaces",e.spaceID,"replies",e.activityID])}static queryByID(e){return this.queryByActivity({spaceID:e.spaceID,activityID:e.activityID}).doc(e.replyID)}query(e){return a.queryByID({spaceID:e.spaceID,activityID:e.activityID,replyID:this.uid})}static create(e){return new a(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){n(e,t,r[t])})}return e}({createdAt:new Date,uid:Object(i.f)()},e))}static deserialize(e){return new a({uid:e.uid,createdAt:new Date(e.createdAt),createdBy:e.createdBy,body:e.body})}serialize(){return{uid:this.uid,body:this.body,createdBy:this.createdBy,createdAt:this.createdAt.getTime()}}toCreateUpdate(e){const t=e.spaceID,r=e.activityID;return(new i.c).set(this.query({spaceID:t,activityID:r}),this)}}t.a=a},268:function(e,t,r){"use strict";var i=r(4),n=(r(767),r(11)),a=r(165),s=r(247),o=r(202);function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){u(e,t,r[t])})}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d={CREATE_CUSTOMER:"create_customer",UPDATE_CUSTOMER:"update_customer",SUBSCRIBE:"subscribe",CANCEL_SUBSCRIPTION:"cancel_subscription",UPDATE_COUPON:"update_coupon"},l=Object(i.Record)({type:d.CREATE_CUSTOMER,token:""}),h=Object(i.Record)({type:d.UPDATE_CUSTOMER,token:""}),p=Object(i.Record)({type:d.UPDATE_COUPON,coupon:""}),m=Object(i.Record)({type:d.SUBSCRIBE,plan:"",coupon:"",token:null}),y=Object(i.Record)({type:d.CANCEL_SUBSCRIPTION}),b={[d.CREATE_CUSTOMER]:l,[d.UPDATE_CUSTOMER]:h,[d.SUBSCRIBE]:m,[d.CANCEL_SUBSCRIPTION]:y,[d.UPDATE_COUPON]:p};class f extends(Object(n.b)("billingConfig",{orgID:"",billingAddress:o.a.create(),action:null,customerID:null,subscriptionID:null,cardID:null,card:null,createdAt:new Date,updatedAt:new Date,error:null})){static create(e){return void 0===e&&(e={}),new f(c({},e,{billingAddress:o.a.create(e.billingAddress),card:e.card?s.a.create(e.card):null,createdAt:new Date(e.createdAt||new Date),updatedAt:new Date(e.updatedAt||new Date)}))}static queryByID(e){return this.query("billingConfig").doc(e)}query(){return f.queryByID(this.orgID)}static getPlanEquivalent(e,t){return f.isFreePlan(t)?"free":f.isStartupPlan(e,t)?"startup":f.isBusinessPlan(e,t)?"business":"custom"}static isFreePlan(e){return"free"===e}static isStartupPlan(e,t){return t===e.startup_monthly||t===e.startup_yearly}static isBusinessPlan(e,t){return t===e.business_monthly||t===e.business_yearly}static isSelfServicePlan(e,t){return f.isStartupPlan(e,t)||f.isBusinessPlan(e,t)}static isCustomPlan(e,t){return!f.isFreePlan(t)&&!f.isSelfServicePlan(e,t)&&!f.isLegacyPlan(e,t)}static isLegacyPlan(e,t){return a.a.includes(t)}static isUpgrade(e,t,r){const i=["free",...a.a,e.startup_monthly,e.startup_yearly,e.business_monthly,e.business_yearly];return!i.includes(r)||i.indexOf(r)>i.indexOf(t)}static canSwitchPlan(e){let t=e.plans,r=e.canceled,i=e.currentPlanInterval,n=e.currentPlan,a=e.newPlan;const s=n===t.startup_yearly&&a===t.business_monthly;return"month"===i||f.isUpgrade(t,n,a)&&!s||r&&n===a}static deserialize(e){const t=e.action;if(!t)return f.create(e);const r=b[t.type];if(!r)throw new Error("Unknown action on BillingConfig.deserialize");return f.create(c({},e,{action:r(t)}))}serialize(){return{orgID:this.orgID,billingAddress:this.billingAddress.serialize(),action:this.action?this.action.toJS():null,customerID:this.customerID,subscriptionID:this.subscriptionID,cardID:this.cardID,card:this.card?this.card.serialize():null,createdAt:this.createdAt.getTime(),updatedAt:this.updatedAt.getTime(),error:this.error}}dispatchCreateCustomer(e){return this.merge({action:new l(e)})}dispatchUpdateCustomer(e){return this.merge({action:new h(e)})}dispatchSubscribe(e){return this.merge({action:new m(e)})}dispatchCancelSubscription(){return this.merge({action:new y})}dispatchUpdateCoupon(e){return this.merge({action:new p(e)})}}u(f,"ACTIONS_TYPES",d),t.a=f},271:function(e,t,r){"use strict";var i=r(11);class n extends(Object(i.b)("embed",{url:"",updatedAt:null,data:null})){static queryByURL(e){return this.query("embeds").doc(Object(i.e)(e))}static deserialize(e){return new n({url:e.url,updatedAt:e.updatedAt?new Date(e.updatedAt):null,data:e.data||null})}setData(e){return this.set("data",e).merge({updatedAt:new Date})}query(){return n.queryByURL(this.url)}toUpdate(){return(new i.c).set(this.query(),this)}serialize(){return{url:this.url,updatedAt:this.updatedAt?this.updatedAt.getTime():null,data:this.data}}}t.a=n},36:function(e,t,r){"use strict";var i=r(4);class n extends(Object(i.Record)({createdAt:new Date,updatedAt:new Date,count:0})){serialize(){return{createdAt:this.createdAt.getTime(),updatedAt:this.updatedAt.getTime(),count:this.count}}static deserialize(e){return new n({createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),count:e.count})}}class a extends(Object(i.Record)({contributions:Object(i.Map)()})){static create(e){return e instanceof a?e:a.deserialize(e)}get lastContributionAt(){return this.contributions.reduce((e,t)=>!e||e<t.updatedAt?t.updatedAt:e,null)}get total(){return this.contributions.reduce((e,t)=>e+t.count,0)}get users(){return this.contributions.entrySeq().sortBy(e=>{e[0];return-e[1].count}).map(e=>{let t=e[0];e[1];return t}).toList()}get lastUser(){return this.contributions.entrySeq().sortBy(e=>{e[0];return e[1].updatedAt}).map(e=>{let t=e[0];e[1];return t}).first()}addContribution(e,t){const r=t||new Date,i=this.contributions.get(e,new n({createdAt:r,updatedAt:r})),a=i.merge({updatedAt:r,count:i.count+1});return this.merge({contributions:this.contributions.set(e,a)})}addContributions(e,t){return e.reduce((e,r)=>e.addContribution(r,t),this)}toUpdateFragment(e,t){const r=this.contributions.get(t);return{[`${e}/${t}`]:r?r.serialize():null}}serialize(){return this.contributions.map(e=>e.serialize()).toObject()}static deserialize(e){return new a({contributions:Object(i.Map)(e).map(e=>n.deserialize(e))})}}t.a=a},412:function(e,t,r){"use strict";var i=r(368),n=r.n(i),a=r(671),s=r.n(a),o=r(4),c=r(293),u=r.n(c),d=r(85);function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach(function(t){h(e,t,r[t])})}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends(Object(d.a)({live:!1,isVisitor:!1,email:"",emailVerified:!1,disabled:!1,phoneNumber:null,idToken:null,refreshToken:null,providers:Object(o.Map)(),customClaims:Object(o.Map)(),lastLoggedInAt:new Date,createdAt:new Date})){static createFromFirebase(e){return new p({live:!0,uid:e.uid,email:e.email,emailVerified:Boolean(e.emailVerified),disabled:Boolean(e.disabled),phoneNumber:e.phoneNumber,displayName:d.b.normalizeName(e.displayName||p.getNameFromEmail(e.email)),photoURL:e.photoURL||"",refreshToken:e.refreshToken||null,providers:(e.providerData||[]).reduce((e,t)=>e.set(t.providerId,{}),Object(o.Map)()),customClaims:Object(o.Map)(e.customClaims),isVisitor:e.uid===p.VISITOR_UID,createdAt:new Date(e.metadata.creationTime||Date.now()-864e5),lastLoggedInAt:new Date(e.metadata.lastSignInTime||Date.now())})}static createVisitor(e){let t=(void 0===e?{uid:""}:e).uid;return new p({uid:t,live:!0,isVisitor:!0})}static isLegacyID(e){return Boolean(e.match(/^[0-9a-fA-F]{24}$/))}static getAuthorizationHeader(e,t){return`Basic ${n()(`${e}:${t}`)}`}static getNameFromEmail(e){return e?e.split("@")[0].split(".")[0]:""}get isInitialSession(){return this.createdAt.getTime()===this.lastLoggedInAt.getTime()}get riskScore(){return this.customClaims.get("riskScore")}get risk(){const e=this.riskScore;return"number"!=typeof e?"unknown":e<50?"low":e<75?"medium":"high"}get isRisky(){return"high"==this.risk}get requireVerification(){return!this.isVerified&&!this.isSSOUser&&this.isRisky}get isLegacy(){return p.isLegacyID(this.uid)}get authorizationHeader(){return this.isLoggedIn&&this.idToken?p.getAuthorizationHeader(this.uid,this.idToken):null}get isLoggedIn(){return Boolean(!this.isVisitor&&this.uid)}get hasPassword(){return this.providers.has("password")}get hasGithubProvider(){return this.providers.has("github.com")}get hasGoogleProvider(){return this.providers.has("google.com")}get hasPhoneVerified(){return this.providers.has("phone")}get isVerified(){return this.emailVerified||this.hasPhoneVerified}get isSiteAdmin(){return Boolean(this.customClaims.get("siteAdmin"))}get variant(){return s()(this.uid)%2>0?"A":"B"}get isSSOUser(){return Boolean(this.customClaims.get("sso"))}isSSOUserFrom(e){const t=this.customClaims.get("sso");return!!t&&t===e}updateDisplayName(e){return this.merge({displayName:d.b.normalizeName(e||p.getNameFromEmail(this.email))})}setIdToken(e){const t=u()(e);return this.merge({customClaims:Object(o.Map)({intercomHash:t.intercomHash,siteAdmin:t.siteAdmin,riskScore:t.riskScore,sso:t.sso,secretToken:t.secretToken,helpscoutSignature:t.helpscoutSignature}),idToken:e})}mergeWithUser(e){if(e.uid!=this.uid)throw new Error("Can't merge users with distinct uid");return this.merge(e.toObject())}toUser(){return d.b.create(this.toObject())}static deserialize(e){return new p(l({},e,{customClaims:Object(o.Map)(e.customClaims),providers:Object(o.Map)(e.providers),createdAt:new Date(e.createdAt),lastLoggedInAt:new Date(e.lastLoggedInAt)}))}serialize(){return l({},this.toUser().serialize(),{email:this.email,emailVerified:this.emailVerified,disabled:this.disabled,refreshToken:this.refreshToken,idToken:this.idToken,providers:this.providers.toObject(),isVisitor:this.isVisitor,customClaims:this.customClaims.toJS(),lastLoggedInAt:this.lastLoggedInAt.getTime(),createdAt:this.createdAt.getTime()})}mergeWithAuthUser(e){if(e.uid!==this.uid)throw new Error("Can't merge auth users with distinct uid");return this.merge({live:e.live,email:e.email,emailVerified:e.emailVerified,disabled:e.disabled,phoneNumber:e.phoneNumber,displayName:e.displayName,photoURL:e.photoURL,refreshToken:e.refreshToken,idToken:e.idToken,providers:e.providers,customClaims:e.customClaims,isVisitor:e.isVisitor,lastLoggedInAt:e.lastLoggedInAt,createdAt:e.createdAt})}}h(p,"VISITOR_UID","visitor"),h(p,"NAME_MAX_LENGTH",d.b.NAME_MAX_LENGTH),t.a=p},53:function(e,t,r){"use strict";var i=r(11);class n extends(Object(i.b)("customDomain",{ownerID:"",spaceID:null,domain:"",deprecated:!1})){get escapedDomain(){return Object(i.e)(this.domain)}static queryByDomain(e){return this.query("domains").doc(Object(i.e)(e))}query(){return n.queryByDomain(this.domain)}static createFromOrg(e){return e.customDomain?new n({ownerID:e.uid,domain:e.customDomain}):null}static createFromSpace(e){return e.customDomain?new n({ownerID:e.ownerID,spaceID:e.uid,domain:e.customDomain}):null}static deserialize(e){return new n({ownerID:e.ownerID,spaceID:e.spaceID||null,domain:e.domain,deprecated:e.deprecated})}serialize(){return{ownerID:this.ownerID,spaceID:this.spaceID,domain:this.domain,deprecated:this.deprecated}}}t.a=n},83:function(e,t,r){"use strict";var i=r(11);class n extends(Object(i.b)("baseDomain",{ownerID:"",domain:""})){static queryByDomain(e){return this.query("orgDomains").doc(Object(i.e)(e))}query(){return n.queryByDomain(this.domain)}static createFromOwner(e){if(!e.baseDomain)throw new Error(`Owner ${e.uid} doesn't have a base domain`);return new n({ownerID:e.uid,domain:e.baseDomain})}static deserialize(e){return new n({ownerID:e.ownerID,domain:e.domain})}serialize(){return{ownerID:this.ownerID,domain:this.domain}}}t.a=n}}]);