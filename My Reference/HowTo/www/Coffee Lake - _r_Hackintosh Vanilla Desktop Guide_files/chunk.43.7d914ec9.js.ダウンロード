(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[43],{178:function(t,e,r){"use strict";r.d(e,"b",function(){return i}),r.d(e,"a",function(){return a});var o,n=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function i(t){return t.hasOwnProperty("graphQLErrors")}var s=function(t){var e="";return Array.isArray(t.graphQLErrors)&&0!==t.graphQLErrors.length&&t.graphQLErrors.forEach(function(t){var r=t?t.message:"Error message not found.";e+="GraphQL error: "+r+"\n"}),t.networkError&&(e+="Network error: "+t.networkError.message+"\n"),e=e.replace(/\n$/,"")},a=function(t){function e(r){var o=r.graphQLErrors,n=r.networkError,i=r.errorMessage,a=r.extraInfo,u=t.call(this,i)||this;return u.graphQLErrors=o||[],u.networkError=n||null,u.message=i||s(u),u.extraInfo=a,u.__proto__=e.prototype,u}return n(e,t),e}(Error)},208:function(t,e,r){"use strict";var o;r.d(e,"a",function(){return o}),function(t){t[t.normal=1]="normal",t[t.refetch=2]="refetch",t[t.poll=3]="poll"}(o||(o={}))},369:function(t,e,r){"use strict";r.d(e,"a",function(){return p});var o,n=r(280),i=r(701),s=r(1974),a=r(72),u=r(683),c=r(178),l=r(208),h=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),y=function(){return(y=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},p=function(t){function e(e){var r=e.scheduler,o=e.options,n=e.shouldSubscribe,i=void 0===n||n,s=t.call(this,function(t){return s.onSubscribe(t)})||this;return s.isCurrentlyPolling=!1,s.isTornDown=!1,s.options=o,s.variables=o.variables||{},s.queryId=r.queryManager.generateQueryId(),s.shouldSubscribe=i,s.scheduler=r,s.queryManager=r.queryManager,s.observers=[],s.subscriptionHandles=[],s}return h(e,t),e.prototype.result=function(){var t=this;return new Promise(function(e,r){var o,n={next:function(r){e(r),t.observers.some(function(t){return t!==n})||t.queryManager.removeQuery(t.queryId),setTimeout(function(){o.unsubscribe()},0)},error:function(t){r(t)}};o=t.subscribe(n)})},e.prototype.currentResult=function(){if(this.isTornDown)return{data:this.lastError?{}:this.lastResult?this.lastResult.data:{},error:this.lastError,loading:!1,networkStatus:a.a.error};var t,e,r=this.queryManager.queryStore.get(this.queryId);if(t=r,void 0===(e=this.options.errorPolicy)&&(e="none"),t&&(t.graphQLErrors&&t.graphQLErrors.length>0&&"none"===e||t.networkError))return{data:{},loading:!1,networkStatus:r.networkStatus,error:new c.a({graphQLErrors:r.graphQLErrors,networkError:r.networkError})};var o,i=this.queryManager.getCurrentQueryResult(this),s=i.data,u=i.partial,l=!r||r.networkStatus===a.a.loading,h="network-only"===this.options.fetchPolicy&&l||u&&"cache-only"!==this.options.fetchPolicy;o=r?r.networkStatus:h?a.a.loading:a.a.ready;var p={data:s,loading:Object(a.b)(o),networkStatus:o};return r&&r.graphQLErrors&&"all"===this.options.errorPolicy&&(p.errors=r.graphQLErrors),u||(this.lastResult=y({},p,{stale:!1}),this.lastResultSnapshot=Object(n.a)(this.lastResult)),y({},p,{partial:u})},e.prototype.isDifferentFromLastResult=function(t){var e=this.lastResultSnapshot;return!(e&&t&&e.networkStatus===t.networkStatus&&e.stale===t.stale&&Object(i.a)(e.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.refetch=function(t){var e=this.options.fetchPolicy;if("cache-only"===e)return Promise.reject(new Error("cache-only fetchPolicy option should not be used together with query refetch."));Object(i.a)(this.variables,t)||(this.variables=Object.assign({},this.variables,t)),Object(i.a)(this.options.variables,this.variables)||(this.options.variables=Object.assign({},this.options.variables,this.variables));var r="network-only"===e||"no-cache"===e,o=y({},this.options,{fetchPolicy:r?e:"network-only"});return this.queryManager.fetchQuery(this.queryId,o,l.a.refetch).then(function(t){return t})},e.prototype.fetchMore=function(t){var e,r=this;if(!t.updateQuery)throw new Error("updateQuery option is required. This function defines how to update the query data with the new results.");return Promise.resolve().then(function(){var o=r.queryManager.generateQueryId();return(e=t.query?t:y({},r.options,t,{variables:Object.assign({},r.variables,t.variables)})).fetchPolicy="network-only",r.queryManager.fetchQuery(o,e,l.a.normal,r.queryId)}).then(function(o){return r.updateQuery(function(r){return t.updateQuery(r,{fetchMoreResult:o.data,variables:e.variables})}),o})},e.prototype.subscribeToMore=function(t){var e=this,r=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(r){t.updateQuery&&e.updateQuery(function(e,o){var n=o.variables;return t.updateQuery(e,{subscriptionData:r,variables:n})})},error:function(e){t.onError?t.onError(e):console.error("Unhandled GraphQL subscription error",e)}});return this.subscriptionHandles.push(r),function(){var t=e.subscriptionHandles.indexOf(r);t>=0&&(e.subscriptionHandles.splice(t,1),r.unsubscribe())}},e.prototype.setOptions=function(t){var e=this.options;this.options=Object.assign({},this.options,t),t.pollInterval?this.startPolling(t.pollInterval):0===t.pollInterval&&this.stopPolling();var r="network-only"!==e.fetchPolicy&&"network-only"===t.fetchPolicy||"cache-only"===e.fetchPolicy&&"cache-only"!==t.fetchPolicy||"standby"===e.fetchPolicy&&"standby"!==t.fetchPolicy||!1;return this.setVariables(this.options.variables,r,t.fetchResults)},e.prototype.setVariables=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!0),this.isTornDown=!1;var o=t||this.variables;return Object(i.a)(o,this.variables)&&!e?0!==this.observers.length&&r?this.result():new Promise(function(t){return t()}):(this.variables=o,this.options.variables=o,0===this.observers.length?new Promise(function(t){return t()}):this.queryManager.fetchQuery(this.queryId,y({},this.options,{variables:this.variables})).then(function(t){return t}))},e.prototype.updateQuery=function(t){var e=this.queryManager.getQueryWithPreviousResult(this.queryId),r=e.previousResult,o=e.variables,n=e.document,i=Object(s.b)(function(){return t(r,{variables:o})});i&&(this.queryManager.dataStore.markUpdateQueryResult(n,o,i),this.queryManager.broadcastQueries())},e.prototype.stopPolling=function(){this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.options.pollInterval=void 0,this.isCurrentlyPolling=!1)},e.prototype.startPolling=function(t){if("cache-first"===this.options.fetchPolicy||"cache-only"===this.options.fetchPolicy)throw new Error("Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.");this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.isCurrentlyPolling=!1),this.options.pollInterval=t,this.isCurrentlyPolling=!0,this.scheduler.startPollingQuery(this.options,this.queryId)},e.prototype.onSubscribe=function(t){var e=this;return t._subscription&&t._subscription._observer&&!t._subscription._observer.error&&(t._subscription._observer.error=function(t){console.error("Unhandled error",t.message,t.stack)}),this.observers.push(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),1===this.observers.length&&this.setUpQuery(),function(){e.observers=e.observers.filter(function(e){return e!==t}),0===e.observers.length&&e.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this;if(this.shouldSubscribe&&this.queryManager.addObservableQuery(this.queryId,this),this.options.pollInterval){if("cache-first"===this.options.fetchPolicy||"cache-only"===this.options.fetchPolicy)throw new Error("Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.");this.isCurrentlyPolling=!0,this.scheduler.startPollingQuery(this.options,this.queryId)}var e={next:function(e){t.lastResult=e,t.lastResultSnapshot=Object(n.a)(e),t.observers.forEach(function(t){return t.next&&t.next(e)})},error:function(e){t.lastError=e,t.observers.forEach(function(t){return t.error&&t.error(e)})}};this.queryManager.startQuery(this.queryId,this.options,this.queryManager.queryListenerForObserver(this.queryId,this.options,e))},e.prototype.tearDownQuery=function(){this.isTornDown=!0,this.isCurrentlyPolling&&(this.scheduler.stopPollingQuery(this.queryId),this.isCurrentlyPolling=!1),this.subscriptionHandles.forEach(function(t){return t.unsubscribe()}),this.subscriptionHandles=[],this.queryManager.removeObservableQuery(this.queryId),this.queryManager.stopQuery(this.queryId),this.observers=[]},e}(u.a)},72:function(t,e,r){"use strict";var o;function n(t){return t<7}r.d(e,"a",function(){return o}),r.d(e,"b",function(){return n}),function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"}(o||(o={}))},799:function(t,e,r){"use strict";var o=r(58),n=r(1980),i=r(1981),s=r(136),a=r(1087),u=r(1029),c=r(139),l=r(1982),h=r(1031),y=r(178),p=r(683),f=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(t){return this.store[t]},t.prototype.initMutation=function(t,e,r){this.store[t]={mutationString:e,variables:r||{},loading:!0,error:null}},t.prototype.markMutationError=function(t,e){var r=this.store[t];r&&(r.loading=!1,r.error=e)},t.prototype.markMutationResult=function(t){var e=this.store[t];e&&(e.loading=!1,e.error=null)},t.prototype.reset=function(){this.store={}},t}(),d=r(701),b=r(72),v=function(){return(v=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},w=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(t){return this.store[t]},t.prototype.initQuery=function(t){var e=this.store[t.queryId];if(e&&e.document!==t.document&&Object(s.a)(e.document)!==Object(s.a)(t.document))throw new Error("Internal Error: may not update existing query string in store");var r,o=!1,n=null;t.storePreviousVariables&&e&&e.networkStatus!==b.a.loading&&(Object(d.a)(e.variables,t.variables)||(o=!0,n=e.variables)),r=o?b.a.setVariables:t.isPoll?b.a.poll:t.isRefetch?b.a.refetch:b.a.loading;var i=[];e&&e.graphQLErrors&&(i=e.graphQLErrors),this.store[t.queryId]={document:t.document,variables:t.variables,previousVariables:n,networkError:null,graphQLErrors:i,networkStatus:r,metadata:t.metadata},"string"==typeof t.fetchMoreForQueryId&&this.store[t.fetchMoreForQueryId]&&(this.store[t.fetchMoreForQueryId].networkStatus=b.a.fetchMore)},t.prototype.markQueryResult=function(t,e,r){this.store&&this.store[t]&&(this.store[t].networkError=null,this.store[t].graphQLErrors=e.errors&&e.errors.length?e.errors:[],this.store[t].previousVariables=null,this.store[t].networkStatus=b.a.ready,"string"==typeof r&&this.store[r]&&(this.store[r].networkStatus=b.a.ready))},t.prototype.markQueryError=function(t,e,r){this.store&&this.store[t]&&(this.store[t].networkError=e,this.store[t].networkStatus=b.a.error,"string"==typeof r&&this.markQueryResultClient(r,!0))},t.prototype.markQueryResultClient=function(t,e){this.store&&this.store[t]&&(this.store[t].networkError=null,this.store[t].previousVariables=null,this.store[t].networkStatus=e?b.a.ready:b.a.loading)},t.prototype.stopQuery=function(t){delete this.store[t]},t.prototype.reset=function(t){var e=this;this.store=Object.keys(this.store).filter(function(e){return t.indexOf(e)>-1}).reduce(function(t,r){return t[r]=v({},e.store[r],{networkStatus:b.a.loading}),t},{})},t}(),m=r(369),g=r(208),Q=r(1974),q=function(){return(q=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},O=function(t,e,r,o){return new(r||(r=Promise))(function(n,i){function s(t){try{u(o.next(t))}catch(e){i(e)}}function a(t){try{u(o.throw(t))}catch(e){i(e)}}function u(t){t.done?n(t.value):new r(function(e){e(t.value)}).then(s,a)}u((o=o.apply(t,e||[])).next())})},k=function(t,e){var r,o,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},P=function(){function t(t){var e=t.link,r=t.queryDeduplication,n=void 0!==r&&r,i=t.store,s=t.onBroadcast,u=void 0===s?function(){}:s,c=t.ssrMode,l=void 0!==c&&c,y=t.clientAwareness,p=void 0===y?{}:y;this.mutationStore=new f,this.queryStore=new w,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryPromises=new Map,this.queryIdsByName={},this.link=e,this.deduplicator=o.a.from([new a.a,e]),this.queryDeduplication=n,this.dataStore=i,this.onBroadcast=u,this.clientAwareness=p,this.scheduler=new h.a({queryManager:this,ssrMode:l})}return t.prototype.mutate=function(t){var e=this,r=t.mutation,n=t.variables,i=t.optimisticResponse,a=t.updateQueries,l=t.refetchQueries,h=void 0===l?[]:l,p=t.awaitRefetchQueries,f=void 0!==p&&p,d=t.update,b=t.errorPolicy,v=void 0===b?"none":b,w=t.fetchPolicy,m=t.context,g=void 0===m?{}:m;if(!r)throw new Error("mutation option is required. You must specify your GraphQL document in the mutation option.");if(w&&"no-cache"!==w)throw new Error("fetchPolicy for mutations currently only supports the 'no-cache' policy");var P=this.generateQueryId(),S=this.dataStore.getCache();r=S.transformDocument(r),n=Object(u.a)({},Object(c.c)(Object(c.e)(r)),n);var E=Object(s.a)(r);this.setQuery(P,function(){return{document:r}});var I=function(){var t={};return a&&Object.keys(a).forEach(function(r){return(e.queryIdsByName[r]||[]).forEach(function(o){t[o]={updater:a[r],query:e.queryStore.get(o)}})}),t};return this.mutationStore.initMutation(P,E,n),this.dataStore.markMutationInit({mutationId:P,document:r,variables:n||{},updateQueries:I(),update:d,optimisticResponse:i}),this.broadcastQueries(),new Promise(function(t,s){var a,u,c=e.buildOperationForLink(r,n,q({},g,{optimisticResponse:i}));Object(o.c)(e.link,c).subscribe({next:function(t){Object(Q.a)(t)&&"none"===v?u=new y.a({graphQLErrors:t.errors}):(e.mutationStore.markMutationResult(P),"no-cache"!==w&&e.dataStore.markMutationResult({mutationId:P,result:t,document:r,variables:n||{},updateQueries:I(),update:d}),a=t)},error:function(t){e.mutationStore.markMutationError(P,t),e.dataStore.markMutationComplete({mutationId:P,optimisticResponse:i}),e.broadcastQueries(),e.setQuery(P,function(){return{document:void 0}}),s(new y.a({networkError:t}))},complete:function(){return O(e,void 0,void 0,function(){var t,e,r,o,n,s;return k(this,function(c){switch(c.label){case 0:if(u&&this.mutationStore.markMutationError(P,u),this.dataStore.markMutationComplete({mutationId:P,optimisticResponse:i}),this.broadcastQueries(),u)throw u;for("function"==typeof h&&(h=h(a)),t=[],e=0,r=h;e<r.length;e++)"string"!=typeof(o=r[e])?(s={query:o.query,variables:o.variables,fetchPolicy:"network-only"},o.context&&(s.context=o.context),t.push(this.query(s))):(n=this.refetchQueryByName(o))&&t.push(n);return f?[4,Promise.all(t)]:[3,2];case 1:c.sent(),c.label=2;case 2:return this.setQuery(P,function(){return{document:void 0}}),"ignore"===v&&a&&Object(Q.a)(a)&&delete a.errors,[2,a]}})}).then(t,s)}})})},t.prototype.fetchQuery=function(t,e,r,o){var n,i=this,s=e.variables,a=void 0===s?{}:s,u=e.metadata,c=void 0===u?null:u,h=e.fetchPolicy,p=void 0===h?"cache-first":h,f=this.dataStore.getCache().transformDocument(e.query),d="network-only"===p||"no-cache"===p;if(r!==g.a.refetch&&"network-only"!==p&&"no-cache"!==p){var b=this.dataStore.getCache().diff({query:f,variables:a,returnPartialData:!0,optimistic:!1});d=!b.complete||"cache-and-network"===p,n=b.result}var v=d&&"cache-only"!==p&&"standby"!==p;Object(l.a)(["live"],f)&&(v=!0);var w=this.generateRequestId(),m=this.updateQueryWatch(t,f,e);if(this.setQuery(t,function(){return{document:f,lastRequestId:w,invalidated:!0,cancel:m}}),this.invalidate(!0,o),this.queryStore.initQuery({queryId:t,document:f,storePreviousVariables:v,variables:a,isPoll:r===g.a.poll,isRefetch:r===g.a.refetch,metadata:c,fetchMoreForQueryId:o}),this.broadcastQueries(),(!v||"cache-and-network"===p)&&(this.queryStore.markQueryResultClient(t,!v),this.invalidate(!0,t,o),this.broadcastQueries()),v){var Q=this.fetchRequest({requestId:w,queryId:t,document:f,options:e,fetchMoreForQueryId:o}).catch(function(e){if(Object(y.b)(e))throw e;var r=i.getQuery(t).lastRequestId;throw w>=(r||1)&&(i.queryStore.markQueryError(t,e,o),i.invalidate(!0,t,o),i.broadcastQueries()),i.removeFetchQueryPromise(w),new y.a({networkError:e})});if("cache-and-network"!==p)return Q;Q.catch(function(){})}return Promise.resolve({data:n})},t.prototype.queryListenerForObserver=function(t,e,r){var o=this,n=!1;return function(a,u){if(o.invalidate(!1,t),a){var c=o.getQuery(t).observableQuery,l=c?c.options.fetchPolicy:e.fetchPolicy;if("standby"!==l){var h=c?c.options.errorPolicy:e.errorPolicy,p=c?c.getLastResult():null,f=c?c.getLastError():null,d=!u&&null!=a.previousVariables||"cache-only"===l||"cache-and-network"===l,v=Boolean(p&&a.networkStatus!==p.networkStatus),w=h&&(f&&f.graphQLErrors)!==a.graphQLErrors&&"none"!==h;if(!Object(b.b)(a.networkStatus)||v&&e.notifyOnNetworkStatusChange||d){if((!h||"none"===h)&&a.graphQLErrors&&a.graphQLErrors.length>0||a.networkError){var m=new y.a({graphQLErrors:a.graphQLErrors,networkError:a.networkError});if(n=!0,r.error)try{r.error(m)}catch(P){setTimeout(function(){throw P},0)}else setTimeout(function(){throw m},0),Object(i.a)()||console.info("An unhandled error was thrown because no error handler is registered for the query "+Object(s.a)(a.document));return}try{var g=void 0,Q=void 0;if(u)"no-cache"!==l&&o.setQuery(t,function(){return{newData:null}}),g=u.result,Q=!u.complete||!1;else if(p&&p.data&&!w)g=p.data,Q=!1;else{var q=o.getQuery(t).document,O=o.dataStore.getCache().diff({query:q,variables:a.previousVariables||a.variables,optimistic:!0});g=O.result,Q=!O.complete}var k=void 0;if(k=Q&&"cache-only"!==l?{data:p&&p.data,loading:Object(b.b)(a.networkStatus),networkStatus:a.networkStatus,stale:!0}:{data:g,loading:Object(b.b)(a.networkStatus),networkStatus:a.networkStatus,stale:!1},"all"===h&&a.graphQLErrors&&a.graphQLErrors.length>0&&(k.errors=a.graphQLErrors),r.next&&(n||!c||c.isDifferentFromLastResult(k)))try{r.next(k)}catch(P){setTimeout(function(){throw P},0)}n=!1}catch(S){return n=!0,void(r.error&&r.error(new y.a({networkError:S})))}}}}}},t.prototype.watchQuery=function(t,e){if(void 0===e&&(e=!0),"standby"===t.fetchPolicy)throw new Error('client.watchQuery cannot be called with fetchPolicy set to "standby"');var r=Object(c.i)(t.query);if(r.variableDefinitions&&r.variableDefinitions.length){var o=Object(c.c)(r);t.variables=Object(u.a)({},o,t.variables)}void 0===t.notifyOnNetworkStatusChange&&(t.notifyOnNetworkStatusChange=!1);var n=q({},t);return new m.a({scheduler:this.scheduler,options:n,shouldSubscribe:e})},t.prototype.query=function(t){var e=this;if(!t.query)throw new Error("query option is required. You must specify your GraphQL document in the query option.");if("Document"!==t.query.kind)throw new Error('You must wrap the query string in a "gql" tag.');if(t.returnPartialData)throw new Error("returnPartialData option only supported on watchQuery.");if(t.pollInterval)throw new Error("pollInterval option only supported on watchQuery.");var r=this.idCounter;return new Promise(function(o,n){return e.addFetchQueryPromise(r,o,n),e.watchQuery(t,!1).result().then(function(t){e.removeFetchQueryPromise(r),o(t)}).catch(function(t){e.removeFetchQueryPromise(r),n(t)})})},t.prototype.generateQueryId=function(){var t=this.idCounter.toString();return this.idCounter++,t},t.prototype.stopQueryInStore=function(t){this.queryStore.stopQuery(t),this.invalidate(!0,t),this.broadcastQueries()},t.prototype.addQueryListener=function(t,e){this.setQuery(t,function(t){var r=t.listeners;return{listeners:(void 0===r?[]:r).concat([e]),invalidate:!1}})},t.prototype.updateQueryWatch=function(t,e,r){var o=this,n=this.getQuery(t).cancel;n&&n();return this.dataStore.getCache().watch({query:e,variables:r.variables,optimistic:!0,previousResult:function(){var e=null,r=o.getQuery(t).observableQuery;if(r){var n=r.getLastResult();n&&(e=n.data)}return e},callback:function(e){o.setQuery(t,function(){return{invalidated:!0,newData:e}})}})},t.prototype.addFetchQueryPromise=function(t,e,r){this.fetchQueryPromises.set(t.toString(),{resolve:e,reject:r})},t.prototype.removeFetchQueryPromise=function(t){this.fetchQueryPromises.delete(t.toString())},t.prototype.addObservableQuery=function(t,e){this.setQuery(t,function(){return{observableQuery:e}});var r=Object(c.i)(e.options.query);if(r.name&&r.name.value){var o=r.name.value;this.queryIdsByName[o]=this.queryIdsByName[o]||[],this.queryIdsByName[o].push(e.queryId)}},t.prototype.removeObservableQuery=function(t){var e=this.getQuery(t),r=e.observableQuery,o=e.cancel;if(o&&o(),r){var n=Object(c.i)(r.options.query),i=n.name?n.name.value:null;this.setQuery(t,function(){return{observableQuery:null}}),i&&(this.queryIdsByName[i]=this.queryIdsByName[i].filter(function(t){return!(r.queryId===t)}))}},t.prototype.clearStore=function(){this.fetchQueryPromises.forEach(function(t){(0,t.reject)(new Error("Store reset while query was in flight(not completed in link chain)"))});var t=[];return this.queries.forEach(function(e,r){e.observableQuery&&t.push(r)}),this.queryStore.reset(t),this.mutationStore.reset(),this.dataStore.reset()},t.prototype.resetStore=function(){var t=this;return this.clearStore().then(function(){return t.reFetchObservableQueries()})},t.prototype.reFetchObservableQueries=function(t){var e=this.getObservableQueryPromises(t);return this.broadcastQueries(),Promise.all(e)},t.prototype.startQuery=function(t,e,r){return this.addQueryListener(t,r),this.fetchQuery(t,e).catch(function(){}),t},t.prototype.startGraphQLSubscription=function(t){var e,r=this,n=t.query,i=!(t.fetchPolicy&&"no-cache"===t.fetchPolicy),s=this.dataStore.getCache().transformDocument(n),a=Object(u.a)({},Object(c.c)(Object(c.f)(n)),t.variables),l=[];return new p.a(function(t){if(l.push(t),1===l.length){var n={next:function(t){i&&(r.dataStore.markSubscriptionResult(t,s,a),r.broadcastQueries()),l.forEach(function(e){Object(Q.a)(t)&&e.error?e.error(new y.a({graphQLErrors:t.errors})):e.next&&e.next(t)})},error:function(t){l.forEach(function(e){e.error&&e.error(t)})}},u=r.buildOperationForLink(s,a);e=Object(o.c)(r.link,u).subscribe(n)}return function(){0===(l=l.filter(function(e){return e!==t})).length&&e&&e.unsubscribe()}})},t.prototype.stopQuery=function(t){this.stopQueryInStore(t),this.removeQuery(t)},t.prototype.removeQuery=function(t){this.getQuery(t).subscriptions.forEach(function(t){return t.unsubscribe()}),this.queries.delete(t)},t.prototype.getCurrentQueryResult=function(t,e){void 0===e&&(e=!0);var r=t.options,o=r.variables,n=r.query,i=t.getLastResult(),s=this.getQuery(t.queryId).newData;if(s&&s.complete)return{data:s.result,partial:!1};try{return{data:this.dataStore.getCache().read({query:n,variables:o,previousResult:i?i.data:void 0,optimistic:e}),partial:!1}}catch(a){return{data:{},partial:!0}}},t.prototype.getQueryWithPreviousResult=function(t){var e;if("string"==typeof t){var r=this.getQuery(t).observableQuery;if(!r)throw new Error("ObservableQuery with this id doesn't exist: "+t);e=r}else e=t;var o=e.options,n=o.variables,i=o.query;return{previousResult:this.getCurrentQueryResult(e,!1).data,variables:n,document:i}},t.prototype.broadcastQueries=function(){var t=this;this.onBroadcast(),this.queries.forEach(function(e,r){e.invalidated&&e.listeners&&e.listeners.filter(function(t){return!!t}).forEach(function(o){o(t.queryStore.get(r),e.newData)})})},t.prototype.getObservableQueryPromises=function(t){var e=this,r=[];return this.queries.forEach(function(o,n){var i=o.observableQuery;if(i){var s=i.options.fetchPolicy;i.resetLastResults(),"cache-only"===s||!t&&"standby"===s||r.push(i.refetch()),e.setQuery(n,function(){return{newData:null}}),e.invalidate(!0,n)}}),r},t.prototype.fetchRequest=function(t){var e,r,n=this,i=t.requestId,s=t.queryId,a=t.document,u=t.options,c=t.fetchMoreForQueryId,l=u.variables,h=u.context,p=u.errorPolicy,f=void 0===p?"none":p,d=u.fetchPolicy,v=this.buildOperationForLink(a,l,q({},h,{forceFetch:!this.queryDeduplication}));return new Promise(function(t,u){n.addFetchQueryPromise(i,t,u);var h=Object(o.c)(n.deduplicator,v).subscribe({next:function(t){var o=n.getQuery(s).lastRequestId;if(i>=(o||1)){if("no-cache"!==d)try{n.dataStore.markQueryResult(t,a,l,c,"ignore"===f||"all"===f)}catch(h){return void u(h)}else n.setQuery(s,function(){return{newData:{result:t.data,complete:!0}}});n.queryStore.markQueryResult(s,t,c),n.invalidate(!0,s,c),n.broadcastQueries()}if(t.errors&&"none"===f)u(new y.a({graphQLErrors:t.errors}));else if("all"===f&&(r=t.errors),c||"no-cache"===d)e=t.data;else try{e=n.dataStore.getCache().read({variables:l,query:a,optimistic:!1})}catch(h){}},error:function(t){n.removeFetchQueryPromise(i),n.setQuery(s,function(t){return{subscriptions:t.subscriptions.filter(function(t){return t!==h})}}),u(t)},complete:function(){n.removeFetchQueryPromise(i),n.setQuery(s,function(t){return{subscriptions:t.subscriptions.filter(function(t){return t!==h})}}),t({data:e,errors:r,loading:!1,networkStatus:b.a.ready,stale:!1})}});n.setQuery(s,function(t){return{subscriptions:t.subscriptions.concat([h])}})})},t.prototype.refetchQueryByName=function(t){var e=this,r=this.queryIdsByName[t];if(void 0!==r)return Promise.all(r.map(function(t){return e.getQuery(t).observableQuery}).filter(function(t){return!!t}).map(function(t){return t.refetch()}))},t.prototype.generateRequestId=function(){var t=this.idCounter;return this.idCounter++,t},t.prototype.getQuery=function(t){return this.queries.get(t)||{listeners:[],invalidated:!1,document:null,newData:null,lastRequestId:null,observableQuery:null,subscriptions:[]}},t.prototype.setQuery=function(t,e){var r=this.getQuery(t),o=q({},r,e(r));this.queries.set(t,o)},t.prototype.invalidate=function(t,e,r){e&&this.setQuery(e,function(){return{invalidated:t}}),r&&this.setQuery(r,function(){return{invalidated:t}})},t.prototype.buildOperationForLink=function(t,e,r){var o=this.dataStore.getCache();return{query:o.transformForLink?o.transformForLink(t):t,variables:e,operationName:Object(c.h)(t)||void 0,context:q({},r,{cache:o,getCacheKey:function(t){if(o.config)return o.config.dataIdFromObject(t);throw new Error("To use context.getCacheKey, you need to use a cache that has a configurable dataIdFromObject, like apollo-cache-inmemory.")},clientAwareness:this.clientAwareness})}},t}(),S=function(){function t(t){this.cache=t}return t.prototype.getCache=function(){return this.cache},t.prototype.markQueryResult=function(t,e,r,o,n){void 0===n&&(n=!1);var i=!Object(Q.a)(t);n&&Object(Q.a)(t)&&t.data&&(i=!0),!o&&i&&this.cache.write({result:t.data,dataId:"ROOT_QUERY",query:e,variables:r})},t.prototype.markSubscriptionResult=function(t,e,r){Object(Q.a)(t)||this.cache.write({result:t.data,dataId:"ROOT_SUBSCRIPTION",query:e,variables:r})},t.prototype.markMutationInit=function(t){var e=this;if(t.optimisticResponse){var r;r="function"==typeof t.optimisticResponse?t.optimisticResponse(t.variables):t.optimisticResponse;this.cache.recordOptimisticTransaction(function(o){var n=e.cache;e.cache=o;try{e.markMutationResult({mutationId:t.mutationId,result:{data:r},document:t.document,variables:t.variables,updateQueries:t.updateQueries,update:t.update})}finally{e.cache=n}},t.mutationId)}},t.prototype.markMutationResult=function(t){var e=this;if(!Object(Q.a)(t.result)){var r=[];r.push({result:t.result.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}),t.updateQueries&&Object.keys(t.updateQueries).filter(function(e){return t.updateQueries[e]}).forEach(function(o){var n=t.updateQueries[o],i=n.query,s=n.updater,a=e.cache.diff({query:i.document,variables:i.variables,returnPartialData:!0,optimistic:!1}),u=a.result;if(a.complete){var l=Object(Q.b)(function(){return s(u,{mutationResult:t.result,queryName:Object(c.h)(i.document)||void 0,queryVariables:i.variables})});l&&r.push({result:l,dataId:"ROOT_QUERY",query:i.document,variables:i.variables})}}),this.cache.performTransaction(function(t){r.forEach(function(e){return t.write(e)})});var o=t.update;o&&this.cache.performTransaction(function(e){Object(Q.b)(function(){return o(e,t.result)})})}},t.prototype.markMutationComplete=function(t){var e=t.mutationId;t.optimisticResponse&&this.cache.removeOptimistic(e)},t.prototype.markUpdateQueryResult=function(t,e,r){this.cache.write({result:r,dataId:"ROOT_QUERY",variables:e,query:t})},t.prototype.reset=function(){return this.cache.reset()},t}(),E=r(1030),I=function(){return(I=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},R=!1,M=function(){function t(t){var e=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clientAwareness={};var r=t.link,s=t.cache,a=t.ssrMode,u=void 0!==a&&a,c=t.ssrForceFetchDelay,l=void 0===c?0:c,h=t.connectToDevTools,y=t.queryDeduplication,p=void 0===y||y,f=t.defaultOptions,d=t.name,b=t.version;if(!r||!s)throw new Error("\n        In order to initialize Apollo Client, you must specify link & cache properties on the config object.\n        This is part of the required upgrade when migrating from Apollo Client 1.0 to Apollo Client 2.0.\n        For more information, please visit:\n          https://www.apollographql.com/docs/react/basics/setup.html\n        to help you get started.\n      ");var v=new Map,w=new o.a(function(t,e){var r=v.get(t.query);return r||(r=Object(n.a)(t.query),v.set(t.query,r),v.set(r,r)),t.query=r,e(t)});this.link=w.concat(r),this.cache=s,this.store=new S(s),this.disableNetworkFetches=u||l>0,this.queryDeduplication=p,this.ssrMode=u,this.defaultOptions=f||{},l&&setTimeout(function(){return e.disableNetworkFetches=!1},l),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var m=!Object(i.a)()&&"undefined"!=typeof window&&!window.__APOLLO_CLIENT__;(void 0===h?m:h&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),R||Object(i.a)()||(R=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&void 0===window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Chrome")>-1&&console.debug("Download the Apollo DevTools for a better development experience: https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")),this.version=E.version,d&&(this.clientAwareness.name=d),b&&(this.clientAwareness.version=b)}return t.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=I({},this.defaultOptions.watchQuery,t)),!this.disableNetworkFetches||"network-only"!==t.fetchPolicy&&"cache-and-network"!==t.fetchPolicy||(t=I({},t,{fetchPolicy:"cache-first"})),this.initQueryManager().watchQuery(t)},t.prototype.query=function(t){if(this.defaultOptions.query&&(t=I({},this.defaultOptions.query,t)),"cache-and-network"===t.fetchPolicy)throw new Error("cache-and-network fetchPolicy can only be used with watchQuery");return this.disableNetworkFetches&&"network-only"===t.fetchPolicy&&(t=I({},t,{fetchPolicy:"cache-first"})),this.initQueryManager().query(t)},t.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=I({},this.defaultOptions.mutate,t)),this.initQueryManager().mutate(t)},t.prototype.subscribe=function(t){return this.initQueryManager().startGraphQLSubscription(t)},t.prototype.readQuery=function(t,e){return void 0===e&&(e=!1),this.initProxy().readQuery(t,e)},t.prototype.readFragment=function(t,e){return void 0===e&&(e=!1),this.initProxy().readFragment(t,e)},t.prototype.writeQuery=function(t){var e=this.initProxy().writeQuery(t);return this.initQueryManager().broadcastQueries(),e},t.prototype.writeFragment=function(t){var e=this.initProxy().writeFragment(t);return this.initQueryManager().broadcastQueries(),e},t.prototype.writeData=function(t){var e=this.initProxy().writeData(t);return this.initQueryManager().broadcastQueries(),e},t.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},t.prototype.__requestRaw=function(t){return Object(o.c)(this.link,t)},t.prototype.initQueryManager=function(){var t=this;return this.queryManager||(this.queryManager=new P({link:this.link,store:this.store,queryDeduplication:this.queryDeduplication,ssrMode:this.ssrMode,clientAwareness:this.clientAwareness,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager?t.queryManager.queryStore.getStore():{},mutations:t.queryManager?t.queryManager.mutationStore.getStore():{}},dataWithOptimisticResults:t.cache.extract(!0)})}})),this.queryManager},t.prototype.resetStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager?t.queryManager.clearStore():Promise.resolve(null)}).then(function(){return Promise.all(t.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return t.queryManager&&t.queryManager.reFetchObservableQueries?t.queryManager.reFetchObservableQueries():Promise.resolve(null)})},t.prototype.clearStore=function(){var t=this.queryManager;return Promise.resolve().then(function(){return t?t.clearStore():Promise.resolve(null)})},t.prototype.onResetStore=function(t){var e=this;return this.resetStoreCallbacks.push(t),function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter(function(e){return e!==t})}},t.prototype.reFetchObservableQueries=function(t){return this.queryManager?this.queryManager.reFetchObservableQueries(t):Promise.resolve(null)},t.prototype.extract=function(t){return this.initProxy().extract(t)},t.prototype.restore=function(t){return this.initProxy().restore(t)},t.prototype.initProxy=function(){return this.proxy||(this.initQueryManager(),this.proxy=this.cache),this.proxy},t}();e.a=M}}]);